import{r as lr,a as cr,g as dr}from"./vendor-D3F3s8fL.js";import{r as l,R as ur,I as K,_ as Z,L as Lt,M as hr,a as ss,S as W,D as Bs,A as Is,T as pe,C as N,F as v,b as L,B as O,s as j,c as z,d as Ve,e as Ce,f as bt,g as ns,h as G,i as ie,j as U,k as J,l as lt,P as Te,m as $e,n as We,o as Le,p as fe,q as ne,t as le,u as Re,v as Xs,w as es,x as pr,y as fr,z as mr,E as gr,G as xs,H as Tt,J as xr,K as nt,N as Ys,O as ys,Q as Kt,U as yr,V as vr,W as br}from"./antd-BihXNmcy.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const o of a.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var vs={exports:{}},$t={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var en;function jr(){if(en)return $t;en=1;var s=lr(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=s.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function o(d,c,p){var h,m={},A=null,f=null;p!==void 0&&(A=""+p),c.key!==void 0&&(A=""+c.key),c.ref!==void 0&&(f=c.ref);for(h in c)r.call(c,h)&&!a.hasOwnProperty(h)&&(m[h]=c[h]);if(d&&d.defaultProps)for(h in c=d.defaultProps,c)m[h]===void 0&&(m[h]=c[h]);return{$$typeof:e,type:d,key:A,ref:f,props:m,_owner:i.current}}return $t.Fragment=n,$t.jsx=o,$t.jsxs=o,$t}var tn;function wr(){return tn||(tn=1,vs.exports=jr()),vs.exports}var t=wr(),Zt={},sn;function Sr(){if(sn)return Zt;sn=1;var s=cr();return Zt.createRoot=s.createRoot,Zt.hydrateRoot=s.hydrateRoot,Zt}var Cr=Sr();const _r=dr(Cr);/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ut(){return Ut=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},Ut.apply(this,arguments)}var it;(function(s){s.Pop="POP",s.Push="PUSH",s.Replace="REPLACE"})(it||(it={}));const nn="popstate";function kr(s){s===void 0&&(s={});function e(r,i){let{pathname:a,search:o,hash:d}=r.location;return As("",{pathname:a,search:o,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:rs(i)}return Ar(e,n,null,s)}function re(s,e){if(s===!1||s===null||typeof s>"u")throw new Error(e)}function Mn(s,e){if(!s){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function Ir(){return Math.random().toString(36).substr(2,8)}function rn(s,e){return{usr:s.state,key:s.key,idx:e}}function As(s,e,n,r){return n===void 0&&(n=null),Ut({pathname:typeof s=="string"?s:s.pathname,search:"",hash:""},typeof e=="string"?Et(e):e,{state:n,key:e&&e.key||r||Ir()})}function rs(s){let{pathname:e="/",search:n="",hash:r=""}=s;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Et(s){let e={};if(s){let n=s.indexOf("#");n>=0&&(e.hash=s.substr(n),s=s.substr(0,n));let r=s.indexOf("?");r>=0&&(e.search=s.substr(r),s=s.substr(0,r)),s&&(e.pathname=s)}return e}function Ar(s,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,o=i.history,d=it.Pop,c=null,p=h();p==null&&(p=0,o.replaceState(Ut({},o.state,{idx:p}),""));function h(){return(o.state||{idx:null}).idx}function m(){d=it.Pop;let w=h(),P=w==null?null:w-p;p=w,c&&c({action:d,location:T.location,delta:P})}function A(w,P){d=it.Push;let B=As(T.location,w,P);p=h()+1;let k=rn(B,p),$=T.createHref(B);try{o.pushState(k,"",$)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign($)}a&&c&&c({action:d,location:T.location,delta:1})}function f(w,P){d=it.Replace;let B=As(T.location,w,P);p=h();let k=rn(B,p),$=T.createHref(B);o.replaceState(k,"",$),a&&c&&c({action:d,location:T.location,delta:0})}function D(w){let P=i.location.origin!=="null"?i.location.origin:i.location.href,B=typeof w=="string"?w:rs(w);return B=B.replace(/ $/,"%20"),re(P,"No window.location.(origin|href) available to create URL for href: "+B),new URL(B,P)}let T={get action(){return d},get location(){return s(i,o)},listen(w){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(nn,m),c=w,()=>{i.removeEventListener(nn,m),c=null}},createHref(w){return e(i,w)},createURL:D,encodeLocation(w){let P=D(w);return{pathname:P.pathname,search:P.search,hash:P.hash}},push:A,replace:f,go(w){return o.go(w)}};return T}var an;(function(s){s.data="data",s.deferred="deferred",s.redirect="redirect",s.error="error"})(an||(an={}));function Er(s,e,n){return n===void 0&&(n="/"),Pr(s,e,n)}function Pr(s,e,n,r){let i=typeof e=="string"?Et(e):e,a=zs(i.pathname||"/",n);if(a==null)return null;let o=Tn(s);Dr(o);let d=null;for(let c=0;d==null&&c<o.length;++c){let p=qr(a);d=Lr(o[c],p)}return d}function Tn(s,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,o,d)=>{let c={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:o,route:a};c.relativePath.startsWith("/")&&(re(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let p=ot([r,c.relativePath]),h=n.concat(c);a.children&&a.children.length>0&&(re(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),Tn(a.children,e,h,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:Br(p,a.index),routesMeta:h})};return s.forEach((a,o)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,o);else for(let c of $n(a.path))i(a,o,c)}),e}function $n(s){let e=s.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let o=$n(r.join("/")),d=[];return d.push(...o.map(c=>c===""?a:[a,c].join("/"))),i&&d.push(...o),d.map(c=>s.startsWith("/")&&c===""?"/":c)}function Dr(s){s.sort((e,n)=>e.score!==n.score?n.score-e.score:zr(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Rr=/^:[\w-]+$/,Mr=3,Tr=2,$r=1,Fr=10,Or=-2,on=s=>s==="*";function Br(s,e){let n=s.split("/"),r=n.length;return n.some(on)&&(r+=Or),e&&(r+=Tr),n.filter(i=>!on(i)).reduce((i,a)=>i+(Rr.test(a)?Mr:a===""?$r:Fr),r)}function zr(s,e){return s.length===e.length&&s.slice(0,-1).every((r,i)=>r===e[i])?s[s.length-1]-e[e.length-1]:0}function Lr(s,e,n){let{routesMeta:r}=s,i={},a="/",o=[];for(let d=0;d<r.length;++d){let c=r[d],p=d===r.length-1,h=a==="/"?e:e.slice(a.length)||"/",m=Ur({path:c.relativePath,caseSensitive:c.caseSensitive,end:p},h),A=c.route;if(!m)return null;Object.assign(i,m.params),o.push({params:i,pathname:ot([a,m.pathname]),pathnameBase:Qr(ot([a,m.pathnameBase])),route:A}),m.pathnameBase!=="/"&&(a=ot([a,m.pathnameBase]))}return o}function Ur(s,e){typeof s=="string"&&(s={path:s,caseSensitive:!1,end:!0});let[n,r]=Nr(s.path,s.caseSensitive,s.end),i=e.match(n);if(!i)return null;let a=i[0],o=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,h,m)=>{let{paramName:A,isOptional:f}=h;if(A==="*"){let T=d[m]||"";o=a.slice(0,a.length-T.length).replace(/(.)\/+$/,"$1")}const D=d[m];return f&&!D?p[A]=void 0:p[A]=(D||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:o,pattern:s}}function Nr(s,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Mn(s==="*"||!s.endsWith("*")||s.endsWith("/*"),'Route path "'+s+'" will be treated as if it were '+('"'+s.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+s.replace(/\*$/,"/*")+'".'));let r=[],i="^"+s.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,d,c)=>(r.push({paramName:d,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return s.endsWith("*")?(r.push({paramName:"*"}),i+=s==="*"||s==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":s!==""&&s!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function qr(s){try{return s.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Mn(!1,'The URL path "'+s+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),s}}function zs(s,e){if(e==="/")return s;if(!s.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=s.charAt(n);return r&&r!=="/"?null:s.slice(n)||"/"}function Hr(s,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof s=="string"?Et(s):s;return{pathname:n?n.startsWith("/")?n:Vr(n,e):e,search:Kr(r),hash:Zr(i)}}function Vr(s,e){let n=e.replace(/\/+$/,"").split("/");return s.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function bs(s,e,n,r){return"Cannot include a '"+s+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Wr(s){return s.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ls(s,e){let n=Wr(s);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Us(s,e,n,r){r===void 0&&(r=!1);let i;typeof s=="string"?i=Et(s):(i=Ut({},s),re(!i.pathname||!i.pathname.includes("?"),bs("?","pathname","search",i)),re(!i.pathname||!i.pathname.includes("#"),bs("#","pathname","hash",i)),re(!i.search||!i.search.includes("#"),bs("#","search","hash",i)));let a=s===""||i.pathname==="",o=a?"/":i.pathname,d;if(o==null)d=n;else{let m=e.length-1;if(!r&&o.startsWith("..")){let A=o.split("/");for(;A[0]==="..";)A.shift(),m-=1;i.pathname=A.join("/")}d=m>=0?e[m]:"/"}let c=Hr(i,d),p=o&&o!=="/"&&o.endsWith("/"),h=(a||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(p||h)&&(c.pathname+="/"),c}const ot=s=>s.join("/").replace(/\/\/+/g,"/"),Qr=s=>s.replace(/\/+$/,"").replace(/^\/*/,"/"),Kr=s=>!s||s==="?"?"":s.startsWith("?")?s:"?"+s,Zr=s=>!s||s==="#"?"":s.startsWith("#")?s:"#"+s;function Jr(s){return s!=null&&typeof s.status=="number"&&typeof s.statusText=="string"&&typeof s.internal=="boolean"&&"data"in s}const Fn=["post","put","patch","delete"];new Set(Fn);const Gr=["get",...Fn];new Set(Gr);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Nt(){return Nt=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},Nt.apply(this,arguments)}const Ns=l.createContext(null),Xr=l.createContext(null),ct=l.createContext(null),ls=l.createContext(null),dt=l.createContext({outlet:null,matches:[],isDataRoute:!1}),On=l.createContext(null);function Yr(s,e){let{relative:n}=e===void 0?{}:e;Pt()||re(!1);let{basename:r,navigator:i}=l.useContext(ct),{hash:a,pathname:o,search:d}=zn(s,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:ot([r,o])),i.createHref({pathname:c,search:d,hash:a})}function Pt(){return l.useContext(ls)!=null}function Ke(){return Pt()||re(!1),l.useContext(ls).location}function Bn(s){l.useContext(ct).static||l.useLayoutEffect(s)}function Dt(){let{isDataRoute:s}=l.useContext(dt);return s?hi():ei()}function ei(){Pt()||re(!1);let s=l.useContext(Ns),{basename:e,future:n,navigator:r}=l.useContext(ct),{matches:i}=l.useContext(dt),{pathname:a}=Ke(),o=JSON.stringify(Ls(i,n.v7_relativeSplatPath)),d=l.useRef(!1);return Bn(()=>{d.current=!0}),l.useCallback(function(p,h){if(h===void 0&&(h={}),!d.current)return;if(typeof p=="number"){r.go(p);return}let m=Us(p,JSON.parse(o),a,h.relative==="path");s==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:ot([e,m.pathname])),(h.replace?r.replace:r.push)(m,h.state,h)},[e,r,o,a,s])}function zn(s,e){let{relative:n}=e===void 0?{}:e,{future:r}=l.useContext(ct),{matches:i}=l.useContext(dt),{pathname:a}=Ke(),o=JSON.stringify(Ls(i,r.v7_relativeSplatPath));return l.useMemo(()=>Us(s,JSON.parse(o),a,n==="path"),[s,o,a,n])}function ti(s,e){return si(s,e)}function si(s,e,n,r){Pt()||re(!1);let{navigator:i}=l.useContext(ct),{matches:a}=l.useContext(dt),o=a[a.length-1],d=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let p=Ke(),h;if(e){var m;let w=typeof e=="string"?Et(e):e;c==="/"||(m=w.pathname)!=null&&m.startsWith(c)||re(!1),h=w}else h=p;let A=h.pathname||"/",f=A;if(c!=="/"){let w=c.replace(/^\//,"").split("/");f="/"+A.replace(/^\//,"").split("/").slice(w.length).join("/")}let D=Er(s,{pathname:f}),T=oi(D&&D.map(w=>Object.assign({},w,{params:Object.assign({},d,w.params),pathname:ot([c,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?c:ot([c,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),a,n,r);return e&&T?l.createElement(ls.Provider,{value:{location:Nt({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:it.Pop}},T):T}function ni(){let s=ui(),e=Jr(s)?s.status+" "+s.statusText:s instanceof Error?s.message:JSON.stringify(s),n=s instanceof Error?s.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return l.createElement(l.Fragment,null,l.createElement("h2",null,"Unexpected Application Error!"),l.createElement("h3",{style:{fontStyle:"italic"}},e),n?l.createElement("pre",{style:i},n):null,null)}const ri=l.createElement(ni,null);class ii extends l.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?l.createElement(dt.Provider,{value:this.props.routeContext},l.createElement(On.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function ai(s){let{routeContext:e,match:n,children:r}=s,i=l.useContext(Ns);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),l.createElement(dt.Provider,{value:e},r)}function oi(s,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),s==null){var a;if(!n)return null;if(n.errors)s=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)s=n.matches;else return null}let o=s,d=(i=n)==null?void 0:i.errors;if(d!=null){let h=o.findIndex(m=>m.route.id&&d?.[m.route.id]!==void 0);h>=0||re(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let m=o[h];if((m.route.HydrateFallback||m.route.hydrateFallbackElement)&&(p=h),m.route.id){let{loaderData:A,errors:f}=n,D=m.route.loader&&A[m.route.id]===void 0&&(!f||f[m.route.id]===void 0);if(m.route.lazy||D){c=!0,p>=0?o=o.slice(0,p+1):o=[o[0]];break}}}return o.reduceRight((h,m,A)=>{let f,D=!1,T=null,w=null;n&&(f=d&&m.route.id?d[m.route.id]:void 0,T=m.route.errorElement||ri,c&&(p<0&&A===0?(pi("route-fallback"),D=!0,w=null):p===A&&(D=!0,w=m.route.hydrateFallbackElement||null)));let P=e.concat(o.slice(0,A+1)),B=()=>{let k;return f?k=T:D?k=w:m.route.Component?k=l.createElement(m.route.Component,null):m.route.element?k=m.route.element:k=h,l.createElement(ai,{match:m,routeContext:{outlet:h,matches:P,isDataRoute:n!=null},children:k})};return n&&(m.route.ErrorBoundary||m.route.errorElement||A===0)?l.createElement(ii,{location:n.location,revalidation:n.revalidation,component:T,error:f,children:B(),routeContext:{outlet:null,matches:P,isDataRoute:!0}}):B()},null)}var Ln=(function(s){return s.UseBlocker="useBlocker",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s})(Ln||{}),Un=(function(s){return s.UseBlocker="useBlocker",s.UseLoaderData="useLoaderData",s.UseActionData="useActionData",s.UseRouteError="useRouteError",s.UseNavigation="useNavigation",s.UseRouteLoaderData="useRouteLoaderData",s.UseMatches="useMatches",s.UseRevalidator="useRevalidator",s.UseNavigateStable="useNavigate",s.UseRouteId="useRouteId",s})(Un||{});function li(s){let e=l.useContext(Ns);return e||re(!1),e}function ci(s){let e=l.useContext(Xr);return e||re(!1),e}function di(s){let e=l.useContext(dt);return e||re(!1),e}function Nn(s){let e=di(),n=e.matches[e.matches.length-1];return n.route.id||re(!1),n.route.id}function ui(){var s;let e=l.useContext(On),n=ci(),r=Nn();return e!==void 0?e:(s=n.errors)==null?void 0:s[r]}function hi(){let{router:s}=li(Ln.UseNavigateStable),e=Nn(Un.UseNavigateStable),n=l.useRef(!1);return Bn(()=>{n.current=!0}),l.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?s.navigate(i):s.navigate(i,Nt({fromRouteId:e},a)))},[s,e])}const ln={};function pi(s,e,n){ln[s]||(ln[s]=!0)}function fi(s,e){s?.v7_startTransition,s?.v7_relativeSplatPath}function Es(s){let{to:e,replace:n,state:r,relative:i}=s;Pt()||re(!1);let{future:a,static:o}=l.useContext(ct),{matches:d}=l.useContext(dt),{pathname:c}=Ke(),p=Dt(),h=Us(e,Ls(d,a.v7_relativeSplatPath),c,i==="path"),m=JSON.stringify(h);return l.useEffect(()=>p(JSON.parse(m),{replace:n,state:r,relative:i}),[p,m,i,n,r]),null}function xe(s){re(!1)}function mi(s){let{basename:e="/",children:n=null,location:r,navigationType:i=it.Pop,navigator:a,static:o=!1,future:d}=s;Pt()&&re(!1);let c=e.replace(/^\/*/,"/"),p=l.useMemo(()=>({basename:c,navigator:a,static:o,future:Nt({v7_relativeSplatPath:!1},d)}),[c,d,a,o]);typeof r=="string"&&(r=Et(r));let{pathname:h="/",search:m="",hash:A="",state:f=null,key:D="default"}=r,T=l.useMemo(()=>{let w=zs(h,c);return w==null?null:{location:{pathname:w,search:m,hash:A,state:f,key:D},navigationType:i}},[c,h,m,A,f,D,i]);return T==null?null:l.createElement(ct.Provider,{value:p},l.createElement(ls.Provider,{children:n,value:T}))}function qn(s){let{children:e,location:n}=s;return ti(Ps(e),n)}new Promise(()=>{});function Ps(s,e){e===void 0&&(e=[]);let n=[];return l.Children.forEach(s,(r,i)=>{if(!l.isValidElement(r))return;let a=[...e,i];if(r.type===l.Fragment){n.push.apply(n,Ps(r.props.children,a));return}r.type!==xe&&re(!1),!r.props.index||!r.props.children||re(!1);let o={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Ps(r.props.children,a)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ds(){return Ds=Object.assign?Object.assign.bind():function(s){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(s[r]=n[r])}return s},Ds.apply(this,arguments)}function gi(s,e){if(s==null)return{};var n={},r=Object.keys(s),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=s[i]);return n}function xi(s){return!!(s.metaKey||s.altKey||s.ctrlKey||s.shiftKey)}function yi(s,e){return s.button===0&&(!e||e==="_self")&&!xi(s)}const vi=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],bi="6";try{window.__reactRouterVersion=bi}catch{}const ji="startTransition",cn=ur[ji];function wi(s){let{basename:e,children:n,future:r,window:i}=s,a=l.useRef();a.current==null&&(a.current=kr({window:i,v5Compat:!0}));let o=a.current,[d,c]=l.useState({action:o.action,location:o.location}),{v7_startTransition:p}=r||{},h=l.useCallback(m=>{p&&cn?cn(()=>c(m)):c(m)},[c,p]);return l.useLayoutEffect(()=>o.listen(h),[o,h]),l.useEffect(()=>fi(r),[r]),l.createElement(mi,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:o,future:r})}const Si=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Ci=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,Hn=l.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:o,state:d,target:c,to:p,preventScrollReset:h,viewTransition:m}=e,A=gi(e,vi),{basename:f}=l.useContext(ct),D,T=!1;if(typeof p=="string"&&Ci.test(p)&&(D=p,Si))try{let k=new URL(window.location.href),$=p.startsWith("//")?new URL(k.protocol+p):new URL(p),_=zs($.pathname,f);$.origin===k.origin&&_!=null?p=_+$.search+$.hash:T=!0}catch{}let w=Yr(p,{relative:i}),P=_i(p,{replace:o,state:d,target:c,preventScrollReset:h,relative:i,viewTransition:m});function B(k){r&&r(k),k.defaultPrevented||P(k)}return l.createElement("a",Ds({},A,{href:D||w,onClick:T||a?r:B,ref:n,target:c}))});var dn;(function(s){s.UseScrollRestoration="useScrollRestoration",s.UseSubmit="useSubmit",s.UseSubmitFetcher="useSubmitFetcher",s.UseFetcher="useFetcher",s.useViewTransitionState="useViewTransitionState"})(dn||(dn={}));var un;(function(s){s.UseFetcher="useFetcher",s.UseFetchers="useFetchers",s.UseScrollRestoration="useScrollRestoration"})(un||(un={}));function _i(s,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:o,viewTransition:d}=e===void 0?{}:e,c=Dt(),p=Ke(),h=zn(s,{relative:o});return l.useCallback(m=>{if(yi(m,n)){m.preventDefault();let A=r!==void 0?r:rs(p)===rs(h);c(s,{replace:A,state:i,preventScrollReset:a,relative:o,viewTransition:d})}},[p,c,h,r,i,n,s,a,o,d])}class cs{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(e){const n={listener:e};return this.listeners.add(n),this.onSubscribe(),()=>{this.listeners.delete(n),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}}const qs=typeof window>"u"||"Deno"in window;function De(){}function ki(s,e){return typeof s=="function"?s(e):s}function Ii(s){return typeof s=="number"&&s>=0&&s!==1/0}function Ai(s,e){return Math.max(s+(e||0)-Date.now(),0)}function Jt(s,e,n){return ds(s)?typeof e=="function"?{...n,queryKey:s,queryFn:e}:{...e,queryKey:s}:s}function rt(s,e,n){return ds(s)?[{...e,queryKey:s},n]:[s||{},e]}function hn(s,e){const{type:n="all",exact:r,fetchStatus:i,predicate:a,queryKey:o,stale:d}=s;if(ds(o)){if(r){if(e.queryHash!==Hs(o,e.options))return!1}else if(!is(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof d=="boolean"&&e.isStale()!==d||typeof i<"u"&&i!==e.state.fetchStatus||a&&!a(e))}function pn(s,e){const{exact:n,fetching:r,predicate:i,mutationKey:a}=s;if(ds(a)){if(!e.options.mutationKey)return!1;if(n){if(yt(e.options.mutationKey)!==yt(a))return!1}else if(!is(e.options.mutationKey,a))return!1}return!(typeof r=="boolean"&&e.state.status==="loading"!==r||i&&!i(e))}function Hs(s,e){return(e?.queryKeyHashFn||yt)(s)}function yt(s){return JSON.stringify(s,(e,n)=>Rs(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function is(s,e){return Vn(s,e)}function Vn(s,e){return s===e?!0:typeof s!=typeof e?!1:s&&e&&typeof s=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!Vn(s[n],e[n])):!1}function Wn(s,e){if(s===e)return s;const n=fn(s)&&fn(e);if(n||Rs(s)&&Rs(e)){const r=n?s.length:Object.keys(s).length,i=n?e:Object.keys(e),a=i.length,o=n?[]:{};let d=0;for(let c=0;c<a;c++){const p=n?c:i[c];o[p]=Wn(s[p],e[p]),o[p]===s[p]&&d++}return r===a&&d===r?s:o}return e}function fn(s){return Array.isArray(s)&&s.length===Object.keys(s).length}function Rs(s){if(!mn(s))return!1;const e=s.constructor;if(typeof e>"u")return!0;const n=e.prototype;return!(!mn(n)||!n.hasOwnProperty("isPrototypeOf"))}function mn(s){return Object.prototype.toString.call(s)==="[object Object]"}function ds(s){return Array.isArray(s)}function Qn(s){return new Promise(e=>{setTimeout(e,s)})}function gn(s){Qn(0).then(s)}function Ei(){if(typeof AbortController=="function")return new AbortController}function Pi(s,e,n){return n.isDataEqual!=null&&n.isDataEqual(s,e)?s:typeof n.structuralSharing=="function"?n.structuralSharing(s,e):n.structuralSharing!==!1?Wn(s,e):e}class Di extends cs{constructor(){super(),this.setup=e=>{if(!qs&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),window.addEventListener("focus",n,!1),()=>{window.removeEventListener("visibilitychange",n),window.removeEventListener("focus",n)}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()})}setFocused(e){this.focused!==e&&(this.focused=e,this.onFocus())}onFocus(){this.listeners.forEach(({listener:e})=>{e()})}isFocused(){return typeof this.focused=="boolean"?this.focused:typeof document>"u"?!0:[void 0,"visible","prerender"].includes(document.visibilityState)}}const Ms=new Di,xn=["online","offline"];class Ri extends cs{constructor(){super(),this.setup=e=>{if(!qs&&window.addEventListener){const n=()=>e();return xn.forEach(r=>{window.addEventListener(r,n,!1)}),()=>{xn.forEach(r=>{window.removeEventListener(r,n)})}}}}onSubscribe(){this.cleanup||this.setEventListener(this.setup)}onUnsubscribe(){if(!this.hasListeners()){var e;(e=this.cleanup)==null||e.call(this),this.cleanup=void 0}}setEventListener(e){var n;this.setup=e,(n=this.cleanup)==null||n.call(this),this.cleanup=e(r=>{typeof r=="boolean"?this.setOnline(r):this.onOnline()})}setOnline(e){this.online!==e&&(this.online=e,this.onOnline())}onOnline(){this.listeners.forEach(({listener:e})=>{e()})}isOnline(){return typeof this.online=="boolean"?this.online:typeof navigator>"u"||typeof navigator.onLine>"u"?!0:navigator.onLine}}const as=new Ri;function Mi(s){return Math.min(1e3*2**s,3e4)}function Vs(s){return(s??"online")==="online"?as.isOnline():!0}class Kn{constructor(e){this.revert=e?.revert,this.silent=e?.silent}}function js(s){return s instanceof Kn}function Zn(s){let e=!1,n=0,r=!1,i,a,o;const d=new Promise((w,P)=>{a=w,o=P}),c=w=>{r||(f(new Kn(w)),s.abort==null||s.abort())},p=()=>{e=!0},h=()=>{e=!1},m=()=>!Ms.isFocused()||s.networkMode!=="always"&&!as.isOnline(),A=w=>{r||(r=!0,s.onSuccess==null||s.onSuccess(w),i?.(),a(w))},f=w=>{r||(r=!0,s.onError==null||s.onError(w),i?.(),o(w))},D=()=>new Promise(w=>{i=P=>{const B=r||!m();return B&&w(P),B},s.onPause==null||s.onPause()}).then(()=>{i=void 0,r||s.onContinue==null||s.onContinue()}),T=()=>{if(r)return;let w;try{w=s.fn()}catch(P){w=Promise.reject(P)}Promise.resolve(w).then(A).catch(P=>{var B,k;if(r)return;const $=(B=s.retry)!=null?B:3,_=(k=s.retryDelay)!=null?k:Mi,C=typeof _=="function"?_(n,P):_,x=$===!0||typeof $=="number"&&n<$||typeof $=="function"&&$(n,P);if(e||!x){f(P);return}n++,s.onFail==null||s.onFail(n,P),Qn(C).then(()=>{if(m())return D()}).then(()=>{e?f(P):T()})})};return Vs(s.networkMode)?T():D().then(T),{promise:d,cancel:c,continue:()=>i?.()?d:Promise.resolve(),cancelRetry:p,continueRetry:h}}const Ws=console;function Ti(){let s=[],e=0,n=h=>{h()},r=h=>{h()};const i=h=>{let m;e++;try{m=h()}finally{e--,e||d()}return m},a=h=>{e?s.push(h):gn(()=>{n(h)})},o=h=>(...m)=>{a(()=>{h(...m)})},d=()=>{const h=s;s=[],h.length&&gn(()=>{r(()=>{h.forEach(m=>{n(m)})})})};return{batch:i,batchCalls:o,schedule:a,setNotifyFunction:h=>{n=h},setBatchNotifyFunction:h=>{r=h}}}const je=Ti();class Jn{destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),Ii(this.cacheTime)&&(this.gcTimeout=setTimeout(()=>{this.optionalRemove()},this.cacheTime))}updateCacheTime(e){this.cacheTime=Math.max(this.cacheTime||0,e??(qs?1/0:300*1e3))}clearGcTimeout(){this.gcTimeout&&(clearTimeout(this.gcTimeout),this.gcTimeout=void 0)}}class $i extends Jn{constructor(e){super(),this.abortSignalConsumed=!1,this.defaultOptions=e.defaultOptions,this.setOptions(e.options),this.observers=[],this.cache=e.cache,this.logger=e.logger||Ws,this.queryKey=e.queryKey,this.queryHash=e.queryHash,this.initialState=e.state||Fi(this.options),this.state=this.initialState,this.scheduleGc()}get meta(){return this.options.meta}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&this.cache.remove(this)}setData(e,n){const r=Pi(this.state.data,e,this.options);return this.dispatch({data:r,type:"success",dataUpdatedAt:n?.updatedAt,manual:n?.manual}),r}setState(e,n){this.dispatch({type:"setState",state:e,setStateOptions:n})}cancel(e){var n;const r=this.promise;return(n=this.retryer)==null||n.cancel(e),r?r.then(De).catch(De):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(this.initialState)}isActive(){return this.observers.some(e=>e.options.enabled!==!1)}isDisabled(){return this.getObserversCount()>0&&!this.isActive()}isStale(){return this.state.isInvalidated||!this.state.dataUpdatedAt||this.observers.some(e=>e.getCurrentResult().isStale)}isStaleByTime(e=0){return this.state.isInvalidated||!this.state.dataUpdatedAt||!Ai(this.state.dataUpdatedAt,e)}onFocus(){var e;const n=this.observers.find(r=>r.shouldFetchOnWindowFocus());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}onOnline(){var e;const n=this.observers.find(r=>r.shouldFetchOnReconnect());n&&n.refetch({cancelRefetch:!1}),(e=this.retryer)==null||e.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.cache.notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(n=>n!==e),this.observers.length||(this.retryer&&(this.abortSignalConsumed?this.retryer.cancel({revert:!0}):this.retryer.cancelRetry()),this.scheduleGc()),this.cache.notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||this.dispatch({type:"invalidate"})}fetch(e,n){var r,i;if(this.state.fetchStatus!=="idle"){if(this.state.dataUpdatedAt&&n!=null&&n.cancelRefetch)this.cancel({silent:!0});else if(this.promise){var a;return(a=this.retryer)==null||a.continueRetry(),this.promise}}if(e&&this.setOptions(e),!this.options.queryFn){const f=this.observers.find(D=>D.options.queryFn);f&&this.setOptions(f.options)}const o=Ei(),d={queryKey:this.queryKey,pageParam:void 0,meta:this.meta},c=f=>{Object.defineProperty(f,"signal",{enumerable:!0,get:()=>{if(o)return this.abortSignalConsumed=!0,o.signal}})};c(d);const p=()=>this.options.queryFn?(this.abortSignalConsumed=!1,this.options.queryFn(d)):Promise.reject("Missing queryFn for queryKey '"+this.options.queryHash+"'"),h={fetchOptions:n,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:p};if(c(h),(r=this.options.behavior)==null||r.onFetch(h),this.revertState=this.state,this.state.fetchStatus==="idle"||this.state.fetchMeta!==((i=h.fetchOptions)==null?void 0:i.meta)){var m;this.dispatch({type:"fetch",meta:(m=h.fetchOptions)==null?void 0:m.meta})}const A=f=>{if(js(f)&&f.silent||this.dispatch({type:"error",error:f}),!js(f)){var D,T,w,P;(D=(T=this.cache.config).onError)==null||D.call(T,f,this),(w=(P=this.cache.config).onSettled)==null||w.call(P,this.state.data,f,this)}this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1};return this.retryer=Zn({fn:h.fetchFn,abort:o?.abort.bind(o),onSuccess:f=>{var D,T,w,P;if(typeof f>"u"){A(new Error(this.queryHash+" data is undefined"));return}this.setData(f),(D=(T=this.cache.config).onSuccess)==null||D.call(T,f,this),(w=(P=this.cache.config).onSettled)==null||w.call(P,f,this.state.error,this),this.isFetchingOptimistic||this.scheduleGc(),this.isFetchingOptimistic=!1},onError:A,onFail:(f,D)=>{this.dispatch({type:"failed",failureCount:f,error:D})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:h.options.retry,retryDelay:h.options.retryDelay,networkMode:h.options.networkMode}),this.promise=this.retryer.promise,this.promise}dispatch(e){const n=r=>{var i,a;switch(e.type){case"failed":return{...r,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...r,fetchStatus:"paused"};case"continue":return{...r,fetchStatus:"fetching"};case"fetch":return{...r,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:(i=e.meta)!=null?i:null,fetchStatus:Vs(this.options.networkMode)?"fetching":"paused",...!r.dataUpdatedAt&&{error:null,status:"loading"}};case"success":return{...r,data:e.data,dataUpdateCount:r.dataUpdateCount+1,dataUpdatedAt:(a=e.dataUpdatedAt)!=null?a:Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const o=e.error;return js(o)&&o.revert&&this.revertState?{...this.revertState,fetchStatus:"idle"}:{...r,error:o,errorUpdateCount:r.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:r.fetchFailureCount+1,fetchFailureReason:o,fetchStatus:"idle",status:"error"};case"invalidate":return{...r,isInvalidated:!0};case"setState":return{...r,...e.state}}};this.state=n(this.state),je.batch(()=>{this.observers.forEach(r=>{r.onQueryUpdate(e)}),this.cache.notify({query:this,type:"updated",action:e})})}}function Fi(s){const e=typeof s.initialData=="function"?s.initialData():s.initialData,n=typeof e<"u",r=n?typeof s.initialDataUpdatedAt=="function"?s.initialDataUpdatedAt():s.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"loading",fetchStatus:"idle"}}class Oi extends cs{constructor(e){super(),this.config=e||{},this.queries=[],this.queriesMap={}}build(e,n,r){var i;const a=n.queryKey,o=(i=n.queryHash)!=null?i:Hs(a,n);let d=this.get(o);return d||(d=new $i({cache:this,logger:e.getLogger(),queryKey:a,queryHash:o,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(a)}),this.add(d)),d}add(e){this.queriesMap[e.queryHash]||(this.queriesMap[e.queryHash]=e,this.queries.push(e),this.notify({type:"added",query:e}))}remove(e){const n=this.queriesMap[e.queryHash];n&&(e.destroy(),this.queries=this.queries.filter(r=>r!==e),n===e&&delete this.queriesMap[e.queryHash],this.notify({type:"removed",query:e}))}clear(){je.batch(()=>{this.queries.forEach(e=>{this.remove(e)})})}get(e){return this.queriesMap[e]}getAll(){return this.queries}find(e,n){const[r]=rt(e,n);return typeof r.exact>"u"&&(r.exact=!0),this.queries.find(i=>hn(r,i))}findAll(e,n){const[r]=rt(e,n);return Object.keys(r).length>0?this.queries.filter(i=>hn(r,i)):this.queries}notify(e){je.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}onFocus(){je.batch(()=>{this.queries.forEach(e=>{e.onFocus()})})}onOnline(){je.batch(()=>{this.queries.forEach(e=>{e.onOnline()})})}}class Bi extends Jn{constructor(e){super(),this.defaultOptions=e.defaultOptions,this.mutationId=e.mutationId,this.mutationCache=e.mutationCache,this.logger=e.logger||Ws,this.observers=[],this.state=e.state||zi(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options={...this.defaultOptions,...e},this.updateCacheTime(this.options.cacheTime)}get meta(){return this.options.meta}setState(e){this.dispatch({type:"setState",state:e})}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),this.mutationCache.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.observers=this.observers.filter(n=>n!==e),this.scheduleGc(),this.mutationCache.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.observers.length||(this.state.status==="loading"?this.scheduleGc():this.mutationCache.remove(this))}continue(){var e,n;return(e=(n=this.retryer)==null?void 0:n.continue())!=null?e:this.execute()}async execute(){const e=()=>{var x;return this.retryer=Zn({fn:()=>this.options.mutationFn?this.options.mutationFn(this.state.variables):Promise.reject("No mutationFn found"),onFail:(F,X)=>{this.dispatch({type:"failed",failureCount:F,error:X})},onPause:()=>{this.dispatch({type:"pause"})},onContinue:()=>{this.dispatch({type:"continue"})},retry:(x=this.options.retry)!=null?x:0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode}),this.retryer.promise},n=this.state.status==="loading";try{var r,i,a,o,d,c,p,h;if(!n){var m,A,f,D;this.dispatch({type:"loading",variables:this.options.variables}),await((m=(A=this.mutationCache.config).onMutate)==null?void 0:m.call(A,this.state.variables,this));const F=await((f=(D=this.options).onMutate)==null?void 0:f.call(D,this.state.variables));F!==this.state.context&&this.dispatch({type:"loading",context:F,variables:this.state.variables})}const x=await e();return await((r=(i=this.mutationCache.config).onSuccess)==null?void 0:r.call(i,x,this.state.variables,this.state.context,this)),await((a=(o=this.options).onSuccess)==null?void 0:a.call(o,x,this.state.variables,this.state.context)),await((d=(c=this.mutationCache.config).onSettled)==null?void 0:d.call(c,x,null,this.state.variables,this.state.context,this)),await((p=(h=this.options).onSettled)==null?void 0:p.call(h,x,null,this.state.variables,this.state.context)),this.dispatch({type:"success",data:x}),x}catch(x){try{var T,w,P,B,k,$,_,C;throw await((T=(w=this.mutationCache.config).onError)==null?void 0:T.call(w,x,this.state.variables,this.state.context,this)),await((P=(B=this.options).onError)==null?void 0:P.call(B,x,this.state.variables,this.state.context)),await((k=($=this.mutationCache.config).onSettled)==null?void 0:k.call($,void 0,x,this.state.variables,this.state.context,this)),await((_=(C=this.options).onSettled)==null?void 0:_.call(C,void 0,x,this.state.variables,this.state.context)),x}finally{this.dispatch({type:"error",error:x})}}}dispatch(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"loading":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:!Vs(this.options.networkMode),status:"loading",variables:e.variables};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"};case"setState":return{...r,...e.state}}};this.state=n(this.state),je.batch(()=>{this.observers.forEach(r=>{r.onMutationUpdate(e)}),this.mutationCache.notify({mutation:this,type:"updated",action:e})})}}function zi(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0}}class Li extends cs{constructor(e){super(),this.config=e||{},this.mutations=[],this.mutationId=0}build(e,n,r){const i=new Bi({mutationCache:this,logger:e.getLogger(),mutationId:++this.mutationId,options:e.defaultMutationOptions(n),state:r,defaultOptions:n.mutationKey?e.getMutationDefaults(n.mutationKey):void 0});return this.add(i),i}add(e){this.mutations.push(e),this.notify({type:"added",mutation:e})}remove(e){this.mutations=this.mutations.filter(n=>n!==e),this.notify({type:"removed",mutation:e})}clear(){je.batch(()=>{this.mutations.forEach(e=>{this.remove(e)})})}getAll(){return this.mutations}find(e){return typeof e.exact>"u"&&(e.exact=!0),this.mutations.find(n=>pn(e,n))}findAll(e){return this.mutations.filter(n=>pn(e,n))}notify(e){je.batch(()=>{this.listeners.forEach(({listener:n})=>{n(e)})})}resumePausedMutations(){var e;return this.resuming=((e=this.resuming)!=null?e:Promise.resolve()).then(()=>{const n=this.mutations.filter(r=>r.state.isPaused);return je.batch(()=>n.reduce((r,i)=>r.then(()=>i.continue().catch(De)),Promise.resolve()))}).then(()=>{this.resuming=void 0}),this.resuming}}function Ui(){return{onFetch:s=>{s.fetchFn=()=>{var e,n,r,i,a,o;const d=(e=s.fetchOptions)==null||(n=e.meta)==null?void 0:n.refetchPage,c=(r=s.fetchOptions)==null||(i=r.meta)==null?void 0:i.fetchMore,p=c?.pageParam,h=c?.direction==="forward",m=c?.direction==="backward",A=((a=s.state.data)==null?void 0:a.pages)||[],f=((o=s.state.data)==null?void 0:o.pageParams)||[];let D=f,T=!1;const w=C=>{Object.defineProperty(C,"signal",{enumerable:!0,get:()=>{var x;if((x=s.signal)!=null&&x.aborted)T=!0;else{var F;(F=s.signal)==null||F.addEventListener("abort",()=>{T=!0})}return s.signal}})},P=s.options.queryFn||(()=>Promise.reject("Missing queryFn for queryKey '"+s.options.queryHash+"'")),B=(C,x,F,X)=>(D=X?[x,...D]:[...D,x],X?[F,...C]:[...C,F]),k=(C,x,F,X)=>{if(T)return Promise.reject("Cancelled");if(typeof F>"u"&&!x&&C.length)return Promise.resolve(C);const I={queryKey:s.queryKey,pageParam:F,meta:s.options.meta};w(I);const q=P(I);return Promise.resolve(q).then(be=>B(C,F,be,X))};let $;if(!A.length)$=k([]);else if(h){const C=typeof p<"u",x=C?p:yn(s.options,A);$=k(A,C,x)}else if(m){const C=typeof p<"u",x=C?p:Ni(s.options,A);$=k(A,C,x,!0)}else{D=[];const C=typeof s.options.getNextPageParam>"u";$=(d&&A[0]?d(A[0],0,A):!0)?k([],C,f[0]):Promise.resolve(B([],f[0],A[0]));for(let F=1;F<A.length;F++)$=$.then(X=>{if(d&&A[F]?d(A[F],F,A):!0){const q=C?f[F]:yn(s.options,X);return k(X,C,q)}return Promise.resolve(B(X,f[F],A[F]))})}return $.then(C=>({pages:C,pageParams:D}))}}}}function yn(s,e){return s.getNextPageParam==null?void 0:s.getNextPageParam(e[e.length-1],e)}function Ni(s,e){return s.getPreviousPageParam==null?void 0:s.getPreviousPageParam(e[0],e)}class qi{constructor(e={}){this.queryCache=e.queryCache||new Oi,this.mutationCache=e.mutationCache||new Li,this.logger=e.logger||Ws,this.defaultOptions=e.defaultOptions||{},this.queryDefaults=[],this.mutationDefaults=[],this.mountCount=0}mount(){this.mountCount++,this.mountCount===1&&(this.unsubscribeFocus=Ms.subscribe(()=>{Ms.isFocused()&&(this.resumePausedMutations(),this.queryCache.onFocus())}),this.unsubscribeOnline=as.subscribe(()=>{as.isOnline()&&(this.resumePausedMutations(),this.queryCache.onOnline())}))}unmount(){var e,n;this.mountCount--,this.mountCount===0&&((e=this.unsubscribeFocus)==null||e.call(this),this.unsubscribeFocus=void 0,(n=this.unsubscribeOnline)==null||n.call(this),this.unsubscribeOnline=void 0)}isFetching(e,n){const[r]=rt(e,n);return r.fetchStatus="fetching",this.queryCache.findAll(r).length}isMutating(e){return this.mutationCache.findAll({...e,fetching:!0}).length}getQueryData(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state.data}ensureQueryData(e,n,r){const i=Jt(e,n,r),a=this.getQueryData(i.queryKey);return a?Promise.resolve(a):this.fetchQuery(i)}getQueriesData(e){return this.getQueryCache().findAll(e).map(({queryKey:n,state:r})=>{const i=r.data;return[n,i]})}setQueryData(e,n,r){const i=this.queryCache.find(e),a=i?.state.data,o=ki(n,a);if(typeof o>"u")return;const d=Jt(e),c=this.defaultQueryOptions(d);return this.queryCache.build(this,c).setData(o,{...r,manual:!0})}setQueriesData(e,n,r){return je.batch(()=>this.getQueryCache().findAll(e).map(({queryKey:i})=>[i,this.setQueryData(i,n,r)]))}getQueryState(e,n){var r;return(r=this.queryCache.find(e,n))==null?void 0:r.state}removeQueries(e,n){const[r]=rt(e,n),i=this.queryCache;je.batch(()=>{i.findAll(r).forEach(a=>{i.remove(a)})})}resetQueries(e,n,r){const[i,a]=rt(e,n,r),o=this.queryCache,d={type:"active",...i};return je.batch(()=>(o.findAll(i).forEach(c=>{c.reset()}),this.refetchQueries(d,a)))}cancelQueries(e,n,r){const[i,a={}]=rt(e,n,r);typeof a.revert>"u"&&(a.revert=!0);const o=je.batch(()=>this.queryCache.findAll(i).map(d=>d.cancel(a)));return Promise.all(o).then(De).catch(De)}invalidateQueries(e,n,r){const[i,a]=rt(e,n,r);return je.batch(()=>{var o,d;if(this.queryCache.findAll(i).forEach(p=>{p.invalidate()}),i.refetchType==="none")return Promise.resolve();const c={...i,type:(o=(d=i.refetchType)!=null?d:i.type)!=null?o:"active"};return this.refetchQueries(c,a)})}refetchQueries(e,n,r){const[i,a]=rt(e,n,r),o=je.batch(()=>this.queryCache.findAll(i).filter(c=>!c.isDisabled()).map(c=>{var p;return c.fetch(void 0,{...a,cancelRefetch:(p=a?.cancelRefetch)!=null?p:!0,meta:{refetchPage:i.refetchPage}})}));let d=Promise.all(o).then(De);return a!=null&&a.throwOnError||(d=d.catch(De)),d}fetchQuery(e,n,r){const i=Jt(e,n,r),a=this.defaultQueryOptions(i);typeof a.retry>"u"&&(a.retry=!1);const o=this.queryCache.build(this,a);return o.isStaleByTime(a.staleTime)?o.fetch(a):Promise.resolve(o.state.data)}prefetchQuery(e,n,r){return this.fetchQuery(e,n,r).then(De).catch(De)}fetchInfiniteQuery(e,n,r){const i=Jt(e,n,r);return i.behavior=Ui(),this.fetchQuery(i)}prefetchInfiniteQuery(e,n,r){return this.fetchInfiniteQuery(e,n,r).then(De).catch(De)}resumePausedMutations(){return this.mutationCache.resumePausedMutations()}getQueryCache(){return this.queryCache}getMutationCache(){return this.mutationCache}getLogger(){return this.logger}getDefaultOptions(){return this.defaultOptions}setDefaultOptions(e){this.defaultOptions=e}setQueryDefaults(e,n){const r=this.queryDefaults.find(i=>yt(e)===yt(i.queryKey));r?r.defaultOptions=n:this.queryDefaults.push({queryKey:e,defaultOptions:n})}getQueryDefaults(e){if(!e)return;const n=this.queryDefaults.find(r=>is(e,r.queryKey));return n?.defaultOptions}setMutationDefaults(e,n){const r=this.mutationDefaults.find(i=>yt(e)===yt(i.mutationKey));r?r.defaultOptions=n:this.mutationDefaults.push({mutationKey:e,defaultOptions:n})}getMutationDefaults(e){if(!e)return;const n=this.mutationDefaults.find(r=>is(e,r.mutationKey));return n?.defaultOptions}defaultQueryOptions(e){if(e!=null&&e._defaulted)return e;const n={...this.defaultOptions.queries,...this.getQueryDefaults(e?.queryKey),...e,_defaulted:!0};return!n.queryHash&&n.queryKey&&(n.queryHash=Hs(n.queryKey,n)),typeof n.refetchOnReconnect>"u"&&(n.refetchOnReconnect=n.networkMode!=="always"),typeof n.useErrorBoundary>"u"&&(n.useErrorBoundary=!!n.suspense),n}defaultMutationOptions(e){return e!=null&&e._defaulted?e:{...this.defaultOptions.mutations,...this.getMutationDefaults(e?.mutationKey),...e,_defaulted:!0}}clear(){this.queryCache.clear(),this.mutationCache.clear()}}const vn=l.createContext(void 0),Hi=l.createContext(!1);function Vi(s,e){return s||(e&&typeof window<"u"?(window.ReactQueryClientContext||(window.ReactQueryClientContext=vn),window.ReactQueryClientContext):vn)}const Wi=({client:s,children:e,context:n,contextSharing:r=!1})=>{l.useEffect(()=>(s.mount(),()=>{s.unmount()}),[s]);const i=Vi(n,r);return l.createElement(Hi.Provider,{value:!n&&r},l.createElement(i.Provider,{value:s},e))},Gn=l.createContext(void 0),Rt=()=>{const s=l.useContext(Gn);if(s===void 0)throw new Error("useAuth must be used within an AuthProvider");return s},Qi=({children:s})=>{const[e,n]=l.useState(null),[r,i]=l.useState(null),[a,o]=l.useState(!0);l.useEffect(()=>{const m=localStorage.getItem("authToken"),A=localStorage.getItem("authUser");if(m&&A)try{i(m),n(JSON.parse(A))}catch{localStorage.removeItem("authToken"),localStorage.removeItem("authUser")}o(!1)},[]);const h={user:e,token:r,login:async(m,A)=>{const f=await fetch("/api/auth/login",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:m,password:A})});if(!f.ok){const P=await f.json();throw new Error(P.message||"Login failed")}const D=await f.json(),{token:T,user:w}=D;i(T),n(w),localStorage.setItem("authToken",T),localStorage.setItem("authUser",JSON.stringify(w))},register:async(m,A,f,D="User")=>{const T=await fetch("/api/auth/register",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({username:m,email:A,password:f,role:D})});if(!T.ok){const k=await T.json();throw new Error(k.message||"Registration failed")}const w=await T.json(),{token:P,user:B}=w;i(P),n(B),localStorage.setItem("authToken",P),localStorage.setItem("authUser",JSON.stringify(B))},logout:()=>{i(null),n(null),localStorage.removeItem("authToken"),localStorage.removeItem("authUser")},isAuthenticated:!!r&&!!e,isLoading:a};return t.jsx(Gn.Provider,{value:h,children:s})},Pe=({children:s})=>{const{isAuthenticated:e,isLoading:n}=Rt(),r=Ke();return n?t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"16px"},children:"Loading..."}):e?t.jsx(t.Fragment,{children:s}):t.jsx(Es,{to:"/login",state:{from:r},replace:!0})},Ki=({children:s})=>{const{user:e,isAuthenticated:n,isLoading:r}=Rt(),i=Ke();return r?t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"100vh",fontSize:"16px"},children:"Loading..."}):n?e?.role!=="Administrator"?t.jsx(Es,{to:"/dashboard",replace:!0}):t.jsx(t.Fragment,{children:s}):t.jsx(Es,{to:"/login",state:{from:i},replace:!0})};var Zi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M862 465.3h-81c-4.6 0-9 2-12.1 5.5L550 723.1V160c0-4.4-3.6-8-8-8h-60c-4.4 0-8 3.6-8 8v563.1L255.1 470.8c-3-3.5-7.4-5.5-12.1-5.5h-81c-6.8 0-10.5 8.1-6 13.2L487.9 861a31.96 31.96 0 0048.3 0L868 478.5c4.5-5.2.8-13.2-6-13.2z"}}]},name:"arrow-down",theme:"outlined"},Ji=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Zi}))},ws=l.forwardRef(Ji),Gi={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M872 474H286.9l350.2-304c5.6-4.9 2.2-14-5.2-14h-88.5c-3.9 0-7.6 1.4-10.5 3.9L155 487.8a31.96 31.96 0 000 48.3L535.1 866c1.5 1.3 3.3 2 5.2 2h91.5c7.4 0 10.8-9.2 5.2-14L286.9 550H872c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8z"}}]},name:"arrow-left",theme:"outlined"},Xi=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Gi}))},Yi=l.forwardRef(Xi),ea={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 545.5L536.1 163a31.96 31.96 0 00-48.3 0L156 545.5a7.97 7.97 0 006 13.2h81c4.6 0 9-2 12.1-5.5L474 300.9V864c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V300.9l218.9 252.3c3 3.5 7.4 5.5 12.1 5.5h81c6.8 0 10.5-8 6-13.2z"}}]},name:"arrow-up",theme:"outlined"},ta=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:ea}))},Ss=l.forwardRef(ta),sa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm-600-80h56c4.4 0 8-3.6 8-8V560c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v144c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V384c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v320c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V462c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v242c0 4.4 3.6 8 8 8zm152 0h56c4.4 0 8-3.6 8-8V304c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v400c0 4.4 3.6 8 8 8z"}}]},name:"bar-chart",theme:"outlined"},na=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:sa}))},Xn=l.forwardRef(na),ra={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M816 768h-24V428c0-141.1-104.3-257.7-240-277.1V112c0-22.1-17.9-40-40-40s-40 17.9-40 40v38.9c-135.7 19.4-240 136-240 277.1v340h-24c-17.7 0-32 14.3-32 32v32c0 4.4 3.6 8 8 8h216c0 61.8 50.2 112 112 112s112-50.2 112-112h216c4.4 0 8-3.6 8-8v-32c0-17.7-14.3-32-32-32zM512 888c-26.5 0-48-21.5-48-48h96c0 26.5-21.5 48-48 48zM304 768V428c0-55.6 21.6-107.8 60.9-147.1S456.4 220 512 220c55.6 0 107.8 21.6 147.1 60.9S720 372.4 720 428v340H304z"}}]},name:"bell",theme:"outlined"},ia=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:ra}))},Qs=l.forwardRef(ia),aa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M699 353h-46.9c-10.2 0-19.9 4.9-25.9 13.3L469 584.3l-71.2-98.8c-6-8.3-15.6-13.3-25.9-13.3H325c-6.5 0-10.3 7.4-6.5 12.7l124.6 172.8a31.8 31.8 0 0051.7 0l210.6-292c3.9-5.3.1-12.7-6.4-12.7z"}},{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}}]},name:"check-circle",theme:"outlined"},oa=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:aa}))},He=l.forwardRef(oa),la={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M899.1 869.6l-53-305.6H864c14.4 0 26-11.6 26-26V346c0-14.4-11.6-26-26-26H618V138c0-14.4-11.6-26-26-26H432c-14.4 0-26 11.6-26 26v182H160c-14.4 0-26 11.6-26 26v192c0 14.4 11.6 26 26 26h17.9l-53 305.6a25.95 25.95 0 0025.6 30.4h723c1.5 0 3-.1 4.4-.4a25.88 25.88 0 0021.2-30zM204 390h272V182h72v208h272v104H204V390zm468 440V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H416V674c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v156H202.8l45.1-260H776l45.1 260H672z"}}]},name:"clear",theme:"outlined"},ca=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:la}))},da=l.forwardRef(ca),ua={icon:{tag:"svg",attrs:{"fill-rule":"evenodd",viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64c247.4 0 448 200.6 448 448S759.4 960 512 960 64 759.4 64 512 264.6 64 512 64zm0 76c-205.4 0-372 166.6-372 372s166.6 372 372 372 372-166.6 372-372-166.6-372-372-372zm128.01 198.83c.03 0 .05.01.09.06l45.02 45.01a.2.2 0 01.05.09.12.12 0 010 .07c0 .02-.01.04-.05.08L557.25 512l127.87 127.86a.27.27 0 01.05.06v.02a.12.12 0 010 .07c0 .03-.01.05-.05.09l-45.02 45.02a.2.2 0 01-.09.05.12.12 0 01-.07 0c-.02 0-.04-.01-.08-.05L512 557.25 384.14 685.12c-.04.04-.06.05-.08.05a.12.12 0 01-.07 0c-.03 0-.05-.01-.09-.05l-45.02-45.02a.2.2 0 01-.05-.09.12.12 0 010-.07c0-.02.01-.04.06-.08L466.75 512 338.88 384.14a.27.27 0 01-.05-.06l-.01-.02a.12.12 0 010-.07c0-.03.01-.05.05-.09l45.02-45.02a.2.2 0 01.09-.05.12.12 0 01.07 0c.02 0 .04.01.08.06L512 466.75l127.86-127.86c.04-.05.06-.06.08-.06a.12.12 0 01.07 0z"}}]},name:"close-circle",theme:"outlined"},ha=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:ua}))},Yn=l.forwardRef(ha),pa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M704 446H320c-4.4 0-8 3.6-8 8v402c0 4.4 3.6 8 8 8h384c4.4 0 8-3.6 8-8V454c0-4.4-3.6-8-8-8zm-328 64h272v117H376V510zm272 290H376V683h272v117z"}},{tag:"path",attrs:{d:"M424 748a32 32 0 1064 0 32 32 0 10-64 0zm0-178a32 32 0 1064 0 32 32 0 10-64 0z"}},{tag:"path",attrs:{d:"M811.4 368.9C765.6 248 648.9 162 512.2 162S258.8 247.9 213 368.8C126.9 391.5 63.5 470.2 64 563.6 64.6 668 145.6 752.9 247.6 762c4.7.4 8.7-3.3 8.7-8v-60.4c0-4-3-7.4-7-7.9-27-3.4-52.5-15.2-72.1-34.5-24-23.5-37.2-55.1-37.2-88.6 0-28 9.1-54.4 26.2-76.4 16.7-21.4 40.2-36.9 66.1-43.7l37.9-10 13.9-36.7c8.6-22.8 20.6-44.2 35.7-63.5 14.9-19.2 32.6-36 52.4-50 41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.3c19.9 14 37.5 30.8 52.4 50 15.1 19.3 27.1 40.7 35.7 63.5l13.8 36.6 37.8 10c54.2 14.4 92.1 63.7 92.1 120 0 33.6-13.2 65.1-37.2 88.6-19.5 19.2-44.9 31.1-71.9 34.5-4 .5-6.9 3.9-6.9 7.9V754c0 4.7 4.1 8.4 8.8 8 101.7-9.2 182.5-94 183.2-198.2.6-93.4-62.7-172.1-148.6-194.9z"}}]},name:"cloud-server",theme:"outlined"},fa=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:pa}))},Ts=l.forwardRef(fa),ma={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},ga=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:ma}))},xa=l.forwardRef(ga),ya={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M573 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40zm-280 0c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}},{tag:"path",attrs:{d:"M894 345a343.92 343.92 0 00-189-130v.1c-17.1-19-36.4-36.5-58-52.1-163.7-119-393.5-82.7-513 81-96.3 133-92.2 311.9 6 439l.8 132.6c0 3.2.5 6.4 1.5 9.4a31.95 31.95 0 0040.1 20.9L309 806c33.5 11.9 68.1 18.7 102.5 20.6l-.5.4c89.1 64.9 205.9 84.4 313 49l127.1 41.4c3.2 1 6.5 1.6 9.9 1.6 17.7 0 32-14.3 32-32V753c88.1-119.6 90.4-284.9 1-408zM323 735l-12-5-99 31-1-104-8-9c-84.6-103.2-90.2-251.9-11-361 96.4-132.2 281.2-161.4 413-66 132.2 96.1 161.5 280.6 66 412-80.1 109.9-223.5 150.5-348 102zm505-17l-8 10 1 104-98-33-12 5c-56 20.8-115.7 22.5-171 7l-.2-.1A367.31 367.31 0 00729 676c76.4-105.3 88.8-237.6 44.4-350.4l.6.4c23 16.5 44.1 37.1 62 62 72.6 99.6 68.5 235.2-8 330z"}},{tag:"path",attrs:{d:"M433 421c-23.1 0-41 17.9-41 40s17.9 40 41 40c21.1 0 39-17.9 39-40s-17.9-40-39-40z"}}]},name:"comment",theme:"outlined"},va=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:ya}))},bn=l.forwardRef(va),ba={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z"}}]},name:"dashboard",theme:"outlined"},ja=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:ba}))},wa=l.forwardRef(ja),Sa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM304 240a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0zm0 272a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"database",theme:"outlined"},Ca=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Sa}))},at=l.forwardRef(Ca),_a={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M464 688a48 48 0 1096 0 48 48 0 10-96 0zm24-112h48c4.4 0 8-3.6 8-8V296c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8z"}}]},name:"exclamation-circle",theme:"outlined"},ka=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:_a}))},Ks=l.forwardRef(ka),Ia={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 472a40 40 0 1080 0 40 40 0 10-80 0zm367 352.9L696.3 352V178H768v-68H256v68h71.7v174L145 824.9c-2.8 7.4-4.3 15.2-4.3 23.1 0 35.3 28.7 64 64 64h614.6c7.9 0 15.7-1.5 23.1-4.3 33-12.7 49.4-49.8 36.6-82.8zM395.7 364.7V180h232.6v184.7L719.2 600c-20.7-5.3-42.1-8-63.9-8-61.2 0-119.2 21.5-165.3 60a188.78 188.78 0 01-121.3 43.9c-32.7 0-64.1-8.3-91.8-23.7l118.8-307.5zM210.5 844l41.7-107.8c35.7 18.1 75.4 27.8 116.6 27.8 61.2 0 119.2-21.5 165.3-60 33.9-28.2 76.3-43.9 121.3-43.9 35 0 68.4 9.5 97.6 27.1L813.5 844h-603z"}}]},name:"experiment",theme:"outlined"},Aa=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Ia}))},jn=l.forwardRef(Aa),Ea={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M484 443.1V528h-84.5c-4.1 0-7.5 3.1-7.5 7v42c0 3.8 3.4 7 7.5 7H484v84.9c0 3.9 3.2 7.1 7 7.1h42c3.9 0 7-3.2 7-7.1V584h84.5c4.1 0 7.5-3.2 7.5-7v-42c0-3.9-3.4-7-7.5-7H540v-84.9c0-3.9-3.1-7.1-7-7.1h-42c-3.8 0-7 3.2-7 7.1zm396-144.7H521L403.7 186.2a8.15 8.15 0 00-5.5-2.2H144c-17.7 0-32 14.3-32 32v592c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V330.4c0-17.7-14.3-32-32-32zM840 768H184V256h188.5l119.6 114.4H840V768z"}}]},name:"folder-add",theme:"outlined"},Pa=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Ea}))},Da=l.forwardRef(Pa),Ra={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M825.8 498L538.4 249.9c-10.7-9.2-26.4-.9-26.4 14v496.3c0 14.9 15.7 23.2 26.4 14L825.8 526c8.3-7.2 8.3-20.8 0-28zm-320 0L218.4 249.9c-10.7-9.2-26.4-.9-26.4 14v496.3c0 14.9 15.7 23.2 26.4 14L505.8 526c4.1-3.6 6.2-8.8 6.2-14 0-5.2-2.1-10.4-6.2-14z"}}]},name:"forward",theme:"outlined"},Ma=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Ra}))},Ct=l.forwardRef(Ma),Ta={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.4 800.9c.2-.3.5-.6.7-.9C920.6 722.1 960 621.7 960 512s-39.4-210.1-104.8-288c-.2-.3-.5-.5-.7-.8-1.1-1.3-2.1-2.5-3.2-3.7-.4-.5-.8-.9-1.2-1.4l-4.1-4.7-.1-.1c-1.5-1.7-3.1-3.4-4.6-5.1l-.1-.1c-3.2-3.4-6.4-6.8-9.7-10.1l-.1-.1-4.8-4.8-.3-.3c-1.5-1.5-3-2.9-4.5-4.3-.5-.5-1-1-1.6-1.5-1-1-2-1.9-3-2.8-.3-.3-.7-.6-1-1C736.4 109.2 629.5 64 512 64s-224.4 45.2-304.3 119.2c-.3.3-.7.6-1 1-1 .9-2 1.9-3 2.9-.5.5-1 1-1.6 1.5-1.5 1.4-3 2.9-4.5 4.3l-.3.3-4.8 4.8-.1.1c-3.3 3.3-6.5 6.7-9.7 10.1l-.1.1c-1.6 1.7-3.1 3.4-4.6 5.1l-.1.1c-1.4 1.5-2.8 3.1-4.1 4.7-.4.5-.8.9-1.2 1.4-1.1 1.2-2.1 2.5-3.2 3.7-.2.3-.5.5-.7.8C103.4 301.9 64 402.3 64 512s39.4 210.1 104.8 288c.2.3.5.6.7.9l3.1 3.7c.4.5.8.9 1.2 1.4l4.1 4.7c0 .1.1.1.1.2 1.5 1.7 3 3.4 4.6 5l.1.1c3.2 3.4 6.4 6.8 9.6 10.1l.1.1c1.6 1.6 3.1 3.2 4.7 4.7l.3.3c3.3 3.3 6.7 6.5 10.1 9.6 80.1 74 187 119.2 304.5 119.2s224.4-45.2 304.3-119.2a300 300 0 0010-9.6l.3-.3c1.6-1.6 3.2-3.1 4.7-4.7l.1-.1c3.3-3.3 6.5-6.7 9.6-10.1l.1-.1c1.5-1.7 3.1-3.3 4.6-5 0-.1.1-.1.1-.2 1.4-1.5 2.8-3.1 4.1-4.7.4-.5.8-.9 1.2-1.4a99 99 0 003.3-3.7zm4.1-142.6c-13.8 32.6-32 62.8-54.2 90.2a444.07 444.07 0 00-81.5-55.9c11.6-46.9 18.8-98.4 20.7-152.6H887c-3 40.9-12.6 80.6-28.5 118.3zM887 484H743.5c-1.9-54.2-9.1-105.7-20.7-152.6 29.3-15.6 56.6-34.4 81.5-55.9A373.86 373.86 0 01887 484zM658.3 165.5c39.7 16.8 75.8 40 107.6 69.2a394.72 394.72 0 01-59.4 41.8c-15.7-45-35.8-84.1-59.2-115.4 3.7 1.4 7.4 2.9 11 4.4zm-90.6 700.6c-9.2 7.2-18.4 12.7-27.7 16.4V697a389.1 389.1 0 01115.7 26.2c-8.3 24.6-17.9 47.3-29 67.8-17.4 32.4-37.8 58.3-59 75.1zm59-633.1c11 20.6 20.7 43.3 29 67.8A389.1 389.1 0 01540 327V141.6c9.2 3.7 18.5 9.1 27.7 16.4 21.2 16.7 41.6 42.6 59 75zM540 640.9V540h147.5c-1.6 44.2-7.1 87.1-16.3 127.8l-.3 1.2A445.02 445.02 0 00540 640.9zm0-156.9V383.1c45.8-2.8 89.8-12.5 130.9-28.1l.3 1.2c9.2 40.7 14.7 83.5 16.3 127.8H540zm-56 56v100.9c-45.8 2.8-89.8 12.5-130.9 28.1l-.3-1.2c-9.2-40.7-14.7-83.5-16.3-127.8H484zm-147.5-56c1.6-44.2 7.1-87.1 16.3-127.8l.3-1.2c41.1 15.6 85 25.3 130.9 28.1V484H336.5zM484 697v185.4c-9.2-3.7-18.5-9.1-27.7-16.4-21.2-16.7-41.7-42.7-59.1-75.1-11-20.6-20.7-43.3-29-67.8 37.2-14.6 75.9-23.3 115.8-26.1zm0-370a389.1 389.1 0 01-115.7-26.2c8.3-24.6 17.9-47.3 29-67.8 17.4-32.4 37.8-58.4 59.1-75.1 9.2-7.2 18.4-12.7 27.7-16.4V327zM365.7 165.5c3.7-1.5 7.3-3 11-4.4-23.4 31.3-43.5 70.4-59.2 115.4-21-12-40.9-26-59.4-41.8 31.8-29.2 67.9-52.4 107.6-69.2zM165.5 365.7c13.8-32.6 32-62.8 54.2-90.2 24.9 21.5 52.2 40.3 81.5 55.9-11.6 46.9-18.8 98.4-20.7 152.6H137c3-40.9 12.6-80.6 28.5-118.3zM137 540h143.5c1.9 54.2 9.1 105.7 20.7 152.6a444.07 444.07 0 00-81.5 55.9A373.86 373.86 0 01137 540zm228.7 318.5c-39.7-16.8-75.8-40-107.6-69.2 18.5-15.8 38.4-29.7 59.4-41.8 15.7 45 35.8 84.1 59.2 115.4-3.7-1.4-7.4-2.9-11-4.4zm292.6 0c-3.7 1.5-7.3 3-11 4.4 23.4-31.3 43.5-70.4 59.2-115.4 21 12 40.9 26 59.4 41.8a373.81 373.81 0 01-107.6 69.2z"}}]},name:"global",theme:"outlined"},$a=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Ta}))},Ne=l.forwardRef($a),Fa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V96c0-17.7-14.3-32-32-32zm-600 72h560v208H232V136zm560 480H232V408h560v208zm0 272H232V680h560v208zM496 208H312c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8zM312 544h184c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H312c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8zm328 244a40 40 0 1080 0 40 40 0 10-80 0z"}}]},name:"hdd",theme:"outlined"},Oa=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Fa}))},wn=l.forwardRef(Oa),Ba={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M536.1 273H488c-4.4 0-8 3.6-8 8v275.3c0 2.6 1.2 5 3.3 6.5l165.3 120.7c3.6 2.6 8.6 1.9 11.2-1.7l28.6-39c2.7-3.7 1.9-8.7-1.7-11.2L544.1 528.5V281c0-4.4-3.6-8-8-8zm219.8 75.2l156.8 38.3c5 1.2 9.9-2.6 9.9-7.7l.8-161.5c0-6.7-7.7-10.5-12.9-6.3L752.9 334.1a8 8 0 003 14.1zm167.7 301.1l-56.7-19.5a8 8 0 00-10.1 4.8c-1.9 5.1-3.9 10.1-6 15.1-17.8 42.1-43.3 80-75.9 112.5a353 353 0 01-112.5 75.9 352.18 352.18 0 01-137.7 27.8c-47.8 0-94.1-9.3-137.7-27.8a353 353 0 01-112.5-75.9c-32.5-32.5-58-70.4-75.9-112.5A353.44 353.44 0 01171 512c0-47.8 9.3-94.2 27.8-137.8 17.8-42.1 43.3-80 75.9-112.5a353 353 0 01112.5-75.9C430.6 167.3 477 158 524.8 158s94.1 9.3 137.7 27.8A353 353 0 01775 261.7c10.2 10.3 19.8 21 28.6 32.3l59.8-46.8C784.7 146.6 662.2 81.9 524.6 82 285 82.1 92.6 276.7 95 516.4 97.4 751.9 288.9 942 524.8 942c185.5 0 343.5-117.6 403.7-282.3 1.5-4.2-.7-8.9-4.9-10.4z"}}]},name:"history",theme:"outlined"},za=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Ba}))},Sn=l.forwardRef(za),La={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M574 665.4a8.03 8.03 0 00-11.3 0L446.5 781.6c-53.8 53.8-144.6 59.5-204 0-59.5-59.5-53.8-150.2 0-204l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3l-39.8-39.8a8.03 8.03 0 00-11.3 0L191.4 526.5c-84.6 84.6-84.6 221.5 0 306s221.5 84.6 306 0l116.2-116.2c3.1-3.1 3.1-8.2 0-11.3L574 665.4zm258.6-474c-84.6-84.6-221.5-84.6-306 0L410.3 307.6a8.03 8.03 0 000 11.3l39.7 39.7c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c53.8-53.8 144.6-59.5 204 0 59.5 59.5 53.8 150.2 0 204L665.3 562.6a8.03 8.03 0 000 11.3l39.8 39.8c3.1 3.1 8.2 3.1 11.3 0l116.2-116.2c84.5-84.6 84.5-221.5 0-306.1zM610.1 372.3a8.03 8.03 0 00-11.3 0L372.3 598.7a8.03 8.03 0 000 11.3l39.6 39.6c3.1 3.1 8.2 3.1 11.3 0l226.4-226.4c3.1-3.1 3.1-8.2 0-11.3l-39.5-39.6z"}}]},name:"link",theme:"outlined"},Ua=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:La}))},_t=l.forwardRef(Ua),Na={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464h-68V240c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zM332 240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v224H332V240zm460 600H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"lock",theme:"outlined"},qa=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Na}))},qt=l.forwardRef(qa),Ha={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M868 732h-70.3c-4.8 0-9.3 2.1-12.3 5.8-7 8.5-14.5 16.7-22.4 24.5a353.84 353.84 0 01-112.7 75.9A352.8 352.8 0 01512.4 866c-47.9 0-94.3-9.4-137.9-27.8a353.84 353.84 0 01-112.7-75.9 353.28 353.28 0 01-76-112.5C167.3 606.2 158 559.9 158 512s9.4-94.2 27.8-137.8c17.8-42.1 43.4-80 76-112.5s70.5-58.1 112.7-75.9c43.6-18.4 90-27.8 137.9-27.8 47.9 0 94.3 9.3 137.9 27.8 42.2 17.8 80.1 43.4 112.7 75.9 7.9 7.9 15.3 16.1 22.4 24.5 3 3.7 7.6 5.8 12.3 5.8H868c6.3 0 10.2-7 6.7-12.3C798 160.5 663.8 81.6 511.3 82 271.7 82.6 79.6 277.1 82 516.4 84.4 751.9 276.2 942 512.4 942c152.1 0 285.7-78.8 362.3-197.7 3.4-5.3-.4-12.3-6.7-12.3zm88.9-226.3L815 393.7c-5.3-4.2-13-.4-13 6.3v76H488c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h314v76c0 6.7 7.8 10.5 13 6.3l141.9-112a8 8 0 000-12.6z"}}]},name:"logout",theme:"outlined"},Va=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Ha}))},Wa=l.forwardRef(Va),Qa={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M928 160H96c-17.7 0-32 14.3-32 32v640c0 17.7 14.3 32 32 32h832c17.7 0 32-14.3 32-32V192c0-17.7-14.3-32-32-32zm-40 110.8V792H136V270.8l-27.6-21.5 39.3-50.5 42.8 33.3h643.1l42.8-33.3 39.3 50.5-27.7 21.5zM833.6 232L512 482 190.4 232l-42.8-33.3-39.3 50.5 27.6 21.5 341.6 265.6a55.99 55.99 0 0068.7 0L888 270.8l27.6-21.5-39.3-50.5-42.7 33.2z"}}]},name:"mail",theme:"outlined"},Ka=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Qa}))},vt=l.forwardRef(Ka),Za={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M456 231a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0zm0 280a56 56 0 10112 0 56 56 0 10-112 0z"}}]},name:"more",theme:"outlined"},Ja=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Za}))},er=l.forwardRef(Ja),Ga={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372zm-88-532h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8zm224 0h-48c-4.4 0-8 3.6-8 8v304c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V360c0-4.4-3.6-8-8-8z"}}]},name:"pause-circle",theme:"outlined"},Xa=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Ga}))},ts=l.forwardRef(Xa),Ya={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z"}},{tag:"path",attrs:{d:"M719.4 499.1l-296.1-215A15.9 15.9 0 00398 297v430c0 13.1 14.8 20.5 25.3 12.9l296.1-215a15.9 15.9 0 000-25.8zm-257.6 134V390.9L628.5 512 461.8 633.1z"}}]},name:"play-circle",theme:"outlined"},eo=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:Ya}))},tr=l.forwardRef(eo),to={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M866.9 169.9L527.1 54.1C523 52.7 517.5 52 512 52s-11 .7-15.1 2.1L157.1 169.9c-8.3 2.8-15.1 12.4-15.1 21.2v482.4c0 8.8 5.7 20.4 12.6 25.9L499.3 968c3.5 2.7 8 4.1 12.6 4.1s9.2-1.4 12.6-4.1l344.7-268.6c6.9-5.4 12.6-17 12.6-25.9V191.1c.2-8.8-6.6-18.3-14.9-21.2zM810 654.3L512 886.5 214 654.3V226.7l298-101.6 298 101.6v427.6zm-405.8-201c-3-4.1-7.8-6.6-13-6.6H336c-6.5 0-10.3 7.4-6.5 12.7l126.4 174a16.1 16.1 0 0026 0l212.6-292.7c3.8-5.3 0-12.7-6.5-12.7h-55.2c-5.1 0-10 2.5-13 6.6L468.9 542.4l-64.7-89.1z"}}]},name:"safety-certificate",theme:"outlined"},so=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:to}))},no=l.forwardRef(so),ro={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M893.3 293.3L730.7 130.7c-7.5-7.5-16.7-13-26.7-16V112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V338.5c0-17-6.7-33.2-18.7-45.2zM384 184h256v104H384V184zm456 656H184V184h136v136c0 17.7 14.3 32 32 32h320c17.7 0 32-14.3 32-32V205.8l136 136V840zM512 442c-79.5 0-144 64.5-144 144s64.5 144 144 144 144-64.5 144-144-64.5-144-144-144zm0 224c-44.2 0-80-35.8-80-80s35.8-80 80-80 80 35.8 80 80-35.8 80-80 80z"}}]},name:"save",theme:"outlined"},io=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:ro}))},ao=l.forwardRef(io),oo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M567.1 512l318.5-319.3c5-5 1.5-13.7-5.6-13.7h-90.5c-2.1 0-4.2.8-5.6 2.3l-273.3 274-90.2-90.5c12.5-22.1 19.7-47.6 19.7-74.8 0-83.9-68.1-152-152-152s-152 68.1-152 152 68.1 152 152 152c27.7 0 53.6-7.4 75.9-20.3l90 90.3-90.1 90.3A151.04 151.04 0 00288 582c-83.9 0-152 68.1-152 152s68.1 152 152 152 152-68.1 152-152c0-27.2-7.2-52.7-19.7-74.8l90.2-90.5 273.3 274c1.5 1.5 3.5 2.3 5.6 2.3H880c7.1 0 10.7-8.6 5.6-13.7L567.1 512zM288 370c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80zm0 444c-44.1 0-80-35.9-80-80s35.9-80 80-80 80 35.9 80 80-35.9 80-80 80z"}}]},name:"scissor",theme:"outlined"},lo=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:oo}))},co=l.forwardRef(lo),uo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 625.7l-65.5-56c3.1-19 4.7-38.4 4.7-57.8s-1.6-38.8-4.7-57.8l65.5-56a32.03 32.03 0 009.3-35.2l-.9-2.6a443.74 443.74 0 00-79.7-137.9l-1.8-2.1a32.12 32.12 0 00-35.1-9.5l-81.3 28.9c-30-24.6-63.5-44-99.7-57.6l-15.7-85a32.05 32.05 0 00-25.8-25.7l-2.7-.5c-52.1-9.4-106.9-9.4-159 0l-2.7.5a32.05 32.05 0 00-25.8 25.7l-15.8 85.4a351.86 351.86 0 00-99 57.4l-81.9-29.1a32 32 0 00-35.1 9.5l-1.8 2.1a446.02 446.02 0 00-79.7 137.9l-.9 2.6c-4.5 12.5-.8 26.5 9.3 35.2l66.3 56.6c-3.1 18.8-4.6 38-4.6 57.1 0 19.2 1.5 38.4 4.6 57.1L99 625.5a32.03 32.03 0 00-9.3 35.2l.9 2.6c18.1 50.4 44.9 96.9 79.7 137.9l1.8 2.1a32.12 32.12 0 0035.1 9.5l81.9-29.1c29.8 24.5 63.1 43.9 99 57.4l15.8 85.4a32.05 32.05 0 0025.8 25.7l2.7.5a449.4 449.4 0 00159 0l2.7-.5a32.05 32.05 0 0025.8-25.7l15.7-85a350 350 0 0099.7-57.6l81.3 28.9a32 32 0 0035.1-9.5l1.8-2.1c34.8-41.1 61.6-87.5 79.7-137.9l.9-2.6c4.5-12.3.8-26.3-9.3-35zM788.3 465.9c2.5 15.1 3.8 30.6 3.8 46.1s-1.3 31-3.8 46.1l-6.6 40.1 74.7 63.9a370.03 370.03 0 01-42.6 73.6L721 702.8l-31.4 25.8c-23.9 19.6-50.5 35-79.3 45.8l-38.1 14.3-17.9 97a377.5 377.5 0 01-85 0l-17.9-97.2-37.8-14.5c-28.5-10.8-55-26.2-78.7-45.7l-31.4-25.9-93.4 33.2c-17-22.9-31.2-47.6-42.6-73.6l75.5-64.5-6.5-40c-2.4-14.9-3.7-30.3-3.7-45.5 0-15.3 1.2-30.6 3.7-45.5l6.5-40-75.5-64.5c11.3-26.1 25.6-50.7 42.6-73.6l93.4 33.2 31.4-25.9c23.7-19.5 50.2-34.9 78.7-45.7l37.9-14.3 17.9-97.2c28.1-3.2 56.8-3.2 85 0l17.9 97 38.1 14.3c28.7 10.8 55.4 26.2 79.3 45.8l31.4 25.8 92.8-32.9c17 22.9 31.2 47.6 42.6 73.6L781.8 426l6.5 39.9zM512 326c-97.2 0-176 78.8-176 176s78.8 176 176 176 176-78.8 176-176-78.8-176-176-176zm79.2 255.2A111.6 111.6 0 01512 614c-29.9 0-58-11.7-79.2-32.8A111.6 111.6 0 01400 502c0-29.9 11.7-58 32.8-79.2C454 401.6 482.1 390 512 390c29.9 0 58 11.6 79.2 32.8A111.6 111.6 0 01624 502c0 29.9-11.7 58-32.8 79.2z"}}]},name:"setting",theme:"outlined"},ho=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:uo}))},Ht=l.forwardRef(ho),po={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 464H332V240c0-30.9 25.1-56 56-56h248c30.9 0 56 25.1 56 56v68c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8v-68c0-70.7-57.3-128-128-128H388c-70.7 0-128 57.3-128 128v224h-68c-17.7 0-32 14.3-32 32v384c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V496c0-17.7-14.3-32-32-32zm-40 376H232V536h560v304zM484 701v53c0 4.4 3.6 8 8 8h40c4.4 0 8-3.6 8-8v-53a48.01 48.01 0 10-56 0z"}}]},name:"unlock",theme:"outlined"},fo=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:po}))},mo=l.forwardRef(fo),go={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M858.5 763.6a374 374 0 00-80.6-119.5 375.63 375.63 0 00-119.5-80.6c-.4-.2-.8-.3-1.2-.5C719.5 518 760 444.7 760 362c0-137-111-248-248-248S264 225 264 362c0 82.7 40.5 156 102.8 201.1-.4.2-.8.3-1.2.5-44.8 18.9-85 46-119.5 80.6a375.63 375.63 0 00-80.6 119.5A371.7 371.7 0 00136 901.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8 2-77.2 33-149.5 87.8-204.3 56.7-56.7 132-87.9 212.2-87.9s155.5 31.2 212.2 87.9C779 752.7 810 825 812 902.2c.1 4.4 3.6 7.8 8 7.8h60a8 8 0 008-8.2c-1-47.8-10.9-94.3-29.5-138.2zM512 534c-45.9 0-89.1-17.9-121.6-50.4S340 407.9 340 362c0-45.9 17.9-89.1 50.4-121.6S466.1 190 512 190s89.1 17.9 121.6 50.4S684 316.1 684 362c0 45.9-17.9 89.1-50.4 121.6S557.9 534 512 534z"}}]},name:"user",theme:"outlined"},xo=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:go}))},Qe=l.forwardRef(xo),yo={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M723 620.5C666.8 571.6 593.4 542 513 542s-153.8 29.6-210.1 78.6a8.1 8.1 0 00-.8 11.2l36 42.9c2.9 3.4 8 3.8 11.4.9C393.1 637.2 450.3 614 513 614s119.9 23.2 163.5 61.5c3.4 2.9 8.5 2.5 11.4-.9l36-42.9c2.8-3.3 2.4-8.3-.9-11.2zm117.4-140.1C751.7 406.5 637.6 362 513 362s-238.7 44.5-327.5 118.4a8.05 8.05 0 00-1 11.3l36 42.9c2.8 3.4 7.9 3.8 11.2 1C308 472.2 406.1 434 513 434s205 38.2 281.2 101.6c3.4 2.8 8.4 2.4 11.2-1l36-42.9c2.8-3.4 2.4-8.5-1-11.3zm116.7-139C835.7 241.8 680.3 182 511 182c-168.2 0-322.6 59-443.7 157.4a8 8 0 00-1.1 11.4l36 42.9c2.8 3.3 7.8 3.8 11.1 1.1C222 306.7 360.3 254 511 254c151.8 0 291 53.5 400 142.7 3.4 2.8 8.4 2.3 11.2-1.1l36-42.9c2.9-3.4 2.4-8.5-1.1-11.3zM448 778a64 64 0 10128 0 64 64 0 10-128 0z"}}]},name:"wifi",theme:"outlined"},vo=function(e,n){return l.createElement(K,Z({},e,{ref:n,icon:yo}))},bo=l.forwardRef(vo);const{Sider:jo}=Lt,wo=({collapsed:s,setCollapsed:e})=>{const n=Dt(),r=Ke(),{user:i}=Rt(),a=i?.role==="Administrator",o=[{key:"/",icon:t.jsx(wa,{}),label:"Dashboard"},{key:"/servers",icon:t.jsx(Ts,{}),label:"Servers"},{key:"/domains",icon:t.jsx(Ne,{}),label:"Domains"},{key:"/emails",icon:t.jsx(vt,{}),label:"Emails"},{key:"/files",icon:t.jsx(ss,{}),label:"File Manager"},{key:"/databases",icon:t.jsx(at,{}),label:"Databases"},{key:"/ssl-certificates",icon:t.jsx(no,{}),label:"SSL Certificates"},{key:"/monitoring",icon:t.jsx(Xn,{}),label:"Monitoring"},{key:"/backups",icon:t.jsx(xa,{}),label:"Backups"},{key:"/alerts",icon:t.jsx(Qs,{}),label:"Alerts"},{type:"divider"},...a?[{key:"/users",icon:t.jsx(Qe,{}),label:"Users"}]:[],{key:"/settings",icon:t.jsx(Ht,{}),label:"Settings"}],d=({key:c})=>{n(c)};return t.jsxs(jo,{collapsible:!0,collapsed:s,onCollapse:e,style:{overflow:"auto",height:"100vh",position:"fixed",left:0,top:0,bottom:0},children:[t.jsx("div",{style:{height:32,margin:16,background:"rgba(255, 255, 255, 0.3)",borderRadius:4,display:"flex",alignItems:"center",justifyContent:"center"},children:!s&&t.jsx("span",{style:{color:"white",fontWeight:"bold"},children:"SuperPanel"})}),t.jsx(hr,{theme:"dark",defaultSelectedKeys:["/"],selectedKeys:[r.pathname],mode:"inline",items:o,onClick:d})]})},{Header:So}=Lt,Co=()=>{const{user:s,logout:e}=Rt(),n=Dt(),r=[{key:"profile",icon:t.jsx(Qe,{}),label:"Profile"},{key:"settings",icon:t.jsx(Ht,{}),label:"Settings"},{type:"divider"},{key:"logout",icon:t.jsx(Wa,{}),label:"Logout",danger:!0}],i=({key:a})=>{switch(a){case"logout":e(),n("/login");break}};return t.jsxs(So,{style:{padding:"0 16px",background:"#fff",display:"flex",alignItems:"center",justifyContent:"space-between",boxShadow:"0 1px 4px rgba(0,21,41,.08)"},children:[t.jsx("div",{style:{display:"flex",alignItems:"center"},children:t.jsx("h2",{style:{margin:0,color:"#1890ff"},children:"SuperPanel"})}),t.jsxs(W,{size:"middle",children:[t.jsx(Qs,{style:{fontSize:"18px",cursor:"pointer"}}),t.jsx(Bs,{menu:{items:r,onClick:i},placement:"bottomRight",children:t.jsxs(W,{style:{cursor:"pointer"},children:[t.jsx(Is,{size:"small",icon:t.jsx(Qe,{})}),t.jsx("span",{children:s?.username||"User"})]})})]})]})},{Title:_o}=pe,ko=()=>{const[s,e]=l.useState(!1),{login:n}=Rt(),r=Dt(),a=Ke().state?.from?.pathname||"/dashboard",o=async d=>{e(!0);try{await n(d.username,d.password),j.success("Login successful!"),r(a,{replace:!0})}catch(c){j.error(c instanceof Error?c.message:"Login failed")}finally{e(!1)}};return t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"#f0f2f5",padding:"20px"},children:t.jsxs(N,{style:{width:"100%",maxWidth:"400px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[t.jsx(_o,{level:2,style:{margin:0,color:"#1890ff"},children:"SuperPanel"}),t.jsx("p",{style:{color:"#666",margin:"8px 0 0 0"},children:"Web Hosting Control Panel"})]}),t.jsxs(v,{name:"login",onFinish:o,autoComplete:"off",size:"large",children:[t.jsx(v.Item,{name:"username",rules:[{required:!0,message:"Please input your username!"}],children:t.jsx(L,{prefix:t.jsx(Qe,{}),placeholder:"Username",autoFocus:!0})}),t.jsx(v.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"}],children:t.jsx(L.Password,{prefix:t.jsx(qt,{}),placeholder:"Password"})}),t.jsx(v.Item,{children:t.jsx(O,{type:"primary",htmlType:"submit",loading:s,block:!0,style:{height:"48px",fontSize:"16px"},children:s?"Signing In...":"Sign In"})})]}),t.jsx("div",{style:{textAlign:"center"},children:t.jsxs(W,{children:[t.jsx("span",{style:{color:"#666"},children:"Don't have an account?"}),t.jsx(Hn,{to:"/register",style:{color:"#1890ff"},children:"Sign up"})]})})]})})},{Title:Io}=pe,{Option:Cn}=z,Ao=()=>{const[s,e]=l.useState(!1),{register:n}=Rt(),r=Dt(),i=async a=>{if(a.password!==a.confirmPassword){j.error("Passwords do not match!");return}e(!0);try{await n(a.username,a.email,a.password,a.role||"User"),j.success("Registration successful! You are now logged in."),r("/dashboard")}catch(o){j.error(o instanceof Error?o.message:"Registration failed")}finally{e(!1)}};return t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",minHeight:"100vh",background:"#f0f2f5",padding:"20px"},children:t.jsxs(N,{style:{width:"100%",maxWidth:"400px",boxShadow:"0 4px 12px rgba(0, 0, 0, 0.15)"},children:[t.jsxs("div",{style:{textAlign:"center",marginBottom:"24px"},children:[t.jsx(Io,{level:2,style:{margin:0,color:"#1890ff"},children:"SuperPanel"}),t.jsx("p",{style:{color:"#666",margin:"8px 0 0 0"},children:"Create Your Account"})]}),t.jsxs(v,{name:"register",onFinish:i,autoComplete:"off",size:"large",children:[t.jsx(v.Item,{name:"username",rules:[{required:!0,message:"Please input your username!"},{min:3,message:"Username must be at least 3 characters!"},{pattern:/^[a-zA-Z0-9_]+$/,message:"Username can only contain letters, numbers, and underscores!"}],children:t.jsx(L,{prefix:t.jsx(Qe,{}),placeholder:"Username",autoFocus:!0})}),t.jsx(v.Item,{name:"email",rules:[{required:!0,message:"Please input your email!"},{type:"email",message:"Please enter a valid email!"}],children:t.jsx(L,{prefix:t.jsx(vt,{}),placeholder:"Email",type:"email"})}),t.jsx(v.Item,{name:"password",rules:[{required:!0,message:"Please input your password!"},{min:6,message:"Password must be at least 6 characters!"}],children:t.jsx(L.Password,{prefix:t.jsx(qt,{}),placeholder:"Password"})}),t.jsx(v.Item,{name:"confirmPassword",rules:[{required:!0,message:"Please confirm your password!"}],children:t.jsx(L.Password,{prefix:t.jsx(qt,{}),placeholder:"Confirm Password"})}),t.jsx(v.Item,{name:"role",initialValue:"User",children:t.jsxs(z,{placeholder:"Select role",children:[t.jsx(Cn,{value:"User",children:"User"}),t.jsx(Cn,{value:"Admin",children:"Admin"})]})}),t.jsx(v.Item,{children:t.jsx(O,{type:"primary",htmlType:"submit",loading:s,block:!0,style:{height:"48px",fontSize:"16px"},children:s?"Creating Account...":"Create Account"})})]}),t.jsx("div",{style:{textAlign:"center"},children:t.jsxs(W,{children:[t.jsx("span",{style:{color:"#666"},children:"Already have an account?"}),t.jsx(Hn,{to:"/login",style:{color:"#1890ff"},children:"Sign in"})]})})]})})},sr="",Eo=s=>{if(s===""||s.startsWith("/")||s.startsWith("/"))return s;if(s&&!s.startsWith("https://"))throw new Error("Insecure URL detected. Only HTTPS connections are allowed.");return s};var se=(s=>(s.Active="Active",s.Inactive="Inactive",s.Suspended="Suspended",s.Corrupted="Corrupted",s))(se||{}),ee=(s=>(s.Running="Running",s.Stopped="Stopped",s.Error="Error",s.Maintenance="Maintenance",s))(ee||{});class Po{baseUrl;getToken;constructor(e,n){this.baseUrl=Eo(e),this.getToken=n}getHeaders(){const e={"Content-Type":"application/json","X-Requested-With":"XMLHttpRequest","Cache-Control":"no-cache",Pragma:"no-cache"},n=this.getToken();return n&&(e.Authorization=`Bearer ${n}`),e}async handleResponse(e){if(!e.ok){const n=await e.text();throw new Error(`API Error: ${e.status} - ${n}`)}return e.status===204?{}:e.json()}async get(e){const n=await fetch(`${this.baseUrl}${e}`,{method:"GET",headers:this.getHeaders(),credentials:"same-origin",mode:"cors",cache:"no-cache"});return this.handleResponse(n)}async post(e,n){const r=await fetch(`${this.baseUrl}${e}`,{method:"POST",headers:this.getHeaders(),body:n?JSON.stringify(n):void 0,credentials:"same-origin",mode:"cors",cache:"no-cache"});return this.handleResponse(r)}async put(e,n){const r=await fetch(`${this.baseUrl}${e}`,{method:"PUT",headers:this.getHeaders(),body:JSON.stringify(n),credentials:"same-origin",mode:"cors",cache:"no-cache"});return this.handleResponse(r)}async delete(e){const n=await fetch(`${this.baseUrl}${e}`,{method:"DELETE",headers:this.getHeaders(),credentials:"same-origin",mode:"cors",cache:"no-cache"});await this.handleResponse(n)}async patch(e,n){const r=await fetch(`${this.baseUrl}${e}`,{method:"PATCH",headers:this.getHeaders(),body:JSON.stringify(n),credentials:"same-origin",mode:"cors",cache:"no-cache"});return this.handleResponse(r)}}const nr=()=>localStorage.getItem("authToken"),E=new Po(sr,nr),qe={getAll:()=>E.get("/api/servers"),getById:s=>E.get(`/api/servers/${s}`),create:s=>E.post("/api/servers",s),update:(s,e)=>E.put(`/api/servers/${s}`,e),delete:s=>E.delete(`/api/servers/${s}`),updateStatus:(s,e)=>E.patch(`/api/servers/${s}/status`,e),getSystemInfo:()=>E.get("/api/servers/system-info")},he={getAll:()=>E.get("/api/domains"),getById:s=>E.get(`/api/domains/${s}`),getByServerId:s=>E.get(`/api/domains/server/${s}`),create:s=>E.post("/api/domains",s),update:(s,e)=>E.put(`/api/domains/${s}`,e),delete:s=>E.delete(`/api/domains/${s}`),getDnsRecords:s=>E.get(`/api/domains/${s}/dns-records`),createDnsRecord:(s,e)=>E.post(`/api/domains/${s}/dns-records`,e),updateDnsRecord:(s,e,n)=>E.put(`/api/domains/${s}/dns-records/${e}`,n),deleteDnsRecord:(s,e)=>E.delete(`/api/domains/${s}/dns-records/${e}`),getDnsZone:s=>E.get(`/api/domains/${s}/dns-zone`),updateDnsZone:(s,e)=>E.put(`/api/domains/${s}/dns-zone`,e),getDnsPropagationStatus:s=>E.get(`/api/domains/${s}/dns-propagation`),checkDnsPropagation:s=>E.post(`/api/domains/${s}/dns-propagation/check`)},tt={browse:(s="/")=>E.get(`/api/files/browse?path=${encodeURIComponent(s)}`),getInfo:s=>E.get(`/api/files/info?path=${encodeURIComponent(s)}`),readFile:s=>E.get(`/api/files/content?filePath=${encodeURIComponent(s)}`),writeFile:(s,e)=>E.post("/api/files/content",{filePath:s,content:e}),deleteFile:s=>E.delete(`/api/files?filePath=${encodeURIComponent(s)}`),createDirectory:s=>E.post("/api/files/directory",{path:s}),deleteDirectory:s=>E.delete(`/api/files/directory?path=${encodeURIComponent(s)}`),move:(s,e)=>E.post("/api/files/move",{sourcePath:s,destinationPath:e}),copy:(s,e)=>E.post("/api/files/copy",{sourcePath:s,destinationPath:e})},zt={getAll:()=>E.get("/api/databases"),getById:s=>E.get(`/api/databases/${s}`),getByServerId:s=>E.get(`/api/databases/server/${s}`),create:s=>E.post("/api/databases",s),update:(s,e)=>E.put(`/api/databases/${s}`,e),delete:s=>E.delete(`/api/databases/${s}`)},Do={getHealth:()=>E.get("/api/health"),getSystem:()=>E.get("/api/health/system"),getMockServers:()=>E.get("/api/health/mock-servers"),getMockDomains:()=>E.get("/api/health/mock-domains")},Ro={getStats:async()=>{try{return await E.get("/api/dashboard/stats")}catch(s){throw console.error("Failed to fetch dashboard stats:",s),s}}},Gt={getAll:()=>E.get("/api/users"),getById:s=>E.get(`/api/users/${s}`),create:s=>E.post("/api/users",s),update:(s,e)=>E.put(`/api/users/${s}`,e),delete:s=>E.delete(`/api/users/${s}`)},Ft={getAll:()=>E.get("/api/ssl-certificates"),getById:s=>E.get(`/api/ssl-certificates/${s}`),getByDomain:s=>E.get(`/api/ssl-certificates/domain/${s}`),getExpiringSoon:(s=30)=>E.get(`/api/ssl-certificates/expiring-soon?days=${s}`),request:s=>E.post("/api/ssl-certificates/request",s),install:(s,e)=>E.put(`/api/ssl-certificates/${s}/install`,e),renew:s=>E.put(`/api/ssl-certificates/${s}/renew`,{}),delete:s=>E.delete(`/api/ssl-certificates/${s}`)},st={getAll:()=>E.get("/api/emails"),getById:s=>E.get(`/api/emails/${s}`),getByDomain:s=>E.get(`/api/emails/domain/${s}`),create:s=>E.post("/api/emails",s),update:(s,e)=>E.put(`/api/emails/${s}`,e),delete:s=>E.delete(`/api/emails/${s}`),addForwarder:(s,e)=>E.post(`/api/emails/${s}/forwarders`,e),deleteForwarder:s=>E.delete(`/api/emails/forwarders/${s}`),addAlias:(s,e)=>E.post(`/api/emails/${s}/aliases`,e),deleteAlias:s=>E.delete(`/api/emails/aliases/${s}`)},ft={getAll:()=>E.get("/api/backups"),getById:s=>E.get(`/api/backups/${s}`),getByServerId:s=>E.get(`/api/backups/server/${s}`),getByDatabaseId:s=>E.get(`/api/backups/database/${s}`),getByDomainId:s=>E.get(`/api/backups/domain/${s}`),create:s=>E.post("/api/backups",s),delete:s=>E.delete(`/api/backups/${s}`),restore:(s,e)=>E.post(`/api/backups/${s}/restore`,e),download:async s=>{const e=await fetch(`${sr}/api/backups/${s}/download`,{method:"GET",headers:{Authorization:`Bearer ${nr()}`},credentials:"same-origin",mode:"cors"});if(!e.ok)throw new Error(`Download failed: ${e.status}`);return e.blob()},getLogs:s=>E.get(`/api/backups/${s}/logs`),getStats:()=>E.get("/api/backups/stats"),cancel:s=>E.post(`/api/backups/${s}/cancel`,{})},kt={getAll:()=>E.get("/api/backup-schedules"),getById:s=>E.get(`/api/backup-schedules/${s}`),create:s=>E.post("/api/backup-schedules",s),update:(s,e)=>E.put(`/api/backup-schedules/${s}`,e),delete:s=>E.delete(`/api/backup-schedules/${s}`),enable:s=>E.patch(`/api/backup-schedules/${s}/enable`,{}),disable:s=>E.patch(`/api/backup-schedules/${s}/disable`,{})},Ot={getAll:()=>E.get("/api/alertrules"),getById:s=>E.get(`/api/alertrules/${s}`),create:s=>E.post("/api/alertrules",s),update:(s,e)=>E.put(`/api/alertrules/${s}`,e),delete:s=>E.delete(`/api/alertrules/${s}`),test:s=>E.post(`/api/alertrules/${s}/test`,{})},Ue={getAll:(s,e)=>{const n=new URLSearchParams;s&&n.append("serverId",s.toString()),e&&n.append("status",e);const r=n.toString();return E.get(`/api/alerts${r?`?${r}`:""}`)},getById:s=>E.get(`/api/alerts/${s}`),create:s=>E.post("/api/alerts",s),acknowledge:s=>E.put(`/api/alerts/${s}/acknowledge`,{}),resolve:s=>E.put(`/api/alerts/${s}/resolve`,{}),acknowledgeWithComment:(s,e,n)=>E.put(`/api/alerts/${s}/acknowledge-with-comment`,{comment:e,user:n}),resolveWithComment:(s,e,n)=>E.put(`/api/alerts/${s}/resolve-with-comment`,{comment:e,user:n}),getHistory:s=>E.get(`/api/alerts/${s}/history`),getComments:s=>E.get(`/api/alerts/${s}/comments`),addComment:(s,e,n,r)=>E.post(`/api/alerts/${s}/comments`,{comment:e,commentType:n,user:r}),getStats:()=>E.get("/api/alerts/stats"),evaluate:()=>E.post("/api/alerts/evaluate",{}),delete:s=>E.delete(`/api/alerts/${s}`)};class jt extends Error{constructor(e,n){const r=new.target.prototype;super(`${e}: Status code '${n}'`),this.statusCode=n,this.__proto__=r}}class Zs extends Error{constructor(e="A timeout occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class Me extends Error{constructor(e="An abort occurred."){const n=new.target.prototype;super(e),this.__proto__=n}}class Mo extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="UnsupportedTransportError",this.__proto__=r}}class To extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="DisabledTransportError",this.__proto__=r}}class $o extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.transport=n,this.errorType="FailedToStartTransportError",this.__proto__=r}}class _n extends Error{constructor(e){const n=new.target.prototype;super(e),this.errorType="FailedToNegotiateWithServerError",this.__proto__=n}}class Fo extends Error{constructor(e,n){const r=new.target.prototype;super(e),this.innerErrors=n,this.__proto__=r}}class rr{constructor(e,n,r){this.statusCode=e,this.statusText=n,this.content=r}}class us{get(e,n){return this.send({...n,method:"GET",url:e})}post(e,n){return this.send({...n,method:"POST",url:e})}delete(e,n){return this.send({...n,method:"DELETE",url:e})}getCookieString(e){return""}}var S;(function(s){s[s.Trace=0]="Trace",s[s.Debug=1]="Debug",s[s.Information=2]="Information",s[s.Warning=3]="Warning",s[s.Error=4]="Error",s[s.Critical=5]="Critical",s[s.None=6]="None"})(S||(S={}));class Vt{constructor(){}log(e,n){}}Vt.instance=new Vt;const Oo="9.0.6";class ae{static isRequired(e,n){if(e==null)throw new Error(`The '${n}' argument is required.`)}static isNotEmpty(e,n){if(!e||e.match(/^\s*$/))throw new Error(`The '${n}' argument should not be empty.`)}static isIn(e,n,r){if(!(e in n))throw new Error(`Unknown ${r} value: ${e}.`)}}class te{static get isBrowser(){return!te.isNode&&typeof window=="object"&&typeof window.document=="object"}static get isWebWorker(){return!te.isNode&&typeof self=="object"&&"importScripts"in self}static get isReactNative(){return!te.isNode&&typeof window=="object"&&typeof window.document>"u"}static get isNode(){return typeof process<"u"&&process.release&&process.release.name==="node"}}function Wt(s,e){let n="";return St(s)?(n=`Binary data of length ${s.byteLength}`,e&&(n+=`. Content: '${Bo(s)}'`)):typeof s=="string"&&(n=`String data of length ${s.length}`,e&&(n+=`. Content: '${s}'`)),n}function Bo(s){const e=new Uint8Array(s);let n="";return e.forEach(r=>{const i=r<16?"0":"";n+=`0x${i}${r.toString(16)} `}),n.substr(0,n.length-1)}function St(s){return s&&typeof ArrayBuffer<"u"&&(s instanceof ArrayBuffer||s.constructor&&s.constructor.name==="ArrayBuffer")}async function ir(s,e,n,r,i,a){const o={},[d,c]=At();o[d]=c,s.log(S.Trace,`(${e} transport) sending data. ${Wt(i,a.logMessageContent)}.`);const p=St(i)?"arraybuffer":"text",h=await n.post(r,{content:i,headers:{...o,...a.headers},responseType:p,timeout:a.timeout,withCredentials:a.withCredentials});s.log(S.Trace,`(${e} transport) request complete. Response status: ${h.statusCode}.`)}function zo(s){return s===void 0?new os(S.Information):s===null?Vt.instance:s.log!==void 0?s:new os(s)}class Lo{constructor(e,n){this._subject=e,this._observer=n}dispose(){const e=this._subject.observers.indexOf(this._observer);e>-1&&this._subject.observers.splice(e,1),this._subject.observers.length===0&&this._subject.cancelCallback&&this._subject.cancelCallback().catch(n=>{})}}class os{constructor(e){this._minLevel=e,this.out=console}log(e,n){if(e>=this._minLevel){const r=`[${new Date().toISOString()}] ${S[e]}: ${n}`;switch(e){case S.Critical:case S.Error:this.out.error(r);break;case S.Warning:this.out.warn(r);break;case S.Information:this.out.info(r);break;default:this.out.log(r);break}}}}function At(){let s="X-SignalR-User-Agent";return te.isNode&&(s="User-Agent"),[s,Uo(Oo,No(),Ho(),qo())]}function Uo(s,e,n,r){let i="Microsoft SignalR/";const a=s.split(".");return i+=`${a[0]}.${a[1]}`,i+=` (${s}; `,e&&e!==""?i+=`${e}; `:i+="Unknown OS; ",i+=`${n}`,r?i+=`; ${r}`:i+="; Unknown Runtime Version",i+=")",i}function No(){if(te.isNode)switch(process.platform){case"win32":return"Windows NT";case"darwin":return"macOS";case"linux":return"Linux";default:return process.platform}else return""}function qo(){if(te.isNode)return process.versions.node}function Ho(){return te.isNode?"NodeJS":"Browser"}function Cs(s){return s.stack?s.stack:s.message?s.message:`${s}`}function Vo(){if(typeof globalThis<"u")return globalThis;if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("could not find global")}class Wo extends us{constructor(e){if(super(),this._logger=e,typeof fetch>"u"||te.isNode){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._jar=new(n("tough-cookie")).CookieJar,typeof fetch>"u"?this._fetchType=n("node-fetch"):this._fetchType=fetch,this._fetchType=n("fetch-cookie")(this._fetchType,this._jar)}else this._fetchType=fetch.bind(Vo());if(typeof AbortController>"u"){const n=typeof __webpack_require__=="function"?__non_webpack_require__:require;this._abortControllerType=n("abort-controller")}else this._abortControllerType=AbortController}async send(e){if(e.abortSignal&&e.abortSignal.aborted)throw new Me;if(!e.method)throw new Error("No method defined.");if(!e.url)throw new Error("No url defined.");const n=new this._abortControllerType;let r;e.abortSignal&&(e.abortSignal.onabort=()=>{n.abort(),r=new Me});let i=null;if(e.timeout){const c=e.timeout;i=setTimeout(()=>{n.abort(),this._logger.log(S.Warning,"Timeout from HTTP request."),r=new Zs},c)}e.content===""&&(e.content=void 0),e.content&&(e.headers=e.headers||{},St(e.content)?e.headers["Content-Type"]="application/octet-stream":e.headers["Content-Type"]="text/plain;charset=UTF-8");let a;try{a=await this._fetchType(e.url,{body:e.content,cache:"no-cache",credentials:e.withCredentials===!0?"include":"same-origin",headers:{"X-Requested-With":"XMLHttpRequest",...e.headers},method:e.method,mode:"cors",redirect:"follow",signal:n.signal})}catch(c){throw r||(this._logger.log(S.Warning,`Error from HTTP request. ${c}.`),c)}finally{i&&clearTimeout(i),e.abortSignal&&(e.abortSignal.onabort=null)}if(!a.ok){const c=await kn(a,"text");throw new jt(c||a.statusText,a.status)}const d=await kn(a,e.responseType);return new rr(a.status,a.statusText,d)}getCookieString(e){let n="";return te.isNode&&this._jar&&this._jar.getCookies(e,(r,i)=>n=i.join("; ")),n}}function kn(s,e){let n;switch(e){case"arraybuffer":n=s.arrayBuffer();break;case"text":n=s.text();break;case"blob":case"document":case"json":throw new Error(`${e} is not supported.`);default:n=s.text();break}return n}class Qo extends us{constructor(e){super(),this._logger=e}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Me):e.method?e.url?new Promise((n,r)=>{const i=new XMLHttpRequest;i.open(e.method,e.url,!0),i.withCredentials=e.withCredentials===void 0?!0:e.withCredentials,i.setRequestHeader("X-Requested-With","XMLHttpRequest"),e.content===""&&(e.content=void 0),e.content&&(St(e.content)?i.setRequestHeader("Content-Type","application/octet-stream"):i.setRequestHeader("Content-Type","text/plain;charset=UTF-8"));const a=e.headers;a&&Object.keys(a).forEach(o=>{i.setRequestHeader(o,a[o])}),e.responseType&&(i.responseType=e.responseType),e.abortSignal&&(e.abortSignal.onabort=()=>{i.abort(),r(new Me)}),e.timeout&&(i.timeout=e.timeout),i.onload=()=>{e.abortSignal&&(e.abortSignal.onabort=null),i.status>=200&&i.status<300?n(new rr(i.status,i.statusText,i.response||i.responseText)):r(new jt(i.response||i.responseText||i.statusText,i.status))},i.onerror=()=>{this._logger.log(S.Warning,`Error from HTTP request. ${i.status}: ${i.statusText}.`),r(new jt(i.statusText,i.status))},i.ontimeout=()=>{this._logger.log(S.Warning,"Timeout from HTTP request."),r(new Zs)},i.send(e.content)}):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}}class Ko extends us{constructor(e){if(super(),typeof fetch<"u"||te.isNode)this._httpClient=new Wo(e);else if(typeof XMLHttpRequest<"u")this._httpClient=new Qo(e);else throw new Error("No usable HttpClient found.")}send(e){return e.abortSignal&&e.abortSignal.aborted?Promise.reject(new Me):e.method?e.url?this._httpClient.send(e):Promise.reject(new Error("No url defined.")):Promise.reject(new Error("No method defined."))}getCookieString(e){return this._httpClient.getCookieString(e)}}class Ie{static write(e){return`${e}${Ie.RecordSeparator}`}static parse(e){if(e[e.length-1]!==Ie.RecordSeparator)throw new Error("Message is incomplete.");const n=e.split(Ie.RecordSeparator);return n.pop(),n}}Ie.RecordSeparatorCode=30;Ie.RecordSeparator=String.fromCharCode(Ie.RecordSeparatorCode);class Zo{writeHandshakeRequest(e){return Ie.write(JSON.stringify(e))}parseHandshakeResponse(e){let n,r;if(St(e)){const d=new Uint8Array(e),c=d.indexOf(Ie.RecordSeparatorCode);if(c===-1)throw new Error("Message is incomplete.");const p=c+1;n=String.fromCharCode.apply(null,Array.prototype.slice.call(d.slice(0,p))),r=d.byteLength>p?d.slice(p).buffer:null}else{const d=e,c=d.indexOf(Ie.RecordSeparator);if(c===-1)throw new Error("Message is incomplete.");const p=c+1;n=d.substring(0,p),r=d.length>p?d.substring(p):null}const i=Ie.parse(n),a=JSON.parse(i[0]);if(a.type)throw new Error("Expected a handshake response from the server.");return[r,a]}}var H;(function(s){s[s.Invocation=1]="Invocation",s[s.StreamItem=2]="StreamItem",s[s.Completion=3]="Completion",s[s.StreamInvocation=4]="StreamInvocation",s[s.CancelInvocation=5]="CancelInvocation",s[s.Ping=6]="Ping",s[s.Close=7]="Close",s[s.Ack=8]="Ack",s[s.Sequence=9]="Sequence"})(H||(H={}));class Jo{constructor(){this.observers=[]}next(e){for(const n of this.observers)n.next(e)}error(e){for(const n of this.observers)n.error&&n.error(e)}complete(){for(const e of this.observers)e.complete&&e.complete()}subscribe(e){return this.observers.push(e),new Lo(this,e)}}class Go{constructor(e,n,r){this._bufferSize=1e5,this._messages=[],this._totalMessageCount=0,this._waitForSequenceMessage=!1,this._nextReceivingSequenceId=1,this._latestReceivedSequenceId=0,this._bufferedByteCount=0,this._reconnectInProgress=!1,this._protocol=e,this._connection=n,this._bufferSize=r}async _send(e){const n=this._protocol.writeMessage(e);let r=Promise.resolve();if(this._isInvocationMessage(e)){this._totalMessageCount++;let i=()=>{},a=()=>{};St(n)?this._bufferedByteCount+=n.byteLength:this._bufferedByteCount+=n.length,this._bufferedByteCount>=this._bufferSize&&(r=new Promise((o,d)=>{i=o,a=d})),this._messages.push(new Xo(n,this._totalMessageCount,i,a))}try{this._reconnectInProgress||await this._connection.send(n)}catch{this._disconnected()}await r}_ack(e){let n=-1;for(let r=0;r<this._messages.length;r++){const i=this._messages[r];if(i._id<=e.sequenceId)n=r,St(i._message)?this._bufferedByteCount-=i._message.byteLength:this._bufferedByteCount-=i._message.length,i._resolver();else if(this._bufferedByteCount<this._bufferSize)i._resolver();else break}n!==-1&&(this._messages=this._messages.slice(n+1))}_shouldProcessMessage(e){if(this._waitForSequenceMessage)return e.type!==H.Sequence?!1:(this._waitForSequenceMessage=!1,!0);if(!this._isInvocationMessage(e))return!0;const n=this._nextReceivingSequenceId;return this._nextReceivingSequenceId++,n<=this._latestReceivedSequenceId?(n===this._latestReceivedSequenceId&&this._ackTimer(),!1):(this._latestReceivedSequenceId=n,this._ackTimer(),!0)}_resetSequence(e){if(e.sequenceId>this._nextReceivingSequenceId){this._connection.stop(new Error("Sequence ID greater than amount of messages we've received."));return}this._nextReceivingSequenceId=e.sequenceId}_disconnected(){this._reconnectInProgress=!0,this._waitForSequenceMessage=!0}async _resend(){const e=this._messages.length!==0?this._messages[0]._id:this._totalMessageCount+1;await this._connection.send(this._protocol.writeMessage({type:H.Sequence,sequenceId:e}));const n=this._messages;for(const r of n)await this._connection.send(r._message);this._reconnectInProgress=!1}_dispose(e){e??(e=new Error("Unable to reconnect to server."));for(const n of this._messages)n._rejector(e)}_isInvocationMessage(e){switch(e.type){case H.Invocation:case H.StreamItem:case H.Completion:case H.StreamInvocation:case H.CancelInvocation:return!0;case H.Close:case H.Sequence:case H.Ping:case H.Ack:return!1}}_ackTimer(){this._ackTimerHandle===void 0&&(this._ackTimerHandle=setTimeout(async()=>{try{this._reconnectInProgress||await this._connection.send(this._protocol.writeMessage({type:H.Ack,sequenceId:this._latestReceivedSequenceId}))}catch{}clearTimeout(this._ackTimerHandle),this._ackTimerHandle=void 0},1e3))}}class Xo{constructor(e,n,r,i){this._message=e,this._id=n,this._resolver=r,this._rejector=i}}const Yo=30*1e3,el=15*1e3,tl=1e5;var Y;(function(s){s.Disconnected="Disconnected",s.Connecting="Connecting",s.Connected="Connected",s.Disconnecting="Disconnecting",s.Reconnecting="Reconnecting"})(Y||(Y={}));class Js{static create(e,n,r,i,a,o,d){return new Js(e,n,r,i,a,o,d)}constructor(e,n,r,i,a,o,d){this._nextKeepAlive=0,this._freezeEventListener=()=>{this._logger.log(S.Warning,"The page is being frozen, this will likely lead to the connection being closed and messages being lost. For more information see the docs at https://learn.microsoft.com/aspnet/core/signalr/javascript-client#bsleep")},ae.isRequired(e,"connection"),ae.isRequired(n,"logger"),ae.isRequired(r,"protocol"),this.serverTimeoutInMilliseconds=a??Yo,this.keepAliveIntervalInMilliseconds=o??el,this._statefulReconnectBufferSize=d??tl,this._logger=n,this._protocol=r,this.connection=e,this._reconnectPolicy=i,this._handshakeProtocol=new Zo,this.connection.onreceive=c=>this._processIncomingData(c),this.connection.onclose=c=>this._connectionClosed(c),this._callbacks={},this._methods={},this._closedCallbacks=[],this._reconnectingCallbacks=[],this._reconnectedCallbacks=[],this._invocationId=0,this._receivedHandshakeResponse=!1,this._connectionState=Y.Disconnected,this._connectionStarted=!1,this._cachedPingMessage=this._protocol.writeMessage({type:H.Ping})}get state(){return this._connectionState}get connectionId(){return this.connection&&this.connection.connectionId||null}get baseUrl(){return this.connection.baseUrl||""}set baseUrl(e){if(this._connectionState!==Y.Disconnected&&this._connectionState!==Y.Reconnecting)throw new Error("The HubConnection must be in the Disconnected or Reconnecting state to change the url.");if(!e)throw new Error("The HubConnection url must be a valid url.");this.connection.baseUrl=e}start(){return this._startPromise=this._startWithStateTransitions(),this._startPromise}async _startWithStateTransitions(){if(this._connectionState!==Y.Disconnected)return Promise.reject(new Error("Cannot start a HubConnection that is not in the 'Disconnected' state."));this._connectionState=Y.Connecting,this._logger.log(S.Debug,"Starting HubConnection.");try{await this._startInternal(),te.isBrowser&&window.document.addEventListener("freeze",this._freezeEventListener),this._connectionState=Y.Connected,this._connectionStarted=!0,this._logger.log(S.Debug,"HubConnection connected successfully.")}catch(e){return this._connectionState=Y.Disconnected,this._logger.log(S.Debug,`HubConnection failed to start successfully because of error '${e}'.`),Promise.reject(e)}}async _startInternal(){this._stopDuringStartError=void 0,this._receivedHandshakeResponse=!1;const e=new Promise((n,r)=>{this._handshakeResolver=n,this._handshakeRejecter=r});await this.connection.start(this._protocol.transferFormat);try{let n=this._protocol.version;this.connection.features.reconnect||(n=1);const r={protocol:this._protocol.name,version:n};if(this._logger.log(S.Debug,"Sending handshake request."),await this._sendMessage(this._handshakeProtocol.writeHandshakeRequest(r)),this._logger.log(S.Information,`Using HubProtocol '${this._protocol.name}'.`),this._cleanupTimeout(),this._resetTimeoutPeriod(),this._resetKeepAliveInterval(),await e,this._stopDuringStartError)throw this._stopDuringStartError;(this.connection.features.reconnect||!1)&&(this._messageBuffer=new Go(this._protocol,this.connection,this._statefulReconnectBufferSize),this.connection.features.disconnected=this._messageBuffer._disconnected.bind(this._messageBuffer),this.connection.features.resend=()=>{if(this._messageBuffer)return this._messageBuffer._resend()}),this.connection.features.inherentKeepAlive||await this._sendMessage(this._cachedPingMessage)}catch(n){throw this._logger.log(S.Debug,`Hub handshake failed with error '${n}' during start(). Stopping HubConnection.`),this._cleanupTimeout(),this._cleanupPingTimer(),await this.connection.stop(n),n}}async stop(){const e=this._startPromise;this.connection.features.reconnect=!1,this._stopPromise=this._stopInternal(),await this._stopPromise;try{await e}catch{}}_stopInternal(e){if(this._connectionState===Y.Disconnected)return this._logger.log(S.Debug,`Call to HubConnection.stop(${e}) ignored because it is already in the disconnected state.`),Promise.resolve();if(this._connectionState===Y.Disconnecting)return this._logger.log(S.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;const n=this._connectionState;return this._connectionState=Y.Disconnecting,this._logger.log(S.Debug,"Stopping HubConnection."),this._reconnectDelayHandle?(this._logger.log(S.Debug,"Connection stopped during reconnect delay. Done reconnecting."),clearTimeout(this._reconnectDelayHandle),this._reconnectDelayHandle=void 0,this._completeClose(),Promise.resolve()):(n===Y.Connected&&this._sendCloseMessage(),this._cleanupTimeout(),this._cleanupPingTimer(),this._stopDuringStartError=e||new Me("The connection was stopped before the hub handshake could complete."),this.connection.stop(e))}async _sendCloseMessage(){try{await this._sendWithProtocol(this._createCloseMessage())}catch{}}stream(e,...n){const[r,i]=this._replaceStreamingParams(n),a=this._createStreamInvocation(e,n,i);let o;const d=new Jo;return d.cancelCallback=()=>{const c=this._createCancelInvocation(a.invocationId);return delete this._callbacks[a.invocationId],o.then(()=>this._sendWithProtocol(c))},this._callbacks[a.invocationId]=(c,p)=>{if(p){d.error(p);return}else c&&(c.type===H.Completion?c.error?d.error(new Error(c.error)):d.complete():d.next(c.item))},o=this._sendWithProtocol(a).catch(c=>{d.error(c),delete this._callbacks[a.invocationId]}),this._launchStreams(r,o),d}_sendMessage(e){return this._resetKeepAliveInterval(),this.connection.send(e)}_sendWithProtocol(e){return this._messageBuffer?this._messageBuffer._send(e):this._sendMessage(this._protocol.writeMessage(e))}send(e,...n){const[r,i]=this._replaceStreamingParams(n),a=this._sendWithProtocol(this._createInvocation(e,n,!0,i));return this._launchStreams(r,a),a}invoke(e,...n){const[r,i]=this._replaceStreamingParams(n),a=this._createInvocation(e,n,!1,i);return new Promise((d,c)=>{this._callbacks[a.invocationId]=(h,m)=>{if(m){c(m);return}else h&&(h.type===H.Completion?h.error?c(new Error(h.error)):d(h.result):c(new Error(`Unexpected message type: ${h.type}`)))};const p=this._sendWithProtocol(a).catch(h=>{c(h),delete this._callbacks[a.invocationId]});this._launchStreams(r,p)})}on(e,n){!e||!n||(e=e.toLowerCase(),this._methods[e]||(this._methods[e]=[]),this._methods[e].indexOf(n)===-1&&this._methods[e].push(n))}off(e,n){if(!e)return;e=e.toLowerCase();const r=this._methods[e];if(r)if(n){const i=r.indexOf(n);i!==-1&&(r.splice(i,1),r.length===0&&delete this._methods[e])}else delete this._methods[e]}onclose(e){e&&this._closedCallbacks.push(e)}onreconnecting(e){e&&this._reconnectingCallbacks.push(e)}onreconnected(e){e&&this._reconnectedCallbacks.push(e)}_processIncomingData(e){if(this._cleanupTimeout(),this._receivedHandshakeResponse||(e=this._processHandshakeResponse(e),this._receivedHandshakeResponse=!0),e){const n=this._protocol.parseMessages(e,this._logger);for(const r of n)if(!(this._messageBuffer&&!this._messageBuffer._shouldProcessMessage(r)))switch(r.type){case H.Invocation:this._invokeClientMethod(r).catch(i=>{this._logger.log(S.Error,`Invoke client method threw error: ${Cs(i)}`)});break;case H.StreamItem:case H.Completion:{const i=this._callbacks[r.invocationId];if(i){r.type===H.Completion&&delete this._callbacks[r.invocationId];try{i(r)}catch(a){this._logger.log(S.Error,`Stream callback threw error: ${Cs(a)}`)}}break}case H.Ping:break;case H.Close:{this._logger.log(S.Information,"Close message received from server.");const i=r.error?new Error("Server returned an error on close: "+r.error):void 0;r.allowReconnect===!0?this.connection.stop(i):this._stopPromise=this._stopInternal(i);break}case H.Ack:this._messageBuffer&&this._messageBuffer._ack(r);break;case H.Sequence:this._messageBuffer&&this._messageBuffer._resetSequence(r);break;default:this._logger.log(S.Warning,`Invalid message type: ${r.type}.`);break}}this._resetTimeoutPeriod()}_processHandshakeResponse(e){let n,r;try{[r,n]=this._handshakeProtocol.parseHandshakeResponse(e)}catch(i){const a="Error parsing handshake response: "+i;this._logger.log(S.Error,a);const o=new Error(a);throw this._handshakeRejecter(o),o}if(n.error){const i="Server returned handshake error: "+n.error;this._logger.log(S.Error,i);const a=new Error(i);throw this._handshakeRejecter(a),a}else this._logger.log(S.Debug,"Server handshake complete.");return this._handshakeResolver(),r}_resetKeepAliveInterval(){this.connection.features.inherentKeepAlive||(this._nextKeepAlive=new Date().getTime()+this.keepAliveIntervalInMilliseconds,this._cleanupPingTimer())}_resetTimeoutPeriod(){if((!this.connection.features||!this.connection.features.inherentKeepAlive)&&(this._timeoutHandle=setTimeout(()=>this.serverTimeout(),this.serverTimeoutInMilliseconds),this._pingServerHandle===void 0)){let e=this._nextKeepAlive-new Date().getTime();e<0&&(e=0),this._pingServerHandle=setTimeout(async()=>{if(this._connectionState===Y.Connected)try{await this._sendMessage(this._cachedPingMessage)}catch{this._cleanupPingTimer()}},e)}}serverTimeout(){this.connection.stop(new Error("Server timeout elapsed without receiving a message from the server."))}async _invokeClientMethod(e){const n=e.target.toLowerCase(),r=this._methods[n];if(!r){this._logger.log(S.Warning,`No client method with the name '${n}' found.`),e.invocationId&&(this._logger.log(S.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),await this._sendWithProtocol(this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)));return}const i=r.slice(),a=!!e.invocationId;let o,d,c;for(const p of i)try{const h=o;o=await p.apply(this,e.arguments),a&&o&&h&&(this._logger.log(S.Error,`Multiple results provided for '${n}'. Sending error to server.`),c=this._createCompletionMessage(e.invocationId,"Client provided multiple results.",null)),d=void 0}catch(h){d=h,this._logger.log(S.Error,`A callback for the method '${n}' threw error '${h}'.`)}c?await this._sendWithProtocol(c):a?(d?c=this._createCompletionMessage(e.invocationId,`${d}`,null):o!==void 0?c=this._createCompletionMessage(e.invocationId,null,o):(this._logger.log(S.Warning,`No result given for '${n}' method and invocation ID '${e.invocationId}'.`),c=this._createCompletionMessage(e.invocationId,"Client didn't provide a result.",null)),await this._sendWithProtocol(c)):o&&this._logger.log(S.Error,`Result given for '${n}' method but server is not expecting a result.`)}_connectionClosed(e){this._logger.log(S.Debug,`HubConnection.connectionClosed(${e}) called while in state ${this._connectionState}.`),this._stopDuringStartError=this._stopDuringStartError||e||new Me("The underlying connection was closed before the hub handshake could complete."),this._handshakeResolver&&this._handshakeResolver(),this._cancelCallbacksWithError(e||new Error("Invocation canceled due to the underlying connection being closed.")),this._cleanupTimeout(),this._cleanupPingTimer(),this._connectionState===Y.Disconnecting?this._completeClose(e):this._connectionState===Y.Connected&&this._reconnectPolicy?this._reconnect(e):this._connectionState===Y.Connected&&this._completeClose(e)}_completeClose(e){if(this._connectionStarted){this._connectionState=Y.Disconnected,this._connectionStarted=!1,this._messageBuffer&&(this._messageBuffer._dispose(e??new Error("Connection closed.")),this._messageBuffer=void 0),te.isBrowser&&window.document.removeEventListener("freeze",this._freezeEventListener);try{this._closedCallbacks.forEach(n=>n.apply(this,[e]))}catch(n){this._logger.log(S.Error,`An onclose callback called with error '${e}' threw error '${n}'.`)}}}async _reconnect(e){const n=Date.now();let r=0,i=e!==void 0?e:new Error("Attempting to reconnect due to a unknown error."),a=this._getNextRetryDelay(r++,0,i);if(a===null){this._logger.log(S.Debug,"Connection not reconnecting because the IRetryPolicy returned null on the first reconnect attempt."),this._completeClose(e);return}if(this._connectionState=Y.Reconnecting,e?this._logger.log(S.Information,`Connection reconnecting because of error '${e}'.`):this._logger.log(S.Information,"Connection reconnecting."),this._reconnectingCallbacks.length!==0){try{this._reconnectingCallbacks.forEach(o=>o.apply(this,[e]))}catch(o){this._logger.log(S.Error,`An onreconnecting callback called with error '${e}' threw error '${o}'.`)}if(this._connectionState!==Y.Reconnecting){this._logger.log(S.Debug,"Connection left the reconnecting state in onreconnecting callback. Done reconnecting.");return}}for(;a!==null;){if(this._logger.log(S.Information,`Reconnect attempt number ${r} will start in ${a} ms.`),await new Promise(o=>{this._reconnectDelayHandle=setTimeout(o,a)}),this._reconnectDelayHandle=void 0,this._connectionState!==Y.Reconnecting){this._logger.log(S.Debug,"Connection left the reconnecting state during reconnect delay. Done reconnecting.");return}try{if(await this._startInternal(),this._connectionState=Y.Connected,this._logger.log(S.Information,"HubConnection reconnected successfully."),this._reconnectedCallbacks.length!==0)try{this._reconnectedCallbacks.forEach(o=>o.apply(this,[this.connection.connectionId]))}catch(o){this._logger.log(S.Error,`An onreconnected callback called with connectionId '${this.connection.connectionId}; threw error '${o}'.`)}return}catch(o){if(this._logger.log(S.Information,`Reconnect attempt failed because of error '${o}'.`),this._connectionState!==Y.Reconnecting){this._logger.log(S.Debug,`Connection moved to the '${this._connectionState}' from the reconnecting state during reconnect attempt. Done reconnecting.`),this._connectionState===Y.Disconnecting&&this._completeClose();return}i=o instanceof Error?o:new Error(o.toString()),a=this._getNextRetryDelay(r++,Date.now()-n,i)}}this._logger.log(S.Information,`Reconnect retries have been exhausted after ${Date.now()-n} ms and ${r} failed attempts. Connection disconnecting.`),this._completeClose()}_getNextRetryDelay(e,n,r){try{return this._reconnectPolicy.nextRetryDelayInMilliseconds({elapsedMilliseconds:n,previousRetryCount:e,retryReason:r})}catch(i){return this._logger.log(S.Error,`IRetryPolicy.nextRetryDelayInMilliseconds(${e}, ${n}) threw error '${i}'.`),null}}_cancelCallbacksWithError(e){const n=this._callbacks;this._callbacks={},Object.keys(n).forEach(r=>{const i=n[r];try{i(null,e)}catch(a){this._logger.log(S.Error,`Stream 'error' callback called with '${e}' threw error: ${Cs(a)}`)}})}_cleanupPingTimer(){this._pingServerHandle&&(clearTimeout(this._pingServerHandle),this._pingServerHandle=void 0)}_cleanupTimeout(){this._timeoutHandle&&clearTimeout(this._timeoutHandle)}_createInvocation(e,n,r,i){if(r)return i.length!==0?{target:e,arguments:n,streamIds:i,type:H.Invocation}:{target:e,arguments:n,type:H.Invocation};{const a=this._invocationId;return this._invocationId++,i.length!==0?{target:e,arguments:n,invocationId:a.toString(),streamIds:i,type:H.Invocation}:{target:e,arguments:n,invocationId:a.toString(),type:H.Invocation}}}_launchStreams(e,n){if(e.length!==0){n||(n=Promise.resolve());for(const r in e)e[r].subscribe({complete:()=>{n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r)))},error:i=>{let a;i instanceof Error?a=i.message:i&&i.toString?a=i.toString():a="Unknown error",n=n.then(()=>this._sendWithProtocol(this._createCompletionMessage(r,a)))},next:i=>{n=n.then(()=>this._sendWithProtocol(this._createStreamItemMessage(r,i)))}})}}_replaceStreamingParams(e){const n=[],r=[];for(let i=0;i<e.length;i++){const a=e[i];if(this._isObservable(a)){const o=this._invocationId;this._invocationId++,n[o]=a,r.push(o.toString()),e.splice(i,1)}}return[n,r]}_isObservable(e){return e&&e.subscribe&&typeof e.subscribe=="function"}_createStreamInvocation(e,n,r){const i=this._invocationId;return this._invocationId++,r.length!==0?{target:e,arguments:n,invocationId:i.toString(),streamIds:r,type:H.StreamInvocation}:{target:e,arguments:n,invocationId:i.toString(),type:H.StreamInvocation}}_createCancelInvocation(e){return{invocationId:e,type:H.CancelInvocation}}_createStreamItemMessage(e,n){return{invocationId:e,item:n,type:H.StreamItem}}_createCompletionMessage(e,n,r){return n?{error:n,invocationId:e,type:H.Completion}:{invocationId:e,result:r,type:H.Completion}}_createCloseMessage(){return{type:H.Close}}}const sl=[0,2e3,1e4,3e4,null];class In{constructor(e){this._retryDelays=e!==void 0?[...e,null]:sl}nextRetryDelayInMilliseconds(e){return this._retryDelays[e.previousRetryCount]}}class wt{}wt.Authorization="Authorization";wt.Cookie="Cookie";class nl extends us{constructor(e,n){super(),this._innerClient=e,this._accessTokenFactory=n}async send(e){let n=!0;this._accessTokenFactory&&(!this._accessToken||e.url&&e.url.indexOf("/negotiate?")>0)&&(n=!1,this._accessToken=await this._accessTokenFactory()),this._setAuthorizationHeader(e);const r=await this._innerClient.send(e);return n&&r.statusCode===401&&this._accessTokenFactory?(this._accessToken=await this._accessTokenFactory(),this._setAuthorizationHeader(e),await this._innerClient.send(e)):r}_setAuthorizationHeader(e){e.headers||(e.headers={}),this._accessToken?e.headers[wt.Authorization]=`Bearer ${this._accessToken}`:this._accessTokenFactory&&e.headers[wt.Authorization]&&delete e.headers[wt.Authorization]}getCookieString(e){return this._innerClient.getCookieString(e)}}var oe;(function(s){s[s.None=0]="None",s[s.WebSockets=1]="WebSockets",s[s.ServerSentEvents=2]="ServerSentEvents",s[s.LongPolling=4]="LongPolling"})(oe||(oe={}));var ye;(function(s){s[s.Text=1]="Text",s[s.Binary=2]="Binary"})(ye||(ye={}));let rl=class{constructor(){this._isAborted=!1,this.onabort=null}abort(){this._isAborted||(this._isAborted=!0,this.onabort&&this.onabort())}get signal(){return this}get aborted(){return this._isAborted}};class An{get pollAborted(){return this._pollAbort.aborted}constructor(e,n,r){this._httpClient=e,this._logger=n,this._pollAbort=new rl,this._options=r,this._running=!1,this.onreceive=null,this.onclose=null}async connect(e,n){if(ae.isRequired(e,"url"),ae.isRequired(n,"transferFormat"),ae.isIn(n,ye,"transferFormat"),this._url=e,this._logger.log(S.Trace,"(LongPolling transport) Connecting."),n===ye.Binary&&typeof XMLHttpRequest<"u"&&typeof new XMLHttpRequest().responseType!="string")throw new Error("Binary protocols over XmlHttpRequest not implementing advanced features are not supported.");const[r,i]=At(),a={[r]:i,...this._options.headers},o={abortSignal:this._pollAbort.signal,headers:a,timeout:1e5,withCredentials:this._options.withCredentials};n===ye.Binary&&(o.responseType="arraybuffer");const d=`${e}&_=${Date.now()}`;this._logger.log(S.Trace,`(LongPolling transport) polling: ${d}.`);const c=await this._httpClient.get(d,o);c.statusCode!==200?(this._logger.log(S.Error,`(LongPolling transport) Unexpected response code: ${c.statusCode}.`),this._closeError=new jt(c.statusText||"",c.statusCode),this._running=!1):this._running=!0,this._receiving=this._poll(this._url,o)}async _poll(e,n){try{for(;this._running;)try{const r=`${e}&_=${Date.now()}`;this._logger.log(S.Trace,`(LongPolling transport) polling: ${r}.`);const i=await this._httpClient.get(r,n);i.statusCode===204?(this._logger.log(S.Information,"(LongPolling transport) Poll terminated by server."),this._running=!1):i.statusCode!==200?(this._logger.log(S.Error,`(LongPolling transport) Unexpected response code: ${i.statusCode}.`),this._closeError=new jt(i.statusText||"",i.statusCode),this._running=!1):i.content?(this._logger.log(S.Trace,`(LongPolling transport) data received. ${Wt(i.content,this._options.logMessageContent)}.`),this.onreceive&&this.onreceive(i.content)):this._logger.log(S.Trace,"(LongPolling transport) Poll timed out, reissuing.")}catch(r){this._running?r instanceof Zs?this._logger.log(S.Trace,"(LongPolling transport) Poll timed out, reissuing."):(this._closeError=r,this._running=!1):this._logger.log(S.Trace,`(LongPolling transport) Poll errored after shutdown: ${r.message}`)}}finally{this._logger.log(S.Trace,"(LongPolling transport) Polling complete."),this.pollAborted||this._raiseOnClose()}}async send(e){return this._running?ir(this._logger,"LongPolling",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}async stop(){this._logger.log(S.Trace,"(LongPolling transport) Stopping polling."),this._running=!1,this._pollAbort.abort();try{await this._receiving,this._logger.log(S.Trace,`(LongPolling transport) sending DELETE request to ${this._url}.`);const e={},[n,r]=At();e[n]=r;const i={headers:{...e,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials};let a;try{await this._httpClient.delete(this._url,i)}catch(o){a=o}a?a instanceof jt&&(a.statusCode===404?this._logger.log(S.Trace,"(LongPolling transport) A 404 response was returned from sending a DELETE request."):this._logger.log(S.Trace,`(LongPolling transport) Error sending a DELETE request: ${a}`)):this._logger.log(S.Trace,"(LongPolling transport) DELETE request accepted.")}finally{this._logger.log(S.Trace,"(LongPolling transport) Stop finished."),this._raiseOnClose()}}_raiseOnClose(){if(this.onclose){let e="(LongPolling transport) Firing onclose event.";this._closeError&&(e+=" Error: "+this._closeError),this._logger.log(S.Trace,e),this.onclose(this._closeError)}}}class il{constructor(e,n,r,i){this._httpClient=e,this._accessToken=n,this._logger=r,this._options=i,this.onreceive=null,this.onclose=null}async connect(e,n){return ae.isRequired(e,"url"),ae.isRequired(n,"transferFormat"),ae.isIn(n,ye,"transferFormat"),this._logger.log(S.Trace,"(SSE transport) Connecting."),this._url=e,this._accessToken&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(this._accessToken)}`),new Promise((r,i)=>{let a=!1;if(n!==ye.Text){i(new Error("The Server-Sent Events transport only supports the 'Text' transfer format"));return}let o;if(te.isBrowser||te.isWebWorker)o=new this._options.EventSource(e,{withCredentials:this._options.withCredentials});else{const d=this._httpClient.getCookieString(e),c={};c.Cookie=d;const[p,h]=At();c[p]=h,o=new this._options.EventSource(e,{withCredentials:this._options.withCredentials,headers:{...c,...this._options.headers}})}try{o.onmessage=d=>{if(this.onreceive)try{this._logger.log(S.Trace,`(SSE transport) data received. ${Wt(d.data,this._options.logMessageContent)}.`),this.onreceive(d.data)}catch(c){this._close(c);return}},o.onerror=d=>{a?this._close():i(new Error("EventSource failed to connect. The connection could not be found on the server, either the connection ID is not present on the server, or a proxy is refusing/buffering the connection. If you have multiple servers check that sticky sessions are enabled."))},o.onopen=()=>{this._logger.log(S.Information,`SSE connected to ${this._url}`),this._eventSource=o,a=!0,r()}}catch(d){i(d);return}})}async send(e){return this._eventSource?ir(this._logger,"SSE",this._httpClient,this._url,e,this._options):Promise.reject(new Error("Cannot send until the transport is connected"))}stop(){return this._close(),Promise.resolve()}_close(e){this._eventSource&&(this._eventSource.close(),this._eventSource=void 0,this.onclose&&this.onclose(e))}}class al{constructor(e,n,r,i,a,o){this._logger=r,this._accessTokenFactory=n,this._logMessageContent=i,this._webSocketConstructor=a,this._httpClient=e,this.onreceive=null,this.onclose=null,this._headers=o}async connect(e,n){ae.isRequired(e,"url"),ae.isRequired(n,"transferFormat"),ae.isIn(n,ye,"transferFormat"),this._logger.log(S.Trace,"(WebSockets transport) Connecting.");let r;return this._accessTokenFactory&&(r=await this._accessTokenFactory()),new Promise((i,a)=>{e=e.replace(/^http/,"ws");let o;const d=this._httpClient.getCookieString(e);let c=!1;if(te.isNode||te.isReactNative){const p={},[h,m]=At();p[h]=m,r&&(p[wt.Authorization]=`Bearer ${r}`),d&&(p[wt.Cookie]=d),o=new this._webSocketConstructor(e,void 0,{headers:{...p,...this._headers}})}else r&&(e+=(e.indexOf("?")<0?"?":"&")+`access_token=${encodeURIComponent(r)}`);o||(o=new this._webSocketConstructor(e)),n===ye.Binary&&(o.binaryType="arraybuffer"),o.onopen=p=>{this._logger.log(S.Information,`WebSocket connected to ${e}.`),this._webSocket=o,c=!0,i()},o.onerror=p=>{let h=null;typeof ErrorEvent<"u"&&p instanceof ErrorEvent?h=p.error:h="There was an error with the transport",this._logger.log(S.Information,`(WebSockets transport) ${h}.`)},o.onmessage=p=>{if(this._logger.log(S.Trace,`(WebSockets transport) data received. ${Wt(p.data,this._logMessageContent)}.`),this.onreceive)try{this.onreceive(p.data)}catch(h){this._close(h);return}},o.onclose=p=>{if(c)this._close(p);else{let h=null;typeof ErrorEvent<"u"&&p instanceof ErrorEvent?h=p.error:h="WebSocket failed to connect. The connection could not be found on the server, either the endpoint may not be a SignalR endpoint, the connection ID is not present on the server, or there is a proxy blocking WebSockets. If you have multiple servers check that sticky sessions are enabled.",a(new Error(h))}}})}send(e){return this._webSocket&&this._webSocket.readyState===this._webSocketConstructor.OPEN?(this._logger.log(S.Trace,`(WebSockets transport) sending data. ${Wt(e,this._logMessageContent)}.`),this._webSocket.send(e),Promise.resolve()):Promise.reject("WebSocket is not in the OPEN state")}stop(){return this._webSocket&&this._close(void 0),Promise.resolve()}_close(e){this._webSocket&&(this._webSocket.onclose=()=>{},this._webSocket.onmessage=()=>{},this._webSocket.onerror=()=>{},this._webSocket.close(),this._webSocket=void 0),this._logger.log(S.Trace,"(WebSockets transport) socket closed."),this.onclose&&(this._isCloseEvent(e)&&(e.wasClean===!1||e.code!==1e3)?this.onclose(new Error(`WebSocket closed with status code: ${e.code} (${e.reason||"no reason given"}).`)):e instanceof Error?this.onclose(e):this.onclose())}_isCloseEvent(e){return e&&typeof e.wasClean=="boolean"&&typeof e.code=="number"}}const En=100;class ol{constructor(e,n={}){if(this._stopPromiseResolver=()=>{},this.features={},this._negotiateVersion=1,ae.isRequired(e,"url"),this._logger=zo(n.logger),this.baseUrl=this._resolveUrl(e),n=n||{},n.logMessageContent=n.logMessageContent===void 0?!1:n.logMessageContent,typeof n.withCredentials=="boolean"||n.withCredentials===void 0)n.withCredentials=n.withCredentials===void 0?!0:n.withCredentials;else throw new Error("withCredentials option was not a 'boolean' or 'undefined' value");n.timeout=n.timeout===void 0?100*1e3:n.timeout;let r=null,i=null;if(te.isNode&&typeof require<"u"){const a=typeof __webpack_require__=="function"?__non_webpack_require__:require;r=a("ws"),i=a("eventsource")}!te.isNode&&typeof WebSocket<"u"&&!n.WebSocket?n.WebSocket=WebSocket:te.isNode&&!n.WebSocket&&r&&(n.WebSocket=r),!te.isNode&&typeof EventSource<"u"&&!n.EventSource?n.EventSource=EventSource:te.isNode&&!n.EventSource&&typeof i<"u"&&(n.EventSource=i),this._httpClient=new nl(n.httpClient||new Ko(this._logger),n.accessTokenFactory),this._connectionState="Disconnected",this._connectionStarted=!1,this._options=n,this.onreceive=null,this.onclose=null}async start(e){if(e=e||ye.Binary,ae.isIn(e,ye,"transferFormat"),this._logger.log(S.Debug,`Starting connection with transfer format '${ye[e]}'.`),this._connectionState!=="Disconnected")return Promise.reject(new Error("Cannot start an HttpConnection that is not in the 'Disconnected' state."));if(this._connectionState="Connecting",this._startInternalPromise=this._startInternal(e),await this._startInternalPromise,this._connectionState==="Disconnecting"){const n="Failed to start the HttpConnection before stop() was called.";return this._logger.log(S.Error,n),await this._stopPromise,Promise.reject(new Me(n))}else if(this._connectionState!=="Connected"){const n="HttpConnection.startInternal completed gracefully but didn't enter the connection into the connected state!";return this._logger.log(S.Error,n),Promise.reject(new Me(n))}this._connectionStarted=!0}send(e){return this._connectionState!=="Connected"?Promise.reject(new Error("Cannot send data if the connection is not in the 'Connected' State.")):(this._sendQueue||(this._sendQueue=new Gs(this.transport)),this._sendQueue.send(e))}async stop(e){if(this._connectionState==="Disconnected")return this._logger.log(S.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnected state.`),Promise.resolve();if(this._connectionState==="Disconnecting")return this._logger.log(S.Debug,`Call to HttpConnection.stop(${e}) ignored because the connection is already in the disconnecting state.`),this._stopPromise;this._connectionState="Disconnecting",this._stopPromise=new Promise(n=>{this._stopPromiseResolver=n}),await this._stopInternal(e),await this._stopPromise}async _stopInternal(e){this._stopError=e;try{await this._startInternalPromise}catch{}if(this.transport){try{await this.transport.stop()}catch(n){this._logger.log(S.Error,`HttpConnection.transport.stop() threw error '${n}'.`),this._stopConnection()}this.transport=void 0}else this._logger.log(S.Debug,"HttpConnection.transport is undefined in HttpConnection.stop() because start() failed.")}async _startInternal(e){let n=this.baseUrl;this._accessTokenFactory=this._options.accessTokenFactory,this._httpClient._accessTokenFactory=this._accessTokenFactory;try{if(this._options.skipNegotiation)if(this._options.transport===oe.WebSockets)this.transport=this._constructTransport(oe.WebSockets),await this._startTransport(n,e);else throw new Error("Negotiation can only be skipped when using the WebSocket transport directly.");else{let r=null,i=0;do{if(r=await this._getNegotiationResponse(n),this._connectionState==="Disconnecting"||this._connectionState==="Disconnected")throw new Me("The connection was stopped during negotiation.");if(r.error)throw new Error(r.error);if(r.ProtocolVersion)throw new Error("Detected a connection attempt to an ASP.NET SignalR Server. This client only supports connecting to an ASP.NET Core SignalR Server. See https://aka.ms/signalr-core-differences for details.");if(r.url&&(n=r.url),r.accessToken){const a=r.accessToken;this._accessTokenFactory=()=>a,this._httpClient._accessToken=a,this._httpClient._accessTokenFactory=void 0}i++}while(r.url&&i<En);if(i===En&&r.url)throw new Error("Negotiate redirection limit exceeded.");await this._createTransport(n,this._options.transport,r,e)}this.transport instanceof An&&(this.features.inherentKeepAlive=!0),this._connectionState==="Connecting"&&(this._logger.log(S.Debug,"The HttpConnection connected successfully."),this._connectionState="Connected")}catch(r){return this._logger.log(S.Error,"Failed to start the connection: "+r),this._connectionState="Disconnected",this.transport=void 0,this._stopPromiseResolver(),Promise.reject(r)}}async _getNegotiationResponse(e){const n={},[r,i]=At();n[r]=i;const a=this._resolveNegotiateUrl(e);this._logger.log(S.Debug,`Sending negotiation request: ${a}.`);try{const o=await this._httpClient.post(a,{content:"",headers:{...n,...this._options.headers},timeout:this._options.timeout,withCredentials:this._options.withCredentials});if(o.statusCode!==200)return Promise.reject(new Error(`Unexpected status code returned from negotiate '${o.statusCode}'`));const d=JSON.parse(o.content);return(!d.negotiateVersion||d.negotiateVersion<1)&&(d.connectionToken=d.connectionId),d.useStatefulReconnect&&this._options._useStatefulReconnect!==!0?Promise.reject(new _n("Client didn't negotiate Stateful Reconnect but the server did.")):d}catch(o){let d="Failed to complete negotiation with the server: "+o;return o instanceof jt&&o.statusCode===404&&(d=d+" Either this is not a SignalR endpoint or there is a proxy blocking the connection."),this._logger.log(S.Error,d),Promise.reject(new _n(d))}}_createConnectUrl(e,n){return n?e+(e.indexOf("?")===-1?"?":"&")+`id=${n}`:e}async _createTransport(e,n,r,i){let a=this._createConnectUrl(e,r.connectionToken);if(this._isITransport(n)){this._logger.log(S.Debug,"Connection was provided an instance of ITransport, using that directly."),this.transport=n,await this._startTransport(a,i),this.connectionId=r.connectionId;return}const o=[],d=r.availableTransports||[];let c=r;for(const p of d){const h=this._resolveTransportOrError(p,n,i,c?.useStatefulReconnect===!0);if(h instanceof Error)o.push(`${p.transport} failed:`),o.push(h);else if(this._isITransport(h)){if(this.transport=h,!c){try{c=await this._getNegotiationResponse(e)}catch(m){return Promise.reject(m)}a=this._createConnectUrl(e,c.connectionToken)}try{await this._startTransport(a,i),this.connectionId=c.connectionId;return}catch(m){if(this._logger.log(S.Error,`Failed to start the transport '${p.transport}': ${m}`),c=void 0,o.push(new $o(`${p.transport} failed: ${m}`,oe[p.transport])),this._connectionState!=="Connecting"){const A="Failed to select transport before stop() was called.";return this._logger.log(S.Debug,A),Promise.reject(new Me(A))}}}}return o.length>0?Promise.reject(new Fo(`Unable to connect to the server with any of the available transports. ${o.join(" ")}`,o)):Promise.reject(new Error("None of the transports supported by the client are supported by the server."))}_constructTransport(e){switch(e){case oe.WebSockets:if(!this._options.WebSocket)throw new Error("'WebSocket' is not supported in your environment.");return new al(this._httpClient,this._accessTokenFactory,this._logger,this._options.logMessageContent,this._options.WebSocket,this._options.headers||{});case oe.ServerSentEvents:if(!this._options.EventSource)throw new Error("'EventSource' is not supported in your environment.");return new il(this._httpClient,this._httpClient._accessToken,this._logger,this._options);case oe.LongPolling:return new An(this._httpClient,this._logger,this._options);default:throw new Error(`Unknown transport: ${e}.`)}}_startTransport(e,n){return this.transport.onreceive=this.onreceive,this.features.reconnect?this.transport.onclose=async r=>{let i=!1;if(this.features.reconnect)try{this.features.disconnected(),await this.transport.connect(e,n),await this.features.resend()}catch{i=!0}else{this._stopConnection(r);return}i&&this._stopConnection(r)}:this.transport.onclose=r=>this._stopConnection(r),this.transport.connect(e,n)}_resolveTransportOrError(e,n,r,i){const a=oe[e.transport];if(a==null)return this._logger.log(S.Debug,`Skipping transport '${e.transport}' because it is not supported by this client.`),new Error(`Skipping transport '${e.transport}' because it is not supported by this client.`);if(ll(n,a))if(e.transferFormats.map(d=>ye[d]).indexOf(r)>=0){if(a===oe.WebSockets&&!this._options.WebSocket||a===oe.ServerSentEvents&&!this._options.EventSource)return this._logger.log(S.Debug,`Skipping transport '${oe[a]}' because it is not supported in your environment.'`),new Mo(`'${oe[a]}' is not supported in your environment.`,a);this._logger.log(S.Debug,`Selecting transport '${oe[a]}'.`);try{return this.features.reconnect=a===oe.WebSockets?i:void 0,this._constructTransport(a)}catch(d){return d}}else return this._logger.log(S.Debug,`Skipping transport '${oe[a]}' because it does not support the requested transfer format '${ye[r]}'.`),new Error(`'${oe[a]}' does not support ${ye[r]}.`);else return this._logger.log(S.Debug,`Skipping transport '${oe[a]}' because it was disabled by the client.`),new To(`'${oe[a]}' is disabled by the client.`,a)}_isITransport(e){return e&&typeof e=="object"&&"connect"in e}_stopConnection(e){if(this._logger.log(S.Debug,`HttpConnection.stopConnection(${e}) called while in state ${this._connectionState}.`),this.transport=void 0,e=this._stopError||e,this._stopError=void 0,this._connectionState==="Disconnected"){this._logger.log(S.Debug,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is already in the disconnected state.`);return}if(this._connectionState==="Connecting")throw this._logger.log(S.Warning,`Call to HttpConnection.stopConnection(${e}) was ignored because the connection is still in the connecting state.`),new Error(`HttpConnection.stopConnection(${e}) was called while the connection is still in the connecting state.`);if(this._connectionState==="Disconnecting"&&this._stopPromiseResolver(),e?this._logger.log(S.Error,`Connection disconnected with error '${e}'.`):this._logger.log(S.Information,"Connection disconnected."),this._sendQueue&&(this._sendQueue.stop().catch(n=>{this._logger.log(S.Error,`TransportSendQueue.stop() threw error '${n}'.`)}),this._sendQueue=void 0),this.connectionId=void 0,this._connectionState="Disconnected",this._connectionStarted){this._connectionStarted=!1;try{this.onclose&&this.onclose(e)}catch(n){this._logger.log(S.Error,`HttpConnection.onclose(${e}) threw error '${n}'.`)}}}_resolveUrl(e){if(e.lastIndexOf("https://",0)===0||e.lastIndexOf("http://",0)===0)return e;if(!te.isBrowser)throw new Error(`Cannot resolve '${e}'.`);const n=window.document.createElement("a");return n.href=e,this._logger.log(S.Information,`Normalizing '${e}' to '${n.href}'.`),n.href}_resolveNegotiateUrl(e){const n=new URL(e);n.pathname.endsWith("/")?n.pathname+="negotiate":n.pathname+="/negotiate";const r=new URLSearchParams(n.searchParams);return r.has("negotiateVersion")||r.append("negotiateVersion",this._negotiateVersion.toString()),r.has("useStatefulReconnect")?r.get("useStatefulReconnect")==="true"&&(this._options._useStatefulReconnect=!0):this._options._useStatefulReconnect===!0&&r.append("useStatefulReconnect","true"),n.search=r.toString(),n.toString()}}function ll(s,e){return!s||(e&s)!==0}class Gs{constructor(e){this._transport=e,this._buffer=[],this._executing=!0,this._sendBufferedData=new Xt,this._transportResult=new Xt,this._sendLoopPromise=this._sendLoop()}send(e){return this._bufferData(e),this._transportResult||(this._transportResult=new Xt),this._transportResult.promise}stop(){return this._executing=!1,this._sendBufferedData.resolve(),this._sendLoopPromise}_bufferData(e){if(this._buffer.length&&typeof this._buffer[0]!=typeof e)throw new Error(`Expected data to be of type ${typeof this._buffer} but was of type ${typeof e}`);this._buffer.push(e),this._sendBufferedData.resolve()}async _sendLoop(){for(;;){if(await this._sendBufferedData.promise,!this._executing){this._transportResult&&this._transportResult.reject("Connection stopped.");break}this._sendBufferedData=new Xt;const e=this._transportResult;this._transportResult=void 0;const n=typeof this._buffer[0]=="string"?this._buffer.join(""):Gs._concatBuffers(this._buffer);this._buffer.length=0;try{await this._transport.send(n),e.resolve()}catch(r){e.reject(r)}}}static _concatBuffers(e){const n=e.map(a=>a.byteLength).reduce((a,o)=>a+o),r=new Uint8Array(n);let i=0;for(const a of e)r.set(new Uint8Array(a),i),i+=a.byteLength;return r.buffer}}class Xt{constructor(){this.promise=new Promise((e,n)=>[this._resolver,this._rejecter]=[e,n])}resolve(){this._resolver()}reject(e){this._rejecter(e)}}const cl="json";class dl{constructor(){this.name=cl,this.version=2,this.transferFormat=ye.Text}parseMessages(e,n){if(typeof e!="string")throw new Error("Invalid input for JSON hub protocol. Expected a string.");if(!e)return[];n===null&&(n=Vt.instance);const r=Ie.parse(e),i=[];for(const a of r){const o=JSON.parse(a);if(typeof o.type!="number")throw new Error("Invalid payload.");switch(o.type){case H.Invocation:this._isInvocationMessage(o);break;case H.StreamItem:this._isStreamItemMessage(o);break;case H.Completion:this._isCompletionMessage(o);break;case H.Ping:break;case H.Close:break;case H.Ack:this._isAckMessage(o);break;case H.Sequence:this._isSequenceMessage(o);break;default:n.log(S.Information,"Unknown message type '"+o.type+"' ignored.");continue}i.push(o)}return i}writeMessage(e){return Ie.write(JSON.stringify(e))}_isInvocationMessage(e){this._assertNotEmptyString(e.target,"Invalid payload for Invocation message."),e.invocationId!==void 0&&this._assertNotEmptyString(e.invocationId,"Invalid payload for Invocation message.")}_isStreamItemMessage(e){if(this._assertNotEmptyString(e.invocationId,"Invalid payload for StreamItem message."),e.item===void 0)throw new Error("Invalid payload for StreamItem message.")}_isCompletionMessage(e){if(e.result&&e.error)throw new Error("Invalid payload for Completion message.");!e.result&&e.error&&this._assertNotEmptyString(e.error,"Invalid payload for Completion message."),this._assertNotEmptyString(e.invocationId,"Invalid payload for Completion message.")}_isAckMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Ack message.")}_isSequenceMessage(e){if(typeof e.sequenceId!="number")throw new Error("Invalid SequenceId for Sequence message.")}_assertNotEmptyString(e,n){if(typeof e!="string"||e==="")throw new Error(n)}}const ul={trace:S.Trace,debug:S.Debug,info:S.Information,information:S.Information,warn:S.Warning,warning:S.Warning,error:S.Error,critical:S.Critical,none:S.None};function hl(s){const e=ul[s.toLowerCase()];if(typeof e<"u")return e;throw new Error(`Unknown log level: ${s}`)}class ar{configureLogging(e){if(ae.isRequired(e,"logging"),pl(e))this.logger=e;else if(typeof e=="string"){const n=hl(e);this.logger=new os(n)}else this.logger=new os(e);return this}withUrl(e,n){return ae.isRequired(e,"url"),ae.isNotEmpty(e,"url"),this.url=e,typeof n=="object"?this.httpConnectionOptions={...this.httpConnectionOptions,...n}:this.httpConnectionOptions={...this.httpConnectionOptions,transport:n},this}withHubProtocol(e){return ae.isRequired(e,"protocol"),this.protocol=e,this}withAutomaticReconnect(e){if(this.reconnectPolicy)throw new Error("A reconnectPolicy has already been set.");return e?Array.isArray(e)?this.reconnectPolicy=new In(e):this.reconnectPolicy=e:this.reconnectPolicy=new In,this}withServerTimeout(e){return ae.isRequired(e,"milliseconds"),this._serverTimeoutInMilliseconds=e,this}withKeepAliveInterval(e){return ae.isRequired(e,"milliseconds"),this._keepAliveIntervalInMilliseconds=e,this}withStatefulReconnect(e){return this.httpConnectionOptions===void 0&&(this.httpConnectionOptions={}),this.httpConnectionOptions._useStatefulReconnect=!0,this._statefulReconnectBufferSize=e?.bufferSize,this}build(){const e=this.httpConnectionOptions||{};if(e.logger===void 0&&(e.logger=this.logger),!this.url)throw new Error("The 'HubConnectionBuilder.withUrl' method must be called before building the connection.");const n=new ol(this.url,e);return Js.create(n,this.logger||Vt.instance,this.protocol||new dl,this.reconnectPolicy,this._serverTimeoutInMilliseconds,this._keepAliveIntervalInMilliseconds,this._statefulReconnectBufferSize)}}function pl(s){return s.log!==void 0}class fl{connection=null;onMetricsUpdate;onAlertReceived;onConnectionStatusChange;constructor(){this.initializeConnection()}initializeConnection(){const e=localStorage.getItem("authToken");if(!e){console.warn("No auth token available for SignalR connection");return}this.connection=new ar().withUrl("http://localhost:7001/hubs/monitoring",{accessTokenFactory:()=>e,transport:7}).withAutomaticReconnect().configureLogging(S.Information).build(),this.setupEventHandlers()}setupEventHandlers(){this.connection&&(this.connection.on("ReceiveServerMetrics",(e,n)=>{console.log(`Received metrics for server ${e}:`,n),this.onMetricsUpdate?.(e,n)}),this.connection.on("ReceiveAlert",e=>{console.log("Received alert:",e),this.onAlertReceived?.(e)}),this.connection.onclose(()=>{console.log("SignalR connection closed"),this.onConnectionStatusChange?.(!1)}),this.connection.onreconnected(()=>{console.log("SignalR connection reconnected"),this.onConnectionStatusChange?.(!0)}))}async start(){if(this.connection||this.initializeConnection(),!this.connection)throw new Error("Failed to initialize SignalR connection");if(this.connection.state!=="Disconnected"){console.log("SignalR connection already started or connecting");return}try{await this.connection.start(),console.log("SignalR connection started successfully"),this.onConnectionStatusChange?.(!0)}catch(e){throw console.error("Failed to start SignalR connection:",e),this.onConnectionStatusChange?.(!1),e}}async stop(){this.connection&&(await this.connection.stop(),console.log("SignalR connection stopped"),this.onConnectionStatusChange?.(!1))}async subscribeToServer(e){if(!this.connection)throw new Error("Connection not initialized");try{await this.connection.invoke("SubscribeToServerMetrics",e),console.log(`Subscribed to metrics for server ${e}`)}catch(n){throw console.error(`Failed to subscribe to server ${e}:`,n),n}}async unsubscribeFromServer(e){if(!this.connection)throw new Error("Connection not initialized");try{await this.connection.invoke("UnsubscribeFromServerMetrics",e),console.log(`Unsubscribed from metrics for server ${e}`)}catch(n){throw console.error(`Failed to unsubscribe from server ${e}:`,n),n}}setOnMetricsUpdate(e){this.onMetricsUpdate=e}setOnAlertReceived(e){this.onAlertReceived=e}setOnConnectionStatusChange(e){this.onConnectionStatusChange=e}isConnected(){return this.connection?.state==="Connected"}dispose(){this.stop(),this.connection=null}}const mt=new fl,ml=()=>{const[s,e]=l.useState({metrics:{},alerts:[],isConnected:!1,subscribedServers:[]});l.useEffect(()=>(mt.setOnMetricsUpdate((c,p)=>{e(h=>({...h,metrics:{...h.metrics,[c]:p}}))}),mt.setOnAlertReceived(c=>{e(p=>({...p,alerts:[c,...p.alerts].slice(0,50)}))}),mt.setOnConnectionStatusChange(c=>{e(p=>({...p,isConnected:c}))}),(async()=>{try{await mt.start()}catch(c){console.error("Failed to start monitoring connection:",c)}})(),()=>{mt.dispose()}),[]);const n=l.useCallback(async d=>{try{await mt.subscribeToServer(d),e(c=>({...c,subscribedServers:[...c.subscribedServers,d]}))}catch(c){console.error(`Failed to subscribe to server ${d}:`,c)}},[]),r=l.useCallback(async d=>{try{await mt.unsubscribeFromServer(d),e(c=>({...c,subscribedServers:c.subscribedServers.filter(p=>p!==d)}))}catch(c){console.error(`Failed to unsubscribe from server ${d}:`,c)}},[]),i=l.useCallback(()=>{e(d=>({...d,alerts:[]}))},[]),a=l.useCallback(d=>s.metrics[d]||null,[s.metrics]),o=l.useCallback((d=10)=>s.alerts.slice(0,d),[s.alerts]);return{metrics:s.metrics,alerts:s.alerts,isConnected:s.isConnected,subscribedServers:s.subscribedServers,subscribeToServer:n,unsubscribeFromServer:r,clearAlerts:i,getServerMetrics:a,getRecentAlerts:o}};var $s=(s=>(s.Info="Info",s.Warning="Warning",s.Critical="Critical",s))($s||{});const{Title:gl}=pe,Pn=()=>{const[s,e]=l.useState(!0),[n,r]=l.useState(null),[i,a]=l.useState(null),{metrics:o,alerts:d,isConnected:c,subscribeToServer:p,clearAlerts:h,getRecentAlerts:m}=ml();if(l.useEffect(()=>{(async()=>{try{e(!0),a(null);const P=await Ro.getStats();r(P)}catch(P){console.error("Dashboard API error:",P),a(P instanceof Error?P.message:"Failed to load dashboard data"),r({totalServers:3,runningServers:2,activeDomains:12,totalDomains:15,totalDatabases:8,activeDatabases:7,systemInfo:{serverName:"SuperPanel-Server",operatingSystem:"Linux",architecture:"x64",cpuUsagePercent:23.5,totalMemoryMB:8192,availableMemoryMB:5400,drives:[{name:"/",fileSystem:"ext4",totalSizeGB:500,availableSpaceGB:290,usagePercent:42}],topProcesses:[],lastUpdated:new Date().toISOString()}})}finally{e(!1)}})()},[]),l.useEffect(()=>{(async()=>{if(c&&n)try{for(let P=1;P<=n.totalServers;P++)await p(P)}catch(P){console.error("Failed to subscribe to servers:",P)}})()},[c,n,p]),s)return t.jsxs("div",{style:{textAlign:"center",padding:"50px"},children:[t.jsx(Ve,{size:"large"}),t.jsx("div",{style:{marginTop:"16px"},children:"Loading dashboard..."})]});if(i&&!n)return t.jsx(Ce,{message:"Connection Error",description:"Unable to connect to API. Using fallback data for demonstration.",type:"warning",showIcon:!0,style:{margin:"20px 0"}});if(!n)return null;const A=Math.round((1-n.systemInfo.availableMemoryMB/n.systemInfo.totalMemoryMB)*100),f=n.systemInfo.drives.length>0?n.systemInfo.drives[0].usagePercent:0,D=n.systemInfo.drives.reduce((w,P)=>w+P.totalSizeGB,0),T=n.systemInfo.drives.reduce((w,P)=>w+(P.totalSizeGB-P.availableSpaceGB),0);return t.jsxs("div",{children:[t.jsxs(gl,{level:2,children:["Dashboard",t.jsx(bt,{status:c?"success":"error",text:c?"Real-time monitoring active":"Real-time monitoring offline",style:{marginLeft:"16px"}})]}),i&&t.jsx(Ce,{message:"API Connection Issue",description:"Some data may not be current due to API connectivity issues.",type:"warning",showIcon:!0,style:{marginBottom:"16px"},closable:!0}),d.length>0&&t.jsx(Ce,{message:`Active Alerts (${d.length})`,description:t.jsxs("div",{children:[t.jsx(ns,{size:"small",dataSource:m(5),renderItem:w=>t.jsxs(ns.Item,{children:[t.jsx(G,{color:w.severity===$s.Critical?"red":w.severity===$s.Warning?"orange":"blue",children:w.severity}),t.jsxs("strong",{children:[w.serverName,":"]})," ",w.message,t.jsx("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:new Date(w.timestamp).toLocaleTimeString()})]})}),d.length>5&&t.jsx("div",{style:{marginTop:"8px"},children:t.jsx(O,{size:"small",onClick:h,icon:t.jsx(da,{}),children:"Clear All Alerts"})})]}),type:"warning",showIcon:!0,style:{marginBottom:"16px"},closable:!1}),t.jsxs(ie,{gutter:[16,16],style:{marginBottom:"24px"},children:[t.jsx(U,{xs:24,sm:12,lg:6,children:t.jsxs(N,{children:[t.jsx(J,{title:"Total Servers",value:n.totalServers,prefix:t.jsx(Ts,{}),valueStyle:{color:"#3f8600"}}),t.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[n.runningServers," running"]}),c&&t.jsxs("div",{style:{fontSize:"12px",color:"#52c41a",marginTop:"4px"},children:[t.jsx(bo,{})," Live monitoring"]})]})}),t.jsx(U,{xs:24,sm:12,lg:6,children:t.jsxs(N,{children:[t.jsx(J,{title:"Active Domains",value:n.activeDomains,prefix:t.jsx(Ne,{}),valueStyle:{color:"#1890ff"}}),t.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[n.totalDomains," total domains"]})]})}),t.jsx(U,{xs:24,sm:12,lg:6,children:t.jsxs(N,{children:[t.jsx(J,{title:"Active Databases",value:n.activeDatabases,prefix:t.jsx(at,{}),valueStyle:{color:"#52c41a"}}),t.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[n.totalDatabases," total databases"]})]})}),t.jsx(U,{xs:24,sm:12,lg:6,children:t.jsx(N,{children:t.jsx(J,{title:"Storage Used",value:T,suffix:`/${D}GB`,prefix:t.jsx(ss,{}),valueStyle:{color:"#fa8c16"}})})})]}),t.jsxs(ie,{gutter:[16,16],children:[t.jsx(U,{xs:24,sm:8,children:t.jsx(N,{title:"CPU Usage",children:t.jsx(J,{value:n.systemInfo.cpuUsagePercent,precision:1,suffix:"%",valueStyle:{color:n.systemInfo.cpuUsagePercent>80?"#cf1322":n.systemInfo.cpuUsagePercent>60?"#fa8c16":"#3f8600"},prefix:n.systemInfo.cpuUsagePercent>50?t.jsx(Ss,{}):t.jsx(ws,{})})})}),t.jsx(U,{xs:24,sm:8,children:t.jsxs(N,{title:"Memory Usage",children:[t.jsx(J,{value:A,precision:1,suffix:"%",valueStyle:{color:A>80?"#cf1322":A>60?"#fa8c16":"#3f8600"},prefix:A>50?t.jsx(Ss,{}):t.jsx(ws,{})}),t.jsxs("div",{style:{fontSize:"12px",color:"#666",marginTop:"4px"},children:[Math.round(n.systemInfo.availableMemoryMB/1024),"GB / ",Math.round(n.systemInfo.totalMemoryMB/1024),"GB"]})]})}),t.jsx(U,{xs:24,sm:8,children:t.jsx(N,{title:"Disk Usage",children:t.jsx(J,{value:f,precision:1,suffix:"%",valueStyle:{color:f>80?"#cf1322":f>60?"#fa8c16":"#3f8600"},prefix:f>50?t.jsx(Ss,{}):t.jsx(ws,{})})})})]}),c&&Object.keys(o).length>0&&t.jsx(ie,{gutter:[16,16],style:{marginTop:"24px"},children:t.jsx(U,{span:24,children:t.jsx(N,{title:"Real-time Server Metrics",extra:t.jsx(bt,{status:"success",text:"Live"}),children:t.jsx(ie,{gutter:[16,16],children:Object.entries(o).map(([w,P])=>t.jsx(U,{xs:24,sm:12,lg:8,children:t.jsxs(N,{size:"small",title:`Server ${w}`,children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{children:"CPU:"}),t.jsxs("span",{style:{color:P.cpuUsage>80?"#cf1322":P.cpuUsage>60?"#fa8c16":"#3f8600",fontWeight:"bold"},children:[P.cpuUsage.toFixed(1),"%"]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{children:"Memory:"}),t.jsxs("span",{style:{color:P.memoryUsage>80?"#cf1322":P.memoryUsage>60?"#fa8c16":"#3f8600",fontWeight:"bold"},children:[P.memoryUsage.toFixed(1),"%"]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{children:"Disk:"}),t.jsxs("span",{style:{color:P.diskUsage>90?"#cf1322":P.diskUsage>80?"#fa8c16":"#3f8600",fontWeight:"bold"},children:[P.diskUsage.toFixed(1),"%"]})]}),t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[t.jsx("span",{children:"Connections:"}),t.jsx("span",{style:{fontWeight:"bold"},children:P.activeConnections})]}),t.jsxs("div",{style:{fontSize:"12px",color:"#666",textAlign:"center",marginTop:"8px"},children:["Updated: ",new Date(P.timestamp).toLocaleTimeString()]})]})},w))})})})}),t.jsx(ie,{gutter:[16,16],style:{marginTop:"24px"},children:t.jsx(U,{span:24,children:t.jsx(N,{title:"Quick Actions",children:t.jsxs("div",{style:{display:"flex",gap:"16px",flexWrap:"wrap"},children:[t.jsx(N,{size:"small",style:{cursor:"pointer"},onClick:()=>window.location.href="/servers",children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx(Ts,{style:{fontSize:"24px",marginBottom:"8px"}}),t.jsx("div",{children:"Manage Servers"})]})}),t.jsx(N,{size:"small",style:{cursor:"pointer"},onClick:()=>window.location.href="/domains",children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx(Ne,{style:{fontSize:"24px",marginBottom:"8px"}}),t.jsx("div",{children:"Add Domain"})]})}),t.jsx(N,{size:"small",style:{cursor:"pointer"},onClick:()=>window.location.href="/files",children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx(ss,{style:{fontSize:"24px",marginBottom:"8px"}}),t.jsx("div",{children:"File Manager"})]})}),t.jsx(N,{size:"small",style:{cursor:"pointer"},onClick:()=>window.location.href="/monitoring",children:t.jsxs("div",{style:{textAlign:"center"},children:[t.jsx(at,{style:{fontSize:"24px",marginBottom:"8px"}}),t.jsx("div",{children:"View Monitoring"})]})})]})})})})]})},{Title:xl}=pe,{Option:_s}=z,yl=()=>{const[s,e]=l.useState([]),[n,r]=l.useState(!0),[i,a]=l.useState(!1),[o,d]=l.useState(null),[c]=v.useForm(),[p,h]=l.useState(null);l.useEffect(()=>{m()},[]);const m=async()=>{try{r(!0),h(null);let k;try{k=(await Do.getMockServers()).map(_=>({id:_.id,name:_.name,ipAddress:_.ipAddress,port:_.port,status:_.status,operatingSystem:_.operatingSystem,totalMemoryMB:_.totalMemoryMB,availableMemoryMB:_.availableMemoryMB,cpuUsagePercent:_.cpuUsagePercent,diskUsagePercent:_.diskUsagePercent,createdAt:_.createdAt,lastUpdated:_.lastUpdated}))}catch{k=await qe.getAll()}e(k)}catch(k){console.error("Failed to load servers:",k),h(k instanceof Error?k.message:"Failed to load servers"),e([{id:1,name:"Web Server 01",ipAddress:"192.168.1.10",port:80,status:ee.Running,operatingSystem:"Ubuntu 22.04",totalMemoryMB:8192,availableMemoryMB:5400,cpuUsagePercent:25.3,diskUsagePercent:42.1,createdAt:"2024-01-15T10:30:00Z",lastUpdated:new Date().toISOString()},{id:2,name:"Database Server",ipAddress:"192.168.1.20",port:3306,status:ee.Running,operatingSystem:"CentOS 8",totalMemoryMB:16384,availableMemoryMB:12800,cpuUsagePercent:15.7,diskUsagePercent:67.8,createdAt:"2024-01-20T14:20:00Z",lastUpdated:new Date().toISOString()},{id:3,name:"Backup Server",ipAddress:"192.168.1.30",port:22,status:ee.Stopped,operatingSystem:"Debian 11",totalMemoryMB:4096,availableMemoryMB:3200,cpuUsagePercent:5.2,diskUsagePercent:89.3,createdAt:"2024-02-01T09:15:00Z",lastUpdated:new Date().toISOString()}])}finally{r(!1)}},A=()=>{d(null),c.resetFields(),a(!0)},f=k=>{d(k),c.setFieldsValue(k),a(!0)},D=async k=>{try{await qe.delete(k),j.success("Server deleted successfully"),m()}catch($){j.error("Failed to delete server"),console.error("Delete server error:",$)}},T=async(k,$)=>{try{await qe.updateStatus(k,$),j.success(`Server status updated to ${$}`),m()}catch(_){j.error("Failed to update server status"),console.error("Update status error:",_)}},w=async()=>{try{const k=await c.validateFields();o?(await qe.update(o.id,k),j.success("Server updated successfully")):(await qe.create(k),j.success("Server created successfully")),a(!1),m()}catch(k){k instanceof Error&&k.message.includes("API Error")?j.error("Failed to save server - API not available"):j.error("Please check all required fields"),console.error("Save server error:",k)}},P=k=>{switch(k){case ee.Running:return"green";case ee.Stopped:return"red";case ee.Error:return"volcano";case ee.Maintenance:return"orange";default:return"default"}},B=[{title:"Name",dataIndex:"name",key:"name",sorter:(k,$)=>k.name.localeCompare($.name)},{title:"IP Address",dataIndex:"ipAddress",key:"ipAddress"},{title:"Port",dataIndex:"port",key:"port",width:80},{title:"Status",dataIndex:"status",key:"status",render:k=>t.jsx(G,{color:P(k),children:k}),filters:[{text:"Running",value:ee.Running},{text:"Stopped",value:ee.Stopped},{text:"Error",value:ee.Error},{text:"Maintenance",value:ee.Maintenance}],onFilter:(k,$)=>$.status===k},{title:"OS",dataIndex:"operatingSystem",key:"operatingSystem",responsive:["md"]},{title:"CPU %",dataIndex:"cpuUsagePercent",key:"cpuUsagePercent",render:k=>`${k.toFixed(1)}%`,sorter:(k,$)=>k.cpuUsagePercent-$.cpuUsagePercent,responsive:["lg"]},{title:"Memory",key:"memory",render:(k,$)=>`${(($.totalMemoryMB-$.availableMemoryMB)/$.totalMemoryMB*100).toFixed(1)}%`,sorter:(k,$)=>{const _=(k.totalMemoryMB-k.availableMemoryMB)/k.totalMemoryMB,C=($.totalMemoryMB-$.availableMemoryMB)/$.totalMemoryMB;return _-C},responsive:["lg"]},{title:"Actions",key:"actions",render:(k,$)=>t.jsxs(W,{size:"small",children:[t.jsx(O,{type:"text",icon:$.status===ee.Running?t.jsx(ts,{}):t.jsx(tr,{}),onClick:()=>T($.id,$.status===ee.Running?ee.Stopped:ee.Running),title:$.status===ee.Running?"Stop Server":"Start Server"}),t.jsx(O,{type:"text",icon:t.jsx(lt,{}),onClick:()=>f($),title:"Edit Server"}),t.jsx(Te,{title:"Delete Server",description:"Are you sure you want to delete this server?",onConfirm:()=>D($.id),okText:"Yes",cancelText:"No",children:t.jsx(O,{type:"text",danger:!0,icon:t.jsx($e,{}),title:"Delete Server"})})]})}];return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsx(xl,{level:2,style:{margin:0},children:"Server Management"}),t.jsxs(W,{children:[t.jsx(O,{icon:t.jsx(We,{}),onClick:m,loading:n,children:"Refresh"}),t.jsx(O,{type:"primary",icon:t.jsx(Le,{}),onClick:A,children:"Add Server"})]})]}),p&&t.jsx(Ce,{message:"API Connection Issue",description:"Unable to connect to API. Showing sample data for demonstration.",type:"warning",showIcon:!0,style:{marginBottom:"16px"},closable:!0}),t.jsx(N,{children:t.jsx(fe,{columns:B,dataSource:s,rowKey:"id",loading:n,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(k,$)=>`${$[0]}-${$[1]} of ${k} servers`}})}),t.jsx(ne,{title:o?"Edit Server":"Add New Server",open:i,onOk:w,onCancel:()=>a(!1),width:600,children:t.jsxs(v,{form:c,layout:"vertical",initialValues:{status:ee.Stopped,port:80},children:[t.jsx(v.Item,{name:"name",label:"Server Name",rules:[{required:!0,message:"Please enter server name"}],children:t.jsx(L,{placeholder:"Enter server name"})}),t.jsx(v.Item,{name:"ipAddress",label:"IP Address",rules:[{required:!0,message:"Please enter IP address"},{pattern:/^(?:[0-9]{1,3}\.){3}[0-9]{1,3}$/,message:"Please enter valid IP address"}],children:t.jsx(L,{placeholder:"192.168.1.100"})}),t.jsx(v.Item,{name:"port",label:"Port",rules:[{required:!0,message:"Please enter port number"},{type:"number",min:1,max:65535,message:"Port must be between 1 and 65535"}],children:t.jsx(L,{type:"number",placeholder:"80"})}),t.jsx(v.Item,{name:"operatingSystem",label:"Operating System",rules:[{required:!0,message:"Please enter operating system"}],children:t.jsx(L,{placeholder:"Ubuntu 22.04"})}),t.jsx(v.Item,{name:"status",label:"Status",rules:[{required:!0,message:"Please select status"}],children:t.jsxs(z,{children:[t.jsx(_s,{value:ee.Running,children:"Running"}),t.jsx(_s,{value:ee.Stopped,children:"Stopped"}),t.jsx(_s,{value:ee.Maintenance,children:"Maintenance"})]})})]})})]})};var Se=(s=>(s[s.Active=1]="Active",s[s.Inactive=2]="Inactive",s[s.Suspended=3]="Suspended",s[s.Expired=4]="Expired",s))(Se||{}),_e=(s=>(s.A="A",s.AAAA="AAAA",s.CNAME="CNAME",s.MX="MX",s.TXT="TXT",s.SRV="SRV",s.PTR="PTR",s.NS="NS",s.SOA="SOA",s))(_e||{}),Fs=(s=>(s[s.Active=1]="Active",s[s.Inactive=2]="Inactive",s[s.Pending=3]="Pending",s[s.Error=4]="Error",s))(Fs||{});const{Title:vl}=pe,bl=()=>{const[s,e]=l.useState([]),[n,r]=l.useState([]),[i,a]=l.useState(!0),[o,d]=l.useState(!1),[c,p]=l.useState(null),[h]=v.useForm(),[m,A]=l.useState(null),[f,D]=l.useState([]),[T,w]=l.useState(!1),[P,B]=l.useState(null),[k,$]=l.useState(null),[_]=v.useForm(),[C,x]=l.useState(""),[F,X]=l.useState(!1),[I,q]=l.useState(null),[ve,be]=l.useState(!1),[ce,Ze]=l.useState({}),[Je,Ge]=l.useState({});l.useEffect(()=>{Fe()},[]);const Fe=async()=>{try{a(!0),A(null);const[u,R]=await Promise.all([he.getAll(),qe.getAll()]);e(u),r(R),u.length>0&&await Ye(u)}catch(u){console.error("Failed to load data:",u),A(u instanceof Error?u.message:"Failed to load domains")}finally{a(!1)}},de=async u=>{try{const R=await he.getDnsRecords(u);D(R)}catch(R){console.error("Failed to load DNS records:",R),j.error("Failed to load DNS records")}},ut=async u=>{try{X(!0);const R=await he.getDnsZone(u);x(R.zoneFile||"")}catch(R){console.error("Failed to load zone file:",R),j.error("Failed to load zone file")}finally{X(!1)}},Ae=async u=>{try{be(!0);const R=await he.getDnsPropagationStatus(u);q(R)}catch(R){console.error("Failed to load propagation status:",R),j.error("Failed to load propagation status")}finally{be(!1)}},ht=async u=>{try{be(!0),await he.checkDnsPropagation(u),j.success("Propagation check initiated"),setTimeout(()=>Ae(u),2e3)}catch(R){console.error("Failed to check propagation:",R),j.error("Failed to check propagation")}finally{be(!1)}},Xe=async u=>{try{Ge(Oe=>({...Oe,[u]:!0}));const R=await he.getDnsRecords(u),V=await he.getDnsPropagationStatus(u);Ze(Oe=>({...Oe,[u]:{recordCount:R.length,propagationStatus:V}}))}catch(R){console.error("Failed to load DNS status for domain:",R),Ze(V=>({...V,[u]:{recordCount:0,propagationStatus:null,error:!0}}))}finally{Ge(R=>({...R,[u]:!1}))}},Ye=async u=>{for(let V=0;V<u.length;V+=5){const Oe=u.slice(V,V+5);await Promise.all(Oe.map(Mt=>Xe(Mt.id)))}},et=()=>{p(null),h.resetFields(),d(!0)},Ee=u=>{p(u),h.setFieldsValue({name:u.name,serverId:u.serverId,documentRoot:u.documentRoot,status:u.status,sslEnabled:u.sslEnabled}),d(!0)},g=async u=>{try{await he.delete(u),j.success("Domain deleted successfully"),Fe()}catch(R){j.error("Failed to delete domain"),console.error("Delete domain error:",R)}},M=u=>{$(u),de(u.id),Ae(u.id),w(!0)},we=()=>{B(null),_.resetFields()},b=u=>{B(u),_.setFieldsValue({type:u.type,name:u.name,value:u.value,ttl:u.ttl,priority:u.priority})},Q=async u=>{if(k)try{await he.deleteDnsRecord(k.id,u),j.success("DNS record deleted successfully"),de(k.id)}catch(R){j.error("Failed to delete DNS record"),console.error("Delete DNS record error:",R)}},pt=async()=>{if(k)try{const u=await _.validateFields();P?(await he.updateDnsRecord(k.id,P.id,u),j.success("DNS record updated successfully")):(await he.createDnsRecord(k.id,u),j.success("DNS record created successfully")),w(!1),de(k.id)}catch(u){j.error("Failed to save DNS record"),console.error("Save DNS record error:",u)}},hs=async()=>{try{const u=await h.validateFields();u.sslExpiry&&(u.sslExpiry=u.sslExpiry.toISOString()),c?(await he.update(c.id,u),j.success("Domain updated successfully")):(await he.create(u),j.success("Domain created successfully")),d(!1),Fe()}catch(u){u instanceof Error&&u.message.includes("API Error")?j.error("Failed to save domain - API not available"):j.error("Please check all required fields"),console.error("Save domain error:",u)}},ps=u=>u.sslEnabled?{status:"SSL Enabled",color:"green",icon:t.jsx(qt,{})}:{status:"No SSL",color:"default",icon:t.jsx(mo,{})},Qt=u=>{const R=n.find(V=>V.id===u);return R?R.name:`Server ${u}`},fs=[{title:"Domain Name",dataIndex:"name",key:"name",render:(u,R)=>{const V=ce[R.id],Oe=V?.propagationStatus?.overallStatus==="error",Mt=V?.propagationStatus?.overallStatus==="propagating";return t.jsxs(W,{children:[t.jsxs(W,{children:[V&&t.jsx(le,{title:`DNS: ${V.recordCount} records, ${V.propagationStatus?.overallStatus||"unknown"}`,children:t.jsx(bt,{status:Oe?"error":Mt?"processing":V.propagationStatus?.overallStatus==="propagated"?"success":"default",style:{marginRight:4}})}),t.jsx(Ne,{style:{color:"#1890ff"}})]}),t.jsx("a",{href:`http://${u}`,target:"_blank",rel:"noopener noreferrer",children:u})]})},sorter:(u,R)=>u.name.localeCompare(R.name)},{title:"Server",dataIndex:"serverId",key:"serverId",render:u=>Qt(u),filters:n.map(u=>({text:u.name,value:u.id})),onFilter:(u,R)=>R.serverId===u},{title:"Status",dataIndex:"status",key:"status",render:u=>t.jsx(G,{color:u===Se.Active?"green":u===Se.Inactive?"red":"orange",children:Se[u]}),filters:[{text:"Active",value:Se.Active},{text:"Inactive",value:Se.Inactive},{text:"Suspended",value:Se.Suspended},{text:"Expired",value:Se.Expired}],onFilter:(u,R)=>R.status===u},{title:"SSL Certificate",key:"ssl",render:(u,R)=>{const V=ps(R);return t.jsx(le,{title:V.status,children:t.jsx(bt,{status:V.color==="green"?"success":V.color==="red"?"error":"default",text:t.jsxs(W,{children:[V.icon,V.status]})})})}},{title:"DNS Status",key:"dnsStatus",render:(u,R)=>{const V=ce[R.id];if(Je[R.id])return t.jsx(Ve,{size:"small"});if(!V||V.error)return t.jsx(O,{type:"link",size:"small",onClick:()=>Xe(R.id),style:{padding:0},children:"Load DNS Status"});const Mt=V.propagationStatus?.overallStatus==="propagated"?"green":V.propagationStatus?.overallStatus==="propagating"?"orange":"red";return t.jsxs(W,{direction:"vertical",size:0,children:[t.jsxs("div",{children:[t.jsx(Ne,{style:{marginRight:4}}),V.recordCount," records"]}),V.propagationStatus&&t.jsx(G,{color:Mt,children:V.propagationStatus.overallStatus})]})}},{title:"Document Root",dataIndex:"documentRoot",key:"documentRoot",responsive:["lg"]},{title:"Created",dataIndex:"createdAt",key:"createdAt",render:u=>new Date(u).toLocaleDateString(),sorter:(u,R)=>new Date(u.createdAt).getTime()-new Date(R.createdAt).getTime(),responsive:["md"]},{title:"Actions",key:"actions",render:(u,R)=>t.jsxs(W,{size:"small",children:[t.jsx(le,{title:"Edit Domain",children:t.jsx(O,{type:"text",icon:t.jsx(lt,{}),onClick:()=>Ee(R)})}),t.jsx(le,{title:ce[R.id]?`Manage DNS Records (${ce[R.id].recordCount} records, ${ce[R.id].propagationStatus?.overallStatus||"unknown"})`:"Manage DNS Records",children:t.jsx(O,{type:ce[R.id]?.propagationStatus?.overallStatus==="error"?"primary":"text",danger:ce[R.id]?.propagationStatus?.overallStatus==="error",icon:t.jsx(Ne,{}),onClick:()=>M(R)})}),t.jsx(le,{title:"Domain Settings",children:t.jsx(O,{type:"text",icon:t.jsx(Ht,{}),onClick:()=>j.info("Domain settings coming soon")})}),t.jsx(Te,{title:"Delete Domain",description:"Are you sure you want to delete this domain?",onConfirm:()=>g(R.id),okText:"Yes",cancelText:"No",children:t.jsx(le,{title:"Delete Domain",children:t.jsx(O,{type:"text",danger:!0,icon:t.jsx($e,{})})})})]})}];if(i)return t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:t.jsx(Ve,{size:"large"})});const ms=s.filter(u=>u.status===Se.Active),gs=s.filter(u=>u.sslEnabled),y=[];return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs(vl,{level:2,children:[t.jsx(Ne,{})," Domain Management"]}),t.jsxs(W,{children:[t.jsx(O,{icon:t.jsx(We,{}),onClick:Fe,loading:i,children:"Refresh"}),t.jsx(O,{type:"primary",icon:t.jsx(Le,{}),onClick:et,children:"Add Domain"})]})]}),m&&t.jsx(Ce,{message:"API Connection Issue",description:"Unable to connect to API. Showing sample data for demonstration.",type:"warning",showIcon:!0,style:{marginBottom:"16px"},closable:!0}),t.jsxs(ie,{gutter:[16,16],style:{marginBottom:"24px"},children:[t.jsx(U,{xs:24,sm:6,children:t.jsx(N,{children:t.jsx(J,{title:"Total Domains",value:s.length,prefix:t.jsx(Ne,{}),valueStyle:{color:"#1890ff"}})})}),t.jsx(U,{xs:24,sm:6,children:t.jsx(N,{children:t.jsx(J,{title:"Active Domains",value:ms.length,prefix:t.jsx(He,{}),valueStyle:{color:"#3f8600"}})})}),t.jsx(U,{xs:24,sm:6,children:t.jsxs(N,{children:[t.jsx(J,{title:"SSL Certificates",value:gs.length,prefix:t.jsx(qt,{}),valueStyle:{color:"#722ed1"}}),y.length>0&&t.jsxs("div",{style:{fontSize:"12px",color:"#fa8c16",marginTop:"4px"},children:[y.length," expiring soon"]})]})}),t.jsx(U,{xs:24,sm:6,children:t.jsxs(N,{children:[t.jsx(J,{title:"DNS Records",value:Object.values(ce).reduce((u,R)=>u+(R.recordCount||0),0),prefix:t.jsx(Ht,{}),valueStyle:{color:"#13c2c2"}}),Object.values(ce).filter(u=>u.propagationStatus?.overallStatus==="error").length>0&&t.jsxs("div",{style:{fontSize:"12px",color:"#f5222d",marginTop:"4px"},children:[Object.values(ce).filter(u=>u.propagationStatus?.overallStatus==="error").length," propagation issues"]})]})})]}),y.length>0&&t.jsx(Ce,{message:"SSL Certificate Expiry Alert",description:`${y.length} SSL certificate(s) will expire within 30 days. Please renew them to avoid security issues.`,type:"warning",showIcon:!0,style:{marginBottom:"16px"},closable:!0}),t.jsx(N,{children:t.jsx(fe,{columns:fs,dataSource:s,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(u,R)=>`${R[0]}-${R[1]} of ${u} domains`}})}),t.jsx(ne,{title:c?"Edit Domain":"Add New Domain",open:o,onOk:hs,onCancel:()=>d(!1),width:600,children:t.jsxs(v,{form:h,layout:"vertical",initialValues:{status:Se.Active,sslEnabled:!1},children:[t.jsx(v.Item,{name:"name",label:"Domain Name",rules:[{required:!0,message:"Please enter domain name"},{pattern:/^[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(\.[a-zA-Z0-9]([a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,message:"Please enter a valid domain name"}],children:t.jsx(L,{placeholder:"example.com"})}),t.jsx(v.Item,{name:"serverId",label:"Server",rules:[{required:!0,message:"Please select a server"}],children:t.jsx(z,{placeholder:"Select a server",children:n.map(u=>t.jsxs(z.Option,{value:u.id,children:[u.name," (",u.ipAddress,")"]},u.id))})}),t.jsx(v.Item,{name:"documentRoot",label:"Document Root",rules:[{required:!0,message:"Please enter document root path"}],children:t.jsx(L,{placeholder:"/var/www/example.com"})}),t.jsx(v.Item,{name:"status",label:"Status",rules:[{required:!0,message:"Please select status"}],children:t.jsxs(z,{placeholder:"Select status",children:[t.jsx(z.Option,{value:Se.Active,children:"Active"}),t.jsx(z.Option,{value:Se.Inactive,children:"Inactive"}),t.jsx(z.Option,{value:Se.Suspended,children:"Suspended"}),t.jsx(z.Option,{value:Se.Expired,children:"Expired"})]})}),t.jsx(v.Item,{name:"sslEnabled",label:"Enable SSL",valuePropName:"checked",children:t.jsx("input",{type:"checkbox"})})]})}),t.jsxs(ne,{title:`DNS Records for ${k?.name||""}`,open:T,onCancel:()=>w(!1),width:1e3,footer:[t.jsx(O,{onClick:()=>w(!1),children:"Close"},"close")],children:[t.jsx("div",{style:{marginBottom:"16px"},children:t.jsx(O,{type:"primary",icon:t.jsx(Le,{}),onClick:we,children:"Add DNS Record"})}),t.jsxs(Re,{defaultActiveKey:"1",style:{marginBottom:"16px"},children:[t.jsx(Re.TabPane,{tab:"DNS Records",children:t.jsx(fe,{columns:[{title:"Type",dataIndex:"type",key:"type",render:u=>t.jsx(G,{color:"blue",children:_e[u]}),filters:Object.values(_e).map(u=>({text:_e[u],value:u})),onFilter:(u,R)=>R.type===u},{title:"Name",dataIndex:"name",key:"name"},{title:"Value",dataIndex:"value",key:"value"},{title:"TTL",dataIndex:"ttl",key:"ttl",render:u=>`${u}s`},{title:"Priority",dataIndex:"priority",key:"priority",render:u=>u||"-"},{title:"Status",dataIndex:"status",key:"status",render:u=>t.jsx(G,{color:u===Fs.Active?"green":"orange",children:Fs[u]})},{title:"Actions",key:"actions",render:(u,R)=>t.jsxs(W,{size:"small",children:[t.jsx(le,{title:"Edit Record",children:t.jsx(O,{type:"text",icon:t.jsx(lt,{}),onClick:()=>b(R)})}),t.jsx(Te,{title:"Delete DNS Record",description:"Are you sure you want to delete this DNS record?",onConfirm:()=>Q(R.id),okText:"Yes",cancelText:"No",children:t.jsx(le,{title:"Delete Record",children:t.jsx(O,{type:"text",danger:!0,icon:t.jsx($e,{})})})})]})}],dataSource:f,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(u,R)=>`${R[0]}-${R[1]} of ${u} records`}})},"1"),t.jsx(Re.TabPane,{tab:"Import/Export",children:t.jsx("p",{children:"Import/Export functionality coming soon."})},"2"),t.jsxs(Re.TabPane,{tab:"Zone File",children:[t.jsxs("div",{style:{marginBottom:16},children:[t.jsx(O,{type:"primary",onClick:async()=>{k&&await ut(k.id)},loading:F,style:{marginRight:8},children:"Load Zone File"}),t.jsx(O,{onClick:async()=>{if(k&&C!==null)try{await he.updateDnsZone(k.id,{zoneFile:C}),j.success("Zone file updated successfully")}catch(u){console.error("Failed to update zone file:",u),j.error("Failed to update zone file")}},disabled:C===null,children:"Save Zone File"})]}),t.jsx(L.TextArea,{value:C||"",onChange:u=>x(u.target.value),placeholder:"Zone file content will appear here...",rows:20,style:{fontFamily:"monospace"}})]},"3"),t.jsxs(Re.TabPane,{tab:"Propagation Monitoring",children:[t.jsx("div",{style:{marginBottom:16},children:t.jsxs(W,{children:[t.jsx(O,{type:"primary",onClick:()=>k&&Ae(k.id),loading:ve,icon:t.jsx(We,{}),children:"Refresh Status"}),t.jsx(O,{onClick:()=>k&&ht(k.id),loading:ve,icon:t.jsx(He,{}),children:"Check Propagation"})]})}),I?t.jsxs("div",{children:[t.jsx("div",{style:{marginBottom:16},children:t.jsx(N,{size:"small",children:t.jsxs(W,{direction:"vertical",size:"small",children:[t.jsxs("div",{children:[t.jsx(pe.Text,{strong:!0,children:"Domain:"})," ",I.domainName]}),t.jsxs("div",{children:[t.jsx(pe.Text,{strong:!0,children:"Overall Status:"})," ",t.jsx(G,{color:I.overallStatus==="propagated"?"green":I.overallStatus==="propagating"?"orange":"red",children:I.overallStatus.toUpperCase()})]}),t.jsxs("div",{children:[t.jsx(pe.Text,{strong:!0,children:"Last Checked:"})," ",new Date(I.lastChecked).toLocaleString()]}),t.jsxs("div",{children:[t.jsx(pe.Text,{strong:!0,children:"Nameservers:"}),t.jsx("ul",{style:{margin:0,paddingLeft:20},children:I.nameservers.map((u,R)=>t.jsx("li",{children:u},R))})]})]})})}),t.jsx(fe,{columns:[{title:"Type",dataIndex:"type",key:"type",render:u=>t.jsx(G,{color:"blue",children:_e[u]})},{title:"Name",dataIndex:"name",key:"name"},{title:"Expected Value",dataIndex:"expectedValue",key:"expectedValue"},{title:"Actual Values",dataIndex:"actualValues",key:"actualValues",render:u=>t.jsx("div",{children:u.length>0?t.jsx("ul",{style:{margin:0,paddingLeft:20},children:u.map((R,V)=>t.jsx("li",{children:R},V))}):t.jsx(pe.Text,{type:"secondary",children:"No values found"})})},{title:"Status",dataIndex:"isPropagated",key:"isPropagated",render:u=>t.jsx(G,{color:u?"green":"orange",children:u?"Propagated":"Propagating"})},{title:"Last Checked",dataIndex:"lastChecked",key:"lastChecked",render:u=>new Date(u).toLocaleString()}],dataSource:I.records,rowKey:(u,R)=>`${u.type}-${u.name}-${R}`,pagination:!1,size:"small"})]}):t.jsx("div",{style:{textAlign:"center",padding:"40px"},children:t.jsx(pe.Text,{type:"secondary",children:'No propagation data available. Click "Refresh Status" to load current propagation information.'})})]},"4")]}),t.jsx(ne,{title:P?"Edit DNS Record":"Add DNS Record",open:!!P||_.isFieldsTouched(),onOk:pt,onCancel:()=>{B(null),_.resetFields()},width:600,children:t.jsxs(v,{form:_,layout:"vertical",initialValues:{ttl:3600,priority:null},children:[t.jsx(v.Item,{name:"type",label:"Record Type",rules:[{required:!0,message:"Please select record type"}],children:t.jsxs(z,{placeholder:"Select record type",children:[t.jsx(z.Option,{value:_e.A,children:"A (Address)"}),t.jsx(z.Option,{value:_e.AAAA,children:"AAAA (IPv6 Address)"}),t.jsx(z.Option,{value:_e.CNAME,children:"CNAME (Canonical Name)"}),t.jsx(z.Option,{value:_e.MX,children:"MX (Mail Exchange)"}),t.jsx(z.Option,{value:_e.TXT,children:"TXT (Text)"}),t.jsx(z.Option,{value:_e.SRV,children:"SRV (Service)"}),t.jsx(z.Option,{value:_e.PTR,children:"PTR (Pointer)"}),t.jsx(z.Option,{value:_e.NS,children:"NS (Name Server)"})]})}),t.jsx(v.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter record name"}],children:t.jsx(L,{placeholder:"subdomain or @ for root"})}),t.jsx(v.Item,{name:"value",label:"Value",rules:[{required:!0,message:"Please enter record value"}],children:t.jsx(L,{placeholder:"IP address, domain name, or text value"})}),t.jsx(v.Item,{name:"ttl",label:"TTL (Time to Live)",rules:[{required:!0,message:"Please enter TTL"}],children:t.jsx(Xs,{min:60,max:86400,placeholder:"3600",style:{width:"100%"}})}),t.jsx(v.Item,{name:"priority",label:"Priority (for MX/SRV records)",children:t.jsx(Xs,{min:0,max:65535,placeholder:"Optional",style:{width:"100%"}})})]})})]})]})},{Title:jl}=pe,{Option:Be}=z,wl=()=>{const[s,e]=l.useState([]),[n,r]=l.useState([]),[i,a]=l.useState(!0),[o,d]=l.useState(!1),[c,p]=l.useState(null),[h]=v.useForm(),[m,A]=l.useState(null);l.useEffect(()=>{f()},[]);const f=async()=>{try{a(!0),A(null);const[I,q]=await Promise.all([zt.getAll(),qe.getAll()]);e(I),r(q)}catch(I){console.error("Failed to load data:",I),A(I instanceof Error?I.message:"Failed to load databases"),e([{id:1,name:"wordpress_db",type:"MySQL",username:"wp_user",sizeInMB:256.5,serverId:1,serverName:"Web Server 01",status:se.Active,createdAt:"2024-01-15T10:30:00Z",backupDate:"2024-01-20T02:00:00Z"},{id:2,name:"ecommerce_db",type:"PostgreSQL",username:"ecom_user",sizeInMB:512.8,serverId:1,serverName:"Web Server 01",status:se.Active,createdAt:"2024-02-01T14:20:00Z",backupDate:"2024-02-05T02:00:00Z"},{id:3,name:"old_backup",type:"MySQL",username:"backup_user",sizeInMB:128.3,serverId:2,serverName:"Database Server",status:se.Inactive,createdAt:"2023-12-01T09:15:00Z",backupDate:"2024-01-10T02:00:00Z"}]),r([{id:1,name:"Web Server 01",ipAddress:"192.168.1.10",port:80,status:ee.Running,operatingSystem:"Ubuntu 22.04",totalMemoryMB:8192,availableMemoryMB:5400,cpuUsagePercent:25.3,diskUsagePercent:42.1,createdAt:"2024-01-15T10:30:00Z",lastUpdated:new Date().toISOString()},{id:2,name:"Database Server",ipAddress:"192.168.1.20",port:3306,status:ee.Running,operatingSystem:"CentOS 8",totalMemoryMB:16384,availableMemoryMB:12800,cpuUsagePercent:15.7,diskUsagePercent:67.8,createdAt:"2024-01-20T14:20:00Z",lastUpdated:new Date().toISOString()}])}finally{a(!1)}},D=()=>{p(null),h.resetFields(),d(!0)},T=I=>{p(I),h.setFieldsValue({name:I.name,type:I.type,username:I.username,sizeInMB:I.sizeInMB,serverId:I.serverId,status:I.status}),d(!0)},w=async I=>{try{await zt.delete(I),j.success("Database deleted successfully"),f()}catch(q){j.error("Failed to delete database"),console.error("Delete database error:",q)}},P=async()=>{try{const I=await h.validateFields();c?(await zt.update(c.id,I),j.success("Database updated successfully")):(await zt.create(I),j.success("Database created successfully")),d(!1),f()}catch(I){I instanceof Error&&I.message.includes("API Error")?j.error("Failed to save database - API not available"):j.error("Please check all required fields"),console.error("Save database error:",I)}},B=I=>{switch(I){case se.Active:return"green";case se.Inactive:return"orange";case se.Suspended:return"red";case se.Corrupted:return"red";default:return"default"}},k=I=>{switch(I){case se.Active:return"Active";case se.Inactive:return"Inactive";case se.Suspended:return"Suspended";case se.Corrupted:return"Corrupted";default:return"Unknown"}},$=I=>{const q=n.find(ve=>ve.id===I);return q?q.name:`Server ${I}`},_=I=>I>=1024?`${(I/1024).toFixed(1)} GB`:`${I.toFixed(1)} MB`,C=[{title:"Database Name",dataIndex:"name",key:"name",render:I=>t.jsxs(W,{children:[t.jsx(at,{style:{color:"#1890ff"}}),t.jsx("span",{style:{fontWeight:"bold"},children:I})]}),sorter:(I,q)=>I.name.localeCompare(q.name)},{title:"Type",dataIndex:"type",key:"type",render:I=>t.jsx(G,{color:I==="MySQL"?"blue":I==="PostgreSQL"?"green":"purple",children:I}),filters:[{text:"MySQL",value:"MySQL"},{text:"PostgreSQL",value:"PostgreSQL"},{text:"SQL Server",value:"SQL Server"},{text:"MongoDB",value:"MongoDB"}],onFilter:(I,q)=>q.type===I},{title:"Server",dataIndex:"serverId",key:"serverId",render:I=>$(I),filters:n.map(I=>({text:I.name,value:I.id})),onFilter:(I,q)=>q.serverId===I},{title:"Size",dataIndex:"sizeInMB",key:"sizeInMB",render:I=>t.jsxs(W,{children:[t.jsx(wn,{}),_(I)]}),sorter:(I,q)=>I.sizeInMB-q.sizeInMB},{title:"Status",dataIndex:"status",key:"status",render:I=>t.jsx(G,{color:B(I),children:k(I)}),filters:[{text:"Active",value:se.Active},{text:"Inactive",value:se.Inactive},{text:"Suspended",value:se.Suspended},{text:"Corrupted",value:se.Corrupted}],onFilter:(I,q)=>q.status===I},{title:"Username",dataIndex:"username",key:"username",responsive:["md"]},{title:"Last Backup",dataIndex:"backupDate",key:"backupDate",render:I=>I?new Date(I).toLocaleDateString():"Never",sorter:(I,q)=>!I.backupDate&&!q.backupDate?0:I.backupDate?q.backupDate?new Date(I.backupDate).getTime()-new Date(q.backupDate).getTime():-1:1,responsive:["lg"]},{title:"Created",dataIndex:"createdAt",key:"createdAt",render:I=>new Date(I).toLocaleDateString(),sorter:(I,q)=>new Date(I.createdAt).getTime()-new Date(q.createdAt).getTime(),responsive:["lg"]},{title:"Actions",key:"actions",render:(I,q)=>t.jsxs(W,{size:"small",children:[t.jsx(le,{title:"Edit Database",children:t.jsx(O,{type:"text",icon:t.jsx(lt,{}),onClick:()=>T(q)})}),t.jsx(le,{title:"Database Settings",children:t.jsx(O,{type:"text",icon:t.jsx(Ht,{}),onClick:()=>j.info("Database settings coming soon")})}),t.jsx(Te,{title:"Delete Database",description:"Are you sure you want to delete this database? This action cannot be undone.",onConfirm:()=>w(q.id),okText:"Yes",cancelText:"No",children:t.jsx(le,{title:"Delete Database",children:t.jsx(O,{type:"text",danger:!0,icon:t.jsx($e,{})})})})]})}];if(i)return t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:t.jsx(Ve,{size:"large"})});const x=s.filter(I=>I.status===se.Active),F=s.reduce((I,q)=>I+q.sizeInMB,0),X=s.filter(I=>I.backupDate);return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs(jl,{level:2,children:[t.jsx(at,{})," Database Management"]}),t.jsxs(W,{children:[t.jsx(O,{icon:t.jsx(We,{}),onClick:f,loading:i,children:"Refresh"}),t.jsx(O,{type:"primary",icon:t.jsx(Le,{}),onClick:D,children:"Add Database"})]})]}),m&&t.jsx(Ce,{message:"API Connection Issue",description:"Unable to connect to API. Showing sample data for demonstration.",type:"warning",showIcon:!0,style:{marginBottom:"16px"},closable:!0}),t.jsxs(ie,{gutter:[16,16],style:{marginBottom:"24px"},children:[t.jsx(U,{xs:24,sm:6,children:t.jsx(N,{children:t.jsx(J,{title:"Total Databases",value:s.length,prefix:t.jsx(at,{}),valueStyle:{color:"#1890ff"}})})}),t.jsx(U,{xs:24,sm:6,children:t.jsx(N,{children:t.jsx(J,{title:"Active Databases",value:x.length,prefix:t.jsx(He,{}),valueStyle:{color:"#3f8600"}})})}),t.jsx(U,{xs:24,sm:6,children:t.jsx(N,{children:t.jsx(J,{title:"Total Size",value:_(F),prefix:t.jsx(wn,{}),valueStyle:{color:"#722ed1"}})})}),t.jsx(U,{xs:24,sm:6,children:t.jsx(N,{children:t.jsx(J,{title:"Backed Up",value:X.length,suffix:`/ ${s.length}`,prefix:t.jsx(at,{}),valueStyle:{color:"#fa8c16"}})})})]}),t.jsx(N,{children:t.jsx(fe,{columns:C,dataSource:s,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(I,q)=>`${q[0]}-${q[1]} of ${I} databases`}})}),t.jsx(ne,{title:c?"Edit Database":"Add New Database",open:o,onOk:P,onCancel:()=>d(!1),width:600,children:t.jsxs(v,{form:h,layout:"vertical",initialValues:{type:"MySQL",status:se.Active},children:[t.jsx(v.Item,{name:"name",label:"Database Name",rules:[{required:!0,message:"Please enter database name"},{pattern:/^[a-zA-Z_][a-zA-Z0-9_]*$/,message:"Database name must start with letter or underscore and contain only alphanumeric characters and underscores"}],children:t.jsx(L,{placeholder:"my_database"})}),t.jsx(v.Item,{name:"type",label:"Database Type",rules:[{required:!0,message:"Please select database type"}],children:t.jsxs(z,{placeholder:"Select database type",children:[t.jsx(Be,{value:"MySQL",children:"MySQL"}),t.jsx(Be,{value:"PostgreSQL",children:"PostgreSQL"}),t.jsx(Be,{value:"SQL Server",children:"SQL Server"}),t.jsx(Be,{value:"MongoDB",children:"MongoDB"}),t.jsx(Be,{value:"SQLite",children:"SQLite"})]})}),t.jsx(v.Item,{name:"serverId",label:"Server",rules:[{required:!0,message:"Please select a server"}],children:t.jsx(z,{placeholder:"Select a server",children:n.map(I=>t.jsxs(Be,{value:I.id,children:[I.name," (",I.ipAddress,")"]},I.id))})}),t.jsx(v.Item,{name:"username",label:"Database User",rules:[{required:!0,message:"Please enter database username"}],children:t.jsx(L,{placeholder:"db_user"})}),t.jsx(v.Item,{name:"sizeInMB",label:"Size (MB)",rules:[{required:!0,message:"Please enter database size"},{type:"number",min:0,message:"Size must be a positive number"}],children:t.jsx(L,{type:"number",placeholder:"256"})}),t.jsx(v.Item,{name:"status",label:"Status",rules:[{required:!0,message:"Please select status"}],children:t.jsxs(z,{placeholder:"Select status",children:[t.jsx(Be,{value:se.Active,children:"Active"}),t.jsx(Be,{value:se.Inactive,children:"Inactive"}),t.jsx(Be,{value:se.Suspended,children:"Suspended"}),t.jsx(Be,{value:se.Corrupted,children:"Corrupted"})]})})]})})]})},{Title:Sl}=pe,{TextArea:Cl}=L,_l=()=>{const[s,e]=l.useState({currentPath:"/",items:[],loading:!1,selectedItems:[],clipboardItem:null}),[n,r]=l.useState({visible:!1,mode:"view"}),[i,a]=l.useState({visible:!1}),[o]=v.useForm(),d=l.useCallback(async()=>{e(_=>({..._,loading:!0}));try{const _=await tt.browse(s.currentPath);e(C=>({...C,items:_,loading:!1,selectedItems:[]}))}catch(_){console.error("Failed to load directory contents:",_),j.error("Failed to load directory contents"),e(C=>({...C,loading:!1}))}},[s.currentPath]);l.useEffect(()=>{d()},[d]);const c=_=>{e(C=>({...C,currentPath:_}))},p=()=>{if(s.currentPath!=="/"){const _=s.currentPath.split("/").slice(0,-1).join("/")||"/";c(_)}},h=_=>{_.isDirectory?c(_.fullPath):m(_.fullPath,"view")},m=async(_,C)=>{if(r({visible:!0,mode:C,filePath:_,loading:!0}),C!=="create")try{const x=await tt.readFile(_);r(F=>({...F,content:x.content,loading:!1}))}catch(x){console.error("Failed to read file:",x),j.error("Failed to read file"),r({visible:!1,mode:"view"})}else r(x=>({...x,content:"",loading:!1}))},A=async()=>{if(!(!n.filePath||!n.content))try{await tt.writeFile(n.filePath,n.content),j.success("File saved successfully"),r({visible:!1,mode:"view"}),d()}catch(_){console.error("Failed to save file:",_),j.error("Failed to save file")}},f=async _=>{const C=s.currentPath==="/"?`/${_.name}`:`${s.currentPath}/${_.name}`;try{await tt.createDirectory(C),j.success("Directory created successfully"),a({visible:!1}),o.resetFields(),d()}catch(x){console.error("Failed to create directory:",x),j.error("Failed to create directory")}},D=async _=>{ne.confirm({title:"Delete Item",content:`Are you sure you want to delete "${_.split("/").pop()}"?`,okType:"danger",onOk:async()=>{try{_.endsWith("/")?await tt.deleteDirectory(_):await tt.deleteFile(_),j.success("Item deleted successfully"),d()}catch(C){console.error("Failed to delete item:",C),j.error("Failed to delete item")}}})},T=_=>{e(C=>({...C,clipboardItem:{path:_,operation:"copy"}})),j.info("Item copied to clipboard")},w=_=>{e(C=>({...C,clipboardItem:{path:_,operation:"cut"}})),j.info("Item cut to clipboard")},P=async()=>{if(!s.clipboardItem)return;const _=s.clipboardItem.path.split("/").pop()||"",C=s.currentPath==="/"?`/${_}`:`${s.currentPath}/${_}`;try{s.clipboardItem.operation==="copy"?(await tt.copy(s.clipboardItem.path,C),j.success("Item copied successfully")):(await tt.move(s.clipboardItem.path,C),j.success("Item moved successfully"),e(x=>({...x,clipboardItem:null}))),d()}catch(x){console.error("Failed to paste item:",x),j.error("Failed to paste item")}},B=()=>{const _=s.currentPath.split("/").filter(F=>F),C=[{title:"Root",onClick:()=>c("/")}];let x="";return _.forEach(F=>{x+=`/${F}`,C.push({title:F,onClick:()=>c(x)})}),C},k=_=>{if(_===0)return"0 B";const C=1024,x=["B","KB","MB","GB"],F=Math.floor(Math.log(_)/Math.log(C));return parseFloat((_/Math.pow(C,F)).toFixed(1))+" "+x[F]},$=[{title:"Name",dataIndex:"name",key:"name",render:(_,C)=>t.jsxs(W,{children:[C.isDirectory?t.jsx(ss,{style:{color:"#1890ff"}}):t.jsx(fr,{}),t.jsx("a",{onClick:()=>h(C),children:_})]}),sorter:(_,C)=>_.name.localeCompare(C.name)},{title:"Size",dataIndex:"sizeBytes",key:"size",render:(_,C)=>C.isDirectory?"-":k(_),sorter:(_,C)=>_.sizeBytes-C.sizeBytes},{title:"Modified",dataIndex:"lastModified",key:"lastModified",render:_=>new Date(_).toLocaleString(),sorter:(_,C)=>new Date(_.lastModified).getTime()-new Date(C.lastModified).getTime()},{title:"Permissions",dataIndex:"permissions",key:"permissions",render:_=>t.jsx(G,{children:_})},{title:"Actions",key:"actions",render:(_,C)=>t.jsx(Bs,{menu:{items:[{key:"view",icon:t.jsx(mr,{}),label:"View",onClick:()=>m(C.fullPath,"view")},...C.isDirectory?[]:[{key:"edit",icon:t.jsx(lt,{}),label:"Edit",onClick:()=>m(C.fullPath,"edit")}],{key:"copy",icon:t.jsx(gr,{}),label:"Copy",onClick:()=>T(C.fullPath)},{key:"cut",icon:t.jsx(co,{}),label:"Cut",onClick:()=>w(C.fullPath)},{key:"delete",icon:t.jsx($e,{}),label:"Delete",danger:!0,onClick:()=>D(C.fullPath)}]},trigger:["click"],children:t.jsx(O,{icon:t.jsx(er,{})})})}];return t.jsxs("div",{children:[t.jsxs(Sl,{level:2,children:[t.jsx(es,{})," File Manager"]}),t.jsxs(N,{children:[t.jsxs(W,{direction:"vertical",style:{width:"100%",marginBottom:"16px"},children:[t.jsxs(W,{children:[t.jsx(O,{icon:t.jsx(Yi,{}),onClick:p,disabled:s.currentPath==="/",children:"Up"}),t.jsx(pr,{items:B()})]}),t.jsxs(W,{children:[t.jsx(O,{icon:t.jsx(Le,{}),onClick:()=>m("","create"),children:"New File"}),t.jsx(O,{icon:t.jsx(Da,{}),onClick:()=>a({visible:!0}),children:"New Folder"}),s.clipboardItem&&t.jsx(O,{onClick:P,children:"Paste"})]})]}),t.jsx(fe,{columns:$,dataSource:s.items,rowKey:"fullPath",loading:s.loading,pagination:!1,size:"small",scroll:{y:400}})]}),t.jsx(ne,{title:n.mode==="create"?"Create New File":n.mode==="edit"?"Edit File":"View File",open:n.visible,onCancel:()=>r({visible:!1,mode:"view"}),onOk:n.mode==="edit"?A:void 0,okText:n.mode==="edit"?"Save":"OK",width:800,children:n.mode==="create"?t.jsx(v,{layout:"vertical",children:t.jsx(v.Item,{label:"File Name",required:!0,children:t.jsx(L,{placeholder:"Enter file name",onChange:_=>{const C=_.target.value,x=s.currentPath==="/"?`/${C}`:`${s.currentPath}/${C}`;r(F=>({...F,filePath:x}))}})})}):t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsx("strong",{children:"File:"})," ",n.filePath]}),n.loading?t.jsx(Ve,{}):t.jsx(Cl,{value:n.content,onChange:_=>r(C=>({...C,content:_.target.value})),readOnly:n.mode==="view",rows:20,style:{fontFamily:"monospace"}})]})}),t.jsx(ne,{title:"Create New Directory",open:i.visible,onCancel:()=>a({visible:!1}),onOk:()=>o.submit(),okText:"Create",children:t.jsx(v,{form:o,layout:"vertical",onFinish:f,children:t.jsx(v.Item,{name:"name",label:"Directory Name",rules:[{required:!0,message:"Please enter directory name"}],children:t.jsx(L,{placeholder:"Enter directory name"})})})})]})},kl=()=>{const[s,e]=l.useState([]),[n,r]=l.useState({}),[i,a]=l.useState([]),[o,d]=l.useState(!0),c=l.useRef(null),p=async()=>{try{const f=await qe.getAll();e(f)}catch(f){console.error("Failed to load servers:",f)}finally{d(!1)}},h=l.useCallback(async()=>{try{const f=new ar().withUrl("/hubs/monitoring",{accessTokenFactory:()=>localStorage.getItem("authToken")||""}).withAutomaticReconnect().build();f.on("ReceiveServerMetrics",(D,T)=>{r(w=>({...w,[D]:T}))}),f.on("ReceiveAlert",D=>{a(T=>[D,...T.slice(0,9)])}),await f.start(),c.current=f,s.forEach(D=>{f.invoke("SubscribeToServerMetrics",D.id)})}catch(f){console.error("SignalR connection failed:",f)}},[s]);l.useEffect(()=>(p(),()=>{c.current&&c.current.stop()}),[]),l.useEffect(()=>{s.length>0&&!c.current&&h()},[s,h]);const m=f=>{switch(f){case"Running":return"green";case"Stopped":return"red";case"Error":return"red";case"Maintenance":return"orange";default:return"gray"}},A=f=>{if(f===0)return"0 B";const D=1024,T=["B","KB","MB","GB"],w=Math.floor(Math.log(f)/Math.log(D));return parseFloat((f/Math.pow(D,w)).toFixed(2))+" "+T[w]};return o?t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:t.jsx(Ve,{size:"large"})}):t.jsxs("div",{children:[t.jsx("h1",{children:"System Monitoring"}),i.length>0&&t.jsx(N,{title:"Recent Alerts",style:{marginBottom:16},children:t.jsx(ns,{dataSource:i,renderItem:f=>t.jsx(ns.Item,{children:t.jsx(Ce,{message:`${f.serverName}: ${f.message}`,type:f.severity==="Critical"?"error":f.severity==="Warning"?"warning":"info",showIcon:!0,style:{width:"100%"}})})})}),t.jsx(ie,{gutter:[16,16],children:s.map(f=>{const D=n[f.id];return t.jsx(U,{xs:24,lg:12,xl:8,children:t.jsx(N,{title:t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center"},children:[t.jsx("span",{children:f.name}),t.jsx(G,{color:m(D?.status||f.status),children:D?.status||f.status})]}),size:"small",children:D?t.jsxs(t.Fragment,{children:[t.jsxs(ie,{gutter:[8,8],children:[t.jsxs(U,{span:12,children:[t.jsx(J,{title:"CPU Usage",value:D.cpuUsage,suffix:"%",valueStyle:{color:D.cpuUsage>80?"#cf1322":"#3f8600"}}),t.jsx(xs,{percent:D.cpuUsage,size:"small",status:D.cpuUsage>90?"exception":"active"})]}),t.jsxs(U,{span:12,children:[t.jsx(J,{title:"Memory Usage",value:D.memoryUsage,suffix:"%",valueStyle:{color:D.memoryUsage>80?"#cf1322":"#3f8600"}}),t.jsx(xs,{percent:D.memoryUsage,size:"small",status:D.memoryUsage>90?"exception":"active"})]})]}),t.jsxs(ie,{gutter:[8,8],style:{marginTop:8},children:[t.jsxs(U,{span:12,children:[t.jsx(J,{title:"Disk Usage",value:D.diskUsage,suffix:"%",valueStyle:{color:D.diskUsage>90?"#cf1322":"#3f8600"}}),t.jsx(xs,{percent:D.diskUsage,size:"small",status:D.diskUsage>95?"exception":"active"})]}),t.jsx(U,{span:12,children:t.jsx(J,{title:"Active Connections",value:D.activeConnections})})]}),t.jsxs(ie,{gutter:[8,8],style:{marginTop:8},children:[t.jsx(U,{span:12,children:t.jsx(J,{title:"Network In",value:A(D.networkIn),suffix:"/s"})}),t.jsx(U,{span:12,children:t.jsx(J,{title:"Network Out",value:A(D.networkOut),suffix:"/s"})})]}),t.jsxs("div",{style:{marginTop:8,fontSize:"12px",color:"#666"},children:["Last updated: ",new Date(D.timestamp).toLocaleTimeString()]})]}):t.jsxs("div",{style:{textAlign:"center",padding:"20px"},children:[t.jsx(Ve,{size:"small"}),t.jsx("div",{style:{marginTop:8},children:"Waiting for metrics..."})]})})},f.id)})})]})},{Option:Yt}=z,Il=()=>{const[s,e]=l.useState([]),[n,r]=l.useState(!0),[i,a]=l.useState(null),[o,d]=l.useState(!1),[c,p]=l.useState(!1),[h,m]=l.useState(null),[A]=v.useForm();l.useEffect(()=>{f()},[]);const f=async()=>{try{r(!0);const C=await Gt.getAll();e(C),a(null)}catch(C){a("Failed to load users. You may not have admin privileges."),console.error("Error fetching users:",C)}finally{r(!1)}},D=async C=>{try{await Gt.create(C),j.success("User created successfully"),d(!1),A.resetFields(),f()}catch(x){j.error("Failed to create user"),console.error("Error creating user:",x)}},T=async C=>{if(h)try{await Gt.update(h.id,C),j.success("User updated successfully"),p(!1),m(null),A.resetFields(),f()}catch(x){j.error("Failed to update user"),console.error("Error updating user:",x)}},w=async C=>{try{await Gt.delete(C),j.success("User deleted successfully"),f()}catch(x){j.error("Failed to delete user"),console.error("Error deleting user:",x)}},P=()=>{d(!0)},B=C=>{m(C),A.setFieldsValue(C),p(!0)},k=()=>{d(!1),A.resetFields()},$=()=>{p(!1),m(null),A.resetFields()},_=[{title:"ID",dataIndex:"id",key:"id",width:80},{title:"Username",dataIndex:"username",key:"username"},{title:"Email",dataIndex:"email",key:"email"},{title:"Role",dataIndex:"role",key:"role",render:C=>t.jsx(G,{color:C==="Administrator"?"red":"blue",children:C})},{title:"Actions",key:"actions",render:(C,x)=>t.jsxs(t.Fragment,{children:[t.jsx(O,{type:"link",onClick:()=>B(x),children:"Edit"}),t.jsx(Te,{title:"Are you sure you want to delete this user?",onConfirm:()=>w(x.id),okText:"Yes",cancelText:"No",children:t.jsx(O,{type:"link",danger:!0,children:"Delete"})})]})}];return n?t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:t.jsx(Ve,{size:"large"})}):t.jsxs("div",{children:[t.jsx("h1",{children:"User Management"}),t.jsx(O,{type:"primary",onClick:P,style:{marginBottom:16},children:"Create User"}),i&&t.jsx(Ce,{message:"Error",description:i,type:"error",showIcon:!0,style:{marginBottom:16}}),t.jsx(N,{children:t.jsx(fe,{columns:_,dataSource:s,rowKey:"id",pagination:!1})}),t.jsx(ne,{title:"Create User",open:o,onCancel:k,footer:null,children:t.jsxs(v,{form:A,layout:"vertical",onFinish:D,children:[t.jsx(v.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please enter username"}],children:t.jsx(L,{})}),t.jsx(v.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Please enter a valid email"}],children:t.jsx(L,{})}),t.jsx(v.Item,{name:"password",label:"Password",rules:[{required:!0,message:"Please enter password"}],children:t.jsx(L.Password,{})}),t.jsx(v.Item,{name:"role",label:"Role",rules:[{required:!0,message:"Please select role"}],children:t.jsxs(z,{children:[t.jsx(Yt,{value:"User",children:"User"}),t.jsx(Yt,{value:"Administrator",children:"Administrator"})]})}),t.jsxs(v.Item,{children:[t.jsx(O,{type:"primary",htmlType:"submit",children:"Create"}),t.jsx(O,{onClick:k,style:{marginLeft:8},children:"Cancel"})]})]})}),t.jsx(ne,{title:"Edit User",open:c,onCancel:$,footer:null,children:t.jsxs(v,{form:A,layout:"vertical",onFinish:T,children:[t.jsx(v.Item,{name:"username",label:"Username",rules:[{required:!0,message:"Please enter username"}],children:t.jsx(L,{})}),t.jsx(v.Item,{name:"email",label:"Email",rules:[{required:!0,message:"Please enter email"},{type:"email",message:"Please enter a valid email"}],children:t.jsx(L,{})}),t.jsx(v.Item,{name:"password",label:"Password (leave empty to keep current)",children:t.jsx(L.Password,{})}),t.jsx(v.Item,{name:"role",label:"Role",rules:[{required:!0,message:"Please select role"}],children:t.jsxs(z,{children:[t.jsx(Yt,{value:"User",children:"User"}),t.jsx(Yt,{value:"Administrator",children:"Administrator"})]})}),t.jsxs(v.Item,{children:[t.jsx(O,{type:"primary",htmlType:"submit",children:"Update"}),t.jsx(O,{onClick:$,style:{marginLeft:8},children:"Cancel"})]})]})})]})};var ke=(s=>(s.Pending="Pending",s.Active="Active",s.Expired="Expired",s.Revoked="Revoked",s.Failed="Failed",s))(ke||{}),ze=(s=>(s.DV="DV",s.OV="OV",s.EV="EV",s.SelfSigned="SelfSigned",s))(ze||{}),ue=(s=>(s.Database="Database",s.Files="Files",s.FullServer="FullServer",s.Website="Website",s.Email="Email",s))(ue||{}),ge=(s=>(s.Pending="Pending",s.InProgress="InProgress",s.Completed="Completed",s.Failed="Failed",s.Cancelled="Cancelled",s))(ge||{}),It=(s=>(s.Info="Info",s.Warning="Warning",s.Critical="Critical",s))(It||{}),xt=(s=>(s.Active="Active",s.Acknowledged="Acknowledged",s.Resolved="Resolved",s))(xt||{}),or=(s=>(s.CpuUsage="CpuUsage",s.MemoryUsage="MemoryUsage",s.DiskUsage="DiskUsage",s.ServiceDown="ServiceDown",s.NetworkLatency="NetworkLatency",s.Custom="Custom",s))(or||{}),Os=(s=>(s.Email="Email",s.Webhook="Webhook",s.SMS="SMS",s.Slack="Slack",s))(Os||{});const Al=()=>{const[s,e]=l.useState([]),[n,r]=l.useState([]),[i,a]=l.useState([]),[o,d]=l.useState(!1),[c,p]=l.useState(!1),[h]=v.useForm();l.useEffect(()=>{m(),A(),f()},[]);const m=async()=>{try{d(!0);const x=await Ft.getAll();e(x)}catch(x){console.error("Failed to load SSL certificates:",x),j.error("Failed to load SSL certificates")}finally{d(!1)}},A=async()=>{try{const x=await Ft.getExpiringSoon();r(x)}catch(x){console.error("Failed to load expiring certificates:",x)}},f=async()=>{try{const x=await he.getAll();a(x)}catch(x){console.error("Failed to load domains:",x),j.error("Failed to load domains")}},D=async x=>{try{const F={domainId:x.domainId,type:x.type,autoRenew:x.autoRenew,email:x.email};await Ft.request(F),j.success("SSL certificate request submitted successfully"),p(!1),h.resetFields(),m()}catch(F){console.error("Failed to request SSL certificate:",F),j.error("Failed to request SSL certificate")}},T=async x=>{try{await Ft.renew(x),j.success("Certificate renewal initiated"),m()}catch(F){console.error("Failed to renew certificate:",F),j.error("Failed to renew certificate")}},w=async x=>{try{await Ft.delete(x),j.success("Certificate deleted successfully"),m(),A()}catch(F){console.error("Failed to delete certificate:",F),j.error("Failed to delete certificate")}},P=x=>{switch(x){case ke.Active:return"green";case ke.Pending:return"orange";case ke.Expired:return"red";case ke.Revoked:return"red";case ke.Failed:return"red";default:return"default"}},B=x=>{switch(x){case ke.Active:return"Active";case ke.Pending:return"Pending";case ke.Expired:return"Expired";case ke.Revoked:return"Revoked";case ke.Failed:return"Failed";default:return"Unknown"}},k=x=>{switch(x){case ze.DV:return"Let's Encrypt";case ze.OV:return"Organization Validated";case ze.EV:return"Extended Validation";case ze.SelfSigned:return"Self-Signed";default:return"Unknown"}},$=x=>{const F=Tt(x),X=Tt(),I=F.diff(X,"day");return I<=30&&I>0},_=x=>Tt(x).isBefore(Tt()),C=[{title:"Domain",dataIndex:"domainName",key:"domainName",render:(x,F)=>t.jsxs("div",{children:[t.jsx("div",{style:{fontWeight:"bold"},children:x}),F.domain&&t.jsxs("div",{style:{fontSize:"12px",color:"#666"},children:["Domain: ",F.domain.name]})]})},{title:"Status",dataIndex:"status",key:"status",render:x=>t.jsx(G,{color:P(x),children:B(x)})},{title:"Type",dataIndex:"type",key:"type",render:x=>k(x)},{title:"Expires",dataIndex:"expiresAt",key:"expiresAt",render:x=>{const F=_(x),X=$(x);return t.jsxs("div",{children:[t.jsx("div",{style:{color:F?"#ff4d4f":X?"#faad14":"inherit",fontWeight:F||X?"bold":"normal"},children:Tt(x).format("YYYY-MM-DD")}),F&&t.jsx("div",{style:{fontSize:"12px",color:"#ff4d4f"},children:"Expired"}),X&&!F&&t.jsx("div",{style:{fontSize:"12px",color:"#faad14"},children:"Expires Soon"})]})}},{title:"Auto Renew",dataIndex:"autoRenew",key:"autoRenew",render:x=>x?t.jsx(He,{style:{color:"#52c41a"}}):t.jsx(Yn,{style:{color:"#ff4d4f"}})},{title:"Actions",key:"actions",render:(x,F)=>t.jsxs(W,{size:"small",children:[F.status===ke.Active&&t.jsx(O,{size:"small",onClick:()=>T(F.id),icon:t.jsx(We,{}),children:"Renew"}),t.jsx(O,{size:"small",danger:!0,onClick:()=>w(F.id),children:"Delete"})]})}];return t.jsxs("div",{children:[t.jsxs("div",{style:{marginBottom:16},children:[t.jsx("h2",{children:"SSL Certificates"}),t.jsx("p",{children:"Manage SSL certificates for your domains"})]}),t.jsx("div",{style:{marginBottom:16},children:t.jsxs(W,{children:[t.jsx(N,{size:"small",children:t.jsx(J,{title:"Total Certificates",value:s.length,prefix:t.jsx(He,{})})}),t.jsx(N,{size:"small",children:t.jsx(J,{title:"Active Certificates",value:s.filter(x=>x.status===ke.Active).length,prefix:t.jsx(He,{}),valueStyle:{color:"#52c41a"}})}),t.jsx(N,{size:"small",children:t.jsx(J,{title:"Expiring Soon",value:n.length,prefix:t.jsx(Ks,{}),valueStyle:{color:"#faad14"}})})]})}),n.length>0&&t.jsx(Ce,{message:` ${n.length} certificate(s) expiring within 30 days`,description:"Please renew these certificates to avoid service interruption.",type:"warning",showIcon:!0,style:{marginBottom:16}}),t.jsx("div",{style:{marginBottom:16},children:t.jsxs(W,{children:[t.jsx(O,{type:"primary",icon:t.jsx(Le,{}),onClick:()=>p(!0),children:"Request Certificate"}),t.jsx(O,{icon:t.jsx(We,{}),onClick:()=>{m(),A()},children:"Refresh"})]})}),t.jsx(fe,{columns:C,dataSource:s,rowKey:"id",loading:o,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(x,F)=>`${F[0]}-${F[1]} of ${x} certificates`}}),t.jsx(ne,{title:"Request SSL Certificate",open:c,onCancel:()=>{p(!1),h.resetFields()},footer:null,children:t.jsxs(v,{form:h,layout:"vertical",onFinish:D,children:[t.jsx(v.Item,{name:"domainId",label:"Domain",rules:[{required:!0,message:"Please select a domain"}],children:t.jsx(z,{placeholder:"Select a domain",children:i.map(x=>t.jsx(z.Option,{value:x.id,children:x.domainName},x.id))})}),t.jsx(v.Item,{name:"email",label:"Email Address",rules:[{required:!0,message:"Please enter an email address"},{type:"email",message:"Please enter a valid email address"}],children:t.jsx(L,{placeholder:"admin@example.com"})}),t.jsx(v.Item,{name:"type",label:"Certificate Type",initialValue:ze.DV,children:t.jsxs(z,{children:[t.jsx(z.Option,{value:ze.DV,children:"Domain Validated (DV) - Let's Encrypt"}),t.jsx(z.Option,{value:ze.OV,children:"Organization Validated (OV)"}),t.jsx(z.Option,{value:ze.EV,children:"Extended Validation (EV)"}),t.jsx(z.Option,{value:ze.SelfSigned,children:"Self-Signed (Development)"})]})}),t.jsx(v.Item,{name:"autoRenew",label:"Auto Renew",valuePropName:"checked",initialValue:!0,children:t.jsx("input",{type:"checkbox"})}),t.jsx(v.Item,{name:"validationMethod",label:"Validation Method",children:t.jsxs(z,{placeholder:"Select validation method",children:[t.jsx(z.Option,{value:"http-01",children:"HTTP-01 (Recommended)"}),t.jsx(z.Option,{value:"dns-01",children:"DNS-01"})]})}),t.jsx(v.Item,{name:"notes",label:"Notes",children:t.jsx(L.TextArea,{placeholder:"Optional notes about this certificate"})}),t.jsx(v.Item,{style:{marginBottom:0,textAlign:"right"},children:t.jsxs(W,{children:[t.jsx(O,{onClick:()=>{p(!1),h.resetFields()},children:"Cancel"}),t.jsx(O,{type:"primary",htmlType:"submit",children:"Request Certificate"})]})})]})})]})},{Title:El}=pe,{TabPane:ks}=Re,Pl=()=>{const[s,e]=l.useState([]),[n,r]=l.useState([]),[i,a]=l.useState(!0),[o,d]=l.useState(!1),[c,p]=l.useState(null),[h]=v.useForm(),[m,A]=l.useState(null),[f,D]=l.useState("accounts"),[T,w]=l.useState(!1),[P,B]=l.useState(!1),[k,$]=l.useState(null),[_]=v.useForm(),[C]=v.useForm();l.useEffect(()=>{x()},[]);const x=async()=>{try{a(!0),A(null);const[g,M]=await Promise.all([st.getAll(),he.getAll()]);e(g),r(M)}catch(g){console.error("Failed to load data:",g),A(g instanceof Error?g.message:"Failed to load email accounts"),e([{id:1,emailAddress:"admin@example.com",domainId:1,domainName:"example.com",passwordHash:"hashed_password",quotaMB:1024,usedQuotaMB:256,isActive:!0,createdAt:"2024-01-15T10:30:00Z",lastLoginAt:"2024-01-20T14:30:00Z",forwarders:[],aliases:[]},{id:2,emailAddress:"support@example.com",domainId:1,domainName:"example.com",passwordHash:"hashed_password",quotaMB:512,usedQuotaMB:128,isActive:!0,createdAt:"2024-02-01T14:20:00Z",lastLoginAt:"2024-02-05T09:15:00Z",forwarders:[{id:1,emailAccountId:2,forwardTo:"admin@example.com",createdAt:"2024-02-01T14:20:00Z"}],aliases:[{id:1,emailAccountId:2,aliasAddress:"help@example.com",createdAt:"2024-02-01T14:20:00Z"}]},{id:3,emailAddress:"old@example.com",domainId:2,domainName:"old-domain.com",passwordHash:"hashed_password",quotaMB:256,usedQuotaMB:0,isActive:!1,createdAt:"2023-12-01T09:15:00Z",lastLoginAt:null,forwarders:[],aliases:[]}]),r([{id:1,domainName:"example.com",serverId:1,serverName:"Web Server 01",documentRoot:"/var/www/example.com",isActive:!0,sslEnabled:!0,createdAt:"2024-01-15T10:30:00Z",lastUpdated:"2024-01-15T10:30:00Z"},{id:2,domainName:"old-domain.com",serverId:2,serverName:"Database Server",documentRoot:"/var/www/old-domain.com",isActive:!1,sslEnabled:!0,createdAt:"2023-12-01T09:15:00Z",lastUpdated:"2024-01-10T16:45:00Z"}])}finally{a(!1)}},F=()=>{p(null),h.resetFields(),d(!0)},X=g=>{p(g),h.setFieldsValue({emailAddress:g.emailAddress.split("@")[0],domainId:g.domainId,password:"",quotaMB:g.quotaMB,isActive:g.isActive}),d(!0)},I=async g=>{try{await st.delete(g),j.success("Email account deleted successfully"),x()}catch(M){j.error("Failed to delete email account"),console.error("Delete email account error:",M)}},q=async()=>{try{const g=await h.validateFields(),M={emailAddress:`${g.emailAddress}@${n.find(we=>we.id===g.domainId)?.domainName}`,domainId:g.domainId,password:g.password,quotaMB:g.quotaMB,isActive:g.isActive};if(c){const we={password:g.password||void 0,quotaMB:g.quotaMB,isActive:g.isActive};await st.update(c.id,we),j.success("Email account updated successfully")}else await st.create(M),j.success("Email account created successfully");d(!1),x()}catch(g){g instanceof Error&&g.message.includes("API Error")?j.error("Failed to save email account - API not available"):j.error("Please check all required fields"),console.error("Save email account error:",g)}},ve=g=>{$(g),_.resetFields(),w(!0)},be=async()=>{try{const g=await _.validateFields();await st.addForwarder(k,g),j.success("Forwarder added successfully"),w(!1),x()}catch(g){j.error("Failed to add forwarder"),console.error("Add forwarder error:",g)}},ce=async g=>{try{await st.deleteForwarder(g),j.success("Forwarder deleted successfully"),x()}catch(M){j.error("Failed to delete forwarder"),console.error("Delete forwarder error:",M)}},Ze=g=>{$(g),C.resetFields(),B(!0)},Je=async()=>{try{const g=await C.validateFields();await st.addAlias(k,g),j.success("Alias added successfully"),B(!1),x()}catch(g){j.error("Failed to add alias"),console.error("Add alias error:",g)}},Ge=async g=>{try{await st.deleteAlias(g),j.success("Alias deleted successfully"),x()}catch(M){j.error("Failed to delete alias"),console.error("Delete alias error:",M)}},Fe=g=>{const M=n.find(we=>we.id===g);return M?M.domainName:`Domain ${g}`},de=g=>{const M=g.usedQuotaMB/g.quotaMB*100;return M>=90?{status:"error",color:"red"}:M>=75?{status:"warning",color:"orange"}:{status:"success",color:"green"}},ut=[{title:"Email Address",dataIndex:"emailAddress",key:"emailAddress",render:g=>t.jsxs(W,{children:[t.jsx(vt,{style:{color:"#1890ff"}}),t.jsx("span",{children:g})]}),sorter:(g,M)=>g.emailAddress.localeCompare(M.emailAddress)},{title:"Domain",dataIndex:"domainId",key:"domainId",render:g=>Fe(g),filters:n.map(g=>({text:g.domainName,value:g.id})),onFilter:(g,M)=>M.domainId===g},{title:"Status",dataIndex:"isActive",key:"isActive",render:g=>t.jsx(G,{color:g?"green":"red",children:g?"Active":"Inactive"}),filters:[{text:"Active",value:!0},{text:"Inactive",value:!1}],onFilter:(g,M)=>M.isActive===g},{title:"Quota Usage",key:"quota",render:(g,M)=>{const we=de(M),b=Math.round(M.usedQuotaMB/M.quotaMB*100);return t.jsx(le,{title:`${M.usedQuotaMB}MB / ${M.quotaMB}MB (${b}%)`,children:t.jsx(bt,{status:we.status,text:`${b}%`})})},sorter:(g,M)=>g.usedQuotaMB/g.quotaMB-M.usedQuotaMB/M.quotaMB},{title:"Forwarders",key:"forwarders",render:(g,M)=>t.jsx(bt,{count:M.forwarders?.length||0,showZero:!0,children:t.jsx(Ct,{style:{color:"#52c41a"}})})},{title:"Aliases",key:"aliases",render:(g,M)=>t.jsx(bt,{count:M.aliases?.length||0,showZero:!0,children:t.jsx(_t,{style:{color:"#722ed1"}})})},{title:"Last Login",dataIndex:"lastLoginAt",key:"lastLoginAt",render:g=>g?new Date(g).toLocaleDateString():"Never",sorter:(g,M)=>!g.lastLoginAt&&!M.lastLoginAt?0:g.lastLoginAt?M.lastLoginAt?new Date(g.lastLoginAt).getTime()-new Date(M.lastLoginAt).getTime():-1:1,responsive:["md"]},{title:"Actions",key:"actions",render:(g,M)=>t.jsxs(W,{size:"small",children:[t.jsx(le,{title:"Edit Account",children:t.jsx(O,{type:"text",icon:t.jsx(lt,{}),onClick:()=>X(M)})}),t.jsx(le,{title:"Add Forwarder",children:t.jsx(O,{type:"text",icon:t.jsx(Ct,{}),onClick:()=>ve(M.id)})}),t.jsx(le,{title:"Add Alias",children:t.jsx(O,{type:"text",icon:t.jsx(_t,{}),onClick:()=>Ze(M.id)})}),t.jsx(Te,{title:"Delete Email Account",description:"Are you sure you want to delete this email account? This will also delete all associated forwarders and aliases.",onConfirm:()=>I(M.id),okText:"Yes",cancelText:"No",children:t.jsx(le,{title:"Delete Account",children:t.jsx(O,{type:"text",danger:!0,icon:t.jsx($e,{})})})})]})}],Ae=[{title:"Forward To",dataIndex:"forwardTo",key:"forwardTo",render:g=>t.jsxs(W,{children:[t.jsx(Ct,{style:{color:"#52c41a"}}),t.jsx("span",{children:g})]})},{title:"Created",dataIndex:"createdAt",key:"createdAt",render:g=>new Date(g).toLocaleDateString(),sorter:(g,M)=>new Date(g.createdAt).getTime()-new Date(M.createdAt).getTime()},{title:"Actions",key:"actions",render:(g,M)=>t.jsx(Te,{title:"Delete Forwarder",description:"Are you sure you want to delete this forwarder?",onConfirm:()=>ce(M.id),okText:"Yes",cancelText:"No",children:t.jsx(O,{type:"text",danger:!0,icon:t.jsx($e,{})})})}],ht=[{title:"Alias Address",dataIndex:"aliasAddress",key:"aliasAddress",render:g=>t.jsxs(W,{children:[t.jsx(_t,{style:{color:"#722ed1"}}),t.jsx("span",{children:g})]})},{title:"Created",dataIndex:"createdAt",key:"createdAt",render:g=>new Date(g).toLocaleDateString(),sorter:(g,M)=>new Date(g.createdAt).getTime()-new Date(M.createdAt).getTime()},{title:"Actions",key:"actions",render:(g,M)=>t.jsx(Te,{title:"Delete Alias",description:"Are you sure you want to delete this alias?",onConfirm:()=>Ge(M.id),okText:"Yes",cancelText:"No",children:t.jsx(O,{type:"text",danger:!0,icon:t.jsx($e,{})})})}];if(i)return t.jsx("div",{style:{display:"flex",justifyContent:"center",alignItems:"center",height:"200px"},children:t.jsx(Ve,{size:"large"})});const Xe=s.filter(g=>g.isActive),Ye=s.reduce((g,M)=>g+(M.forwarders?.length||0),0),et=s.reduce((g,M)=>g+(M.aliases?.length||0),0),Ee=s.filter(g=>g.usedQuotaMB/g.quotaMB*100>=80);return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsxs(El,{level:2,children:[t.jsx(vt,{})," Email Management"]}),t.jsxs(W,{children:[t.jsx(O,{icon:t.jsx(We,{}),onClick:x,loading:i,children:"Refresh"}),t.jsx(O,{type:"primary",icon:t.jsx(Le,{}),onClick:F,children:"Add Email Account"})]})]}),m&&t.jsx(Ce,{message:"API Connection Issue",description:"Unable to connect to API. Showing sample data for demonstration.",type:"warning",showIcon:!0,style:{marginBottom:"16px"},closable:!0}),t.jsxs(ie,{gutter:[16,16],style:{marginBottom:"24px"},children:[t.jsx(U,{xs:24,sm:6,children:t.jsx(N,{children:t.jsx(J,{title:"Total Accounts",value:s.length,prefix:t.jsx(vt,{}),valueStyle:{color:"#1890ff"}})})}),t.jsx(U,{xs:24,sm:6,children:t.jsx(N,{children:t.jsx(J,{title:"Active Accounts",value:Xe.length,prefix:t.jsx(He,{}),valueStyle:{color:"#3f8600"}})})}),t.jsx(U,{xs:24,sm:6,children:t.jsx(N,{children:t.jsx(J,{title:"Forwarders",value:Ye,prefix:t.jsx(Ct,{}),valueStyle:{color:"#52c41a"}})})}),t.jsx(U,{xs:24,sm:6,children:t.jsx(N,{children:t.jsx(J,{title:"Aliases",value:et,prefix:t.jsx(_t,{}),valueStyle:{color:"#722ed1"}})})})]}),Ee.length>0&&t.jsx(Ce,{message:"Quota Alert",description:`${Ee.length} email account(s) are using 80% or more of their quota. Consider increasing quotas or cleaning up old emails.`,type:"warning",showIcon:!0,style:{marginBottom:"16px"},closable:!0}),t.jsx(N,{children:t.jsxs(Re,{activeKey:f,onChange:D,children:[t.jsx(ks,{tab:t.jsxs("span",{children:[t.jsx(vt,{}),"Email Accounts (",s.length,")"]}),children:t.jsx(fe,{columns:ut,dataSource:s,rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(g,M)=>`${M[0]}-${M[1]} of ${g} email accounts`}})},"accounts"),t.jsx(ks,{tab:t.jsxs("span",{children:[t.jsx(Ct,{}),"All Forwarders (",Ye,")"]}),children:s.flatMap(g=>(g.forwarders||[]).map(M=>({...M,accountEmail:g.emailAddress}))).length>0?t.jsx(fe,{columns:[{title:"Account",dataIndex:"accountEmail",key:"accountEmail",render:g=>t.jsxs(W,{children:[t.jsx(Qe,{}),t.jsx("span",{children:g})]})},...Ae],dataSource:s.flatMap(g=>(g.forwarders||[]).map(M=>({...M,accountEmail:g.emailAddress}))),rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(g,M)=>`${M[0]}-${M[1]} of ${g} forwarders`}}):t.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[t.jsx(Ct,{style:{fontSize:"48px",color:"#d9d9d9"}}),t.jsx("div",{style:{marginTop:"16px",color:"#8c8c8c"},children:"No forwarders configured yet"})]})},"forwarders"),t.jsx(ks,{tab:t.jsxs("span",{children:[t.jsx(_t,{}),"All Aliases (",et,")"]}),children:s.flatMap(g=>(g.aliases||[]).map(M=>({...M,accountEmail:g.emailAddress}))).length>0?t.jsx(fe,{columns:[{title:"Account",dataIndex:"accountEmail",key:"accountEmail",render:g=>t.jsxs(W,{children:[t.jsx(Qe,{}),t.jsx("span",{children:g})]})},...ht],dataSource:s.flatMap(g=>(g.aliases||[]).map(M=>({...M,accountEmail:g.emailAddress}))),rowKey:"id",pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(g,M)=>`${M[0]}-${M[1]} of ${g} aliases`}}):t.jsxs("div",{style:{textAlign:"center",padding:"40px"},children:[t.jsx(_t,{style:{fontSize:"48px",color:"#d9d9d9"}}),t.jsx("div",{style:{marginTop:"16px",color:"#8c8c8c"},children:"No aliases configured yet"})]})},"aliases")]})}),t.jsx(ne,{title:c?"Edit Email Account":"Add New Email Account",open:o,onOk:q,onCancel:()=>d(!1),width:600,children:t.jsxs(v,{form:h,layout:"vertical",initialValues:{isActive:!0,quotaMB:1024},children:[t.jsxs(ie,{gutter:16,children:[t.jsx(U,{span:12,children:t.jsx(v.Item,{name:"emailAddress",label:"Username",rules:[{required:!0,message:"Please enter username"},{pattern:/^[a-zA-Z0-9._-]+$/,message:"Username can only contain letters, numbers, dots, underscores, and hyphens"}],children:t.jsx(L,{placeholder:"admin"})})}),t.jsx(U,{span:12,children:t.jsx(v.Item,{name:"domainId",label:"Domain",rules:[{required:!0,message:"Please select a domain"}],children:t.jsx(z,{placeholder:"Select domain",children:n.filter(g=>g.isActive).map(g=>t.jsx(z.Option,{value:g.id,children:g.domainName},g.id))})})})]}),t.jsx(v.Item,{name:"password",label:c?"New Password (leave empty to keep current)":"Password",rules:[{required:!c,message:"Please enter password"},{min:8,message:"Password must be at least 8 characters"}],children:t.jsx(L.Password,{placeholder:"Enter password"})}),t.jsx(v.Item,{name:"quotaMB",label:"Quota (MB)",rules:[{required:!0,message:"Please enter quota"},{type:"number",min:1,message:"Quota must be at least 1 MB"}],children:t.jsx(L,{type:"number",placeholder:"1024"})}),t.jsx(v.Item,{name:"isActive",label:"Active",valuePropName:"checked",children:t.jsx("input",{type:"checkbox"})})]})}),t.jsx(ne,{title:"Add Email Forwarder",open:T,onOk:be,onCancel:()=>w(!1),width:500,children:t.jsx(v,{form:_,layout:"vertical",children:t.jsx(v.Item,{name:"forwardTo",label:"Forward To",rules:[{required:!0,message:"Please enter forward-to email"},{type:"email",message:"Please enter a valid email address"}],children:t.jsx(L,{placeholder:"destination@example.com"})})})}),t.jsx(ne,{title:"Add Email Alias",open:P,onOk:Je,onCancel:()=>B(!1),width:500,children:t.jsx(v,{form:C,layout:"vertical",children:t.jsx(v.Item,{name:"aliasAddress",label:"Alias Address",rules:[{required:!0,message:"Please enter alias address"},{type:"email",message:"Please enter a valid email address"}],children:t.jsx(L,{placeholder:"alias@example.com"})})})})]})},{Title:Dl}=pe,{Option:me}=z,{TabPane:Dn}=Re,{TextArea:Rn}=L,Rl=()=>{const[s,e]=l.useState([]),[n,r]=l.useState([]),[i,a]=l.useState([]),[o,d]=l.useState([]),[c,p]=l.useState([]),[h,m]=l.useState(!0),[A,f]=l.useState(!1),[D,T]=l.useState(!1),[w,P]=l.useState(!1),[B,k]=l.useState(!1),[$,_]=l.useState(null),[C,x]=l.useState(null),[F,X]=l.useState(null),[I,q]=l.useState([]),[ve]=v.useForm(),[be]=v.useForm(),[ce]=v.useForm(),[Ze,Je]=l.useState(null),[Ge,Fe]=l.useState("backups");l.useEffect(()=>{de()},[]);const de=async()=>{try{m(!0),Je(null);const[y,u,R,V,Oe]=await Promise.all([ft.getAll().catch(()=>[]),kt.getAll().catch(()=>[]),qe.getAll().catch(()=>[]),zt.getAll().catch(()=>[]),he.getAll().catch(()=>[])]);e(y),r(u),a(R),d(V),p(Oe)}catch(y){console.error("Failed to load backup data:",y),Je(y instanceof Error?y.message:"Failed to load backup data")}finally{m(!1)}},ut=()=>{_(null),ve.resetFields(),f(!0)},Ae=()=>{x(null),be.resetFields(),T(!0)},ht=y=>{x(y),be.setFieldsValue(y),T(!0)},Xe=async y=>{try{await ft.delete(y),j.success("Backup deleted successfully"),de()}catch(u){j.error("Failed to delete backup"),console.error("Delete backup error:",u)}},Ye=async y=>{try{await kt.delete(y),j.success("Backup schedule deleted successfully"),de()}catch(u){j.error("Failed to delete backup schedule"),console.error("Delete schedule error:",u)}},et=y=>{X(y),ce.resetFields(),P(!0)},Ee=async y=>{try{const u=await ft.download(y.id),R=window.URL.createObjectURL(u),V=document.createElement("a");V.href=R,V.download=`${y.name}_${y.id}.zip`,document.body.appendChild(V),V.click(),window.URL.revokeObjectURL(R),document.body.removeChild(V),j.success("Backup download started")}catch(u){j.error("Failed to download backup"),console.error("Download error:",u)}},g=async y=>{try{const u=await ft.getLogs(y.id);q(u),X(y),k(!0)}catch(u){j.error("Failed to load backup logs"),console.error("Load logs error:",u)}},M=async y=>{try{await ft.cancel(y),j.success("Backup cancellation requested"),de()}catch(u){j.error("Failed to cancel backup"),console.error("Cancel backup error:",u)}},we=async()=>{try{const y=await ve.validateFields();$?j.info("Backup update not implemented yet"):(await ft.create(y),j.success("Backup created successfully")),f(!1),de()}catch(y){j.error("Failed to save backup"),console.error("Save backup error:",y)}},b=async()=>{try{const y=await be.validateFields();C?(await kt.update(C.id,y),j.success("Backup schedule updated successfully")):(await kt.create(y),j.success("Backup schedule created successfully")),T(!1),de()}catch(y){j.error("Failed to save backup schedule"),console.error("Save schedule error:",y)}},Q=async()=>{if(F)try{const y=await ce.validateFields(),u=await ft.restore(F.id,y);u.success?j.success(`Restore completed: ${u.message}`):j.error(`Restore failed: ${u.message}`),P(!1),de()}catch(y){j.error("Failed to restore backup"),console.error("Restore error:",y)}},pt=async y=>{try{y.isActive?(await kt.disable(y.id),j.success("Backup schedule disabled")):(await kt.enable(y.id),j.success("Backup schedule enabled")),de()}catch(u){j.error("Failed to toggle schedule status"),console.error("Toggle schedule error:",u)}},hs=y=>{switch(y){case ge.Completed:return"green";case ge.InProgress:return"blue";case ge.Pending:return"orange";case ge.Failed:return"red";case ge.Cancelled:return"gray";default:return"default"}},ps=y=>{switch(y){case ge.Completed:return t.jsx(He,{});case ge.InProgress:return t.jsx(Ys,{});case ge.Pending:return t.jsx(Ks,{});case ge.Failed:return t.jsx(Yn,{});case ge.Cancelled:return t.jsx(ts,{});default:return null}},Qt=y=>{switch(y){case ue.Database:return t.jsx(at,{});case ue.Files:return t.jsx(es,{});case ue.FullServer:return t.jsx(ao,{});case ue.Website:return t.jsx(Ne,{});case ue.Email:return t.jsx(vt,{});default:return t.jsx(es,{})}},fs=y=>{if(!y)return"N/A";const u=["B","KB","MB","GB","TB"],R=Math.floor(Math.log(y)/Math.log(1024));return`${(y/Math.pow(1024,R)).toFixed(2)} ${u[R]}`},ms=[{title:"Name",dataIndex:"name",key:"name",render:(y,u)=>t.jsxs(W,{children:[Qt(u.type),y]}),sorter:(y,u)=>y.name.localeCompare(u.name)},{title:"Type",dataIndex:"type",key:"type",render:y=>t.jsx(G,{color:"blue",children:y}),filters:Object.values(ue).map(y=>({text:y,value:y})),onFilter:(y,u)=>u.type===y},{title:"Status",dataIndex:"status",key:"status",render:y=>t.jsx(G,{color:hs(y),icon:ps(y),children:y}),filters:Object.values(ge).map(y=>({text:y,value:y})),onFilter:(y,u)=>u.status===y},{title:"Size",dataIndex:"fileSizeInBytes",key:"fileSizeInBytes",render:y=>fs(y),sorter:(y,u)=>(y.fileSizeInBytes||0)-(u.fileSizeInBytes||0)},{title:"Created",dataIndex:"createdAt",key:"createdAt",render:y=>new Date(y).toLocaleString(),sorter:(y,u)=>new Date(y.createdAt).getTime()-new Date(u.createdAt).getTime()},{title:"Actions",key:"actions",render:(y,u)=>{const R=[{key:"download",icon:t.jsx(xr,{}),label:"Download",onClick:()=>Ee(u),disabled:u.status!==ge.Completed},{key:"restore",icon:t.jsx(We,{}),label:"Restore",onClick:()=>et(u),disabled:u.status!==ge.Completed},{key:"logs",icon:t.jsx(es,{}),label:"View Logs",onClick:()=>g(u)},{key:"cancel",icon:t.jsx(ts,{}),label:"Cancel",onClick:()=>M(u.id),disabled:u.status!==ge.InProgress&&u.status!==ge.Pending}];return t.jsxs(W,{size:"small",children:[t.jsx(Bs,{menu:{items:R},trigger:["click"],children:t.jsx(O,{type:"text",icon:t.jsx(er,{})})}),t.jsx(Te,{title:"Delete Backup",description:"Are you sure you want to delete this backup?",onConfirm:()=>Xe(u.id),okText:"Yes",cancelText:"No",children:t.jsx(O,{type:"text",danger:!0,icon:t.jsx($e,{}),title:"Delete Backup"})})]})}}],gs=[{title:"Name",dataIndex:"name",key:"name",render:(y,u)=>t.jsxs(W,{children:[Qt(u.backupType),y]}),sorter:(y,u)=>y.name.localeCompare(u.name)},{title:"Type",dataIndex:"backupType",key:"backupType",render:y=>t.jsx(G,{color:"blue",children:y})},{title:"Schedule",dataIndex:"scheduleExpression",key:"scheduleExpression",render:y=>t.jsxs(le,{title:`Cron: ${y}`,children:[t.jsx(Ys,{})," ",y]})},{title:"Status",dataIndex:"isActive",key:"isActive",render:y=>t.jsx(G,{color:y?"green":"red",children:y?"Active":"Inactive"})},{title:"Next Run",dataIndex:"nextRunAt",key:"nextRunAt",render:y=>y?new Date(y).toLocaleString():"N/A"},{title:"Actions",key:"actions",render:(y,u)=>t.jsxs(W,{size:"small",children:[t.jsx(O,{type:"text",icon:u.isActive?t.jsx(ts,{}):t.jsx(tr,{}),onClick:()=>pt(u),title:u.isActive?"Disable Schedule":"Enable Schedule"}),t.jsx(O,{type:"text",icon:t.jsx(lt,{}),onClick:()=>ht(u),title:"Edit Schedule"}),t.jsx(Te,{title:"Delete Schedule",description:"Are you sure you want to delete this backup schedule?",onConfirm:()=>Ye(u.id),okText:"Yes",cancelText:"No",children:t.jsx(O,{type:"text",danger:!0,icon:t.jsx($e,{}),title:"Delete Schedule"})})]})}];return t.jsxs("div",{children:[t.jsxs("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",marginBottom:"16px"},children:[t.jsx(Dl,{level:2,style:{margin:0},children:"Backup Management"}),t.jsxs(W,{children:[t.jsx(O,{icon:t.jsx(We,{}),onClick:de,loading:h,children:"Refresh"}),t.jsx(O,{type:"primary",icon:t.jsx(Le,{}),onClick:ut,children:"Create Backup"})]})]}),Ze&&t.jsx(Ce,{message:"API Connection Issue",description:"Unable to connect to API. Showing sample data for demonstration.",type:"warning",showIcon:!0,style:{marginBottom:"16px"},closable:!0}),t.jsxs(Re,{activeKey:Ge,onChange:Fe,children:[t.jsx(Dn,{tab:"Backups",children:t.jsx(N,{children:t.jsx(fe,{columns:ms,dataSource:s,rowKey:"id",loading:h,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(y,u)=>`${u[0]}-${u[1]} of ${y} backups`}})})},"backups"),t.jsxs(Dn,{tab:"Schedules",children:[t.jsx("div",{style:{marginBottom:"16px"},children:t.jsx(O,{type:"primary",icon:t.jsx(Le,{}),onClick:Ae,children:"Create Schedule"})}),t.jsx(N,{children:t.jsx(fe,{columns:gs,dataSource:n,rowKey:"id",loading:h,pagination:{pageSize:10,showSizeChanger:!0,showQuickJumper:!0,showTotal:(y,u)=>`${u[0]}-${u[1]} of ${y} schedules`}})})]},"schedules")]}),t.jsx(ne,{title:$?"Edit Backup":"Create New Backup",open:A,onOk:we,onCancel:()=>f(!1),width:600,children:t.jsxs(v,{form:ve,layout:"vertical",initialValues:{isCompressed:!0,isEncrypted:!1,retentionDays:30},children:[t.jsx(v.Item,{name:"name",label:"Backup Name",rules:[{required:!0,message:"Please enter backup name"}],children:t.jsx(L,{placeholder:"Enter backup name"})}),t.jsx(v.Item,{name:"description",label:"Description",children:t.jsx(Rn,{placeholder:"Enter backup description",rows:3})}),t.jsx(v.Item,{name:"type",label:"Backup Type",rules:[{required:!0,message:"Please select backup type"}],children:t.jsxs(z,{placeholder:"Select backup type",children:[t.jsx(me,{value:ue.Database,children:"Database"}),t.jsx(me,{value:ue.Files,children:"Files"}),t.jsx(me,{value:ue.FullServer,children:"Full Server"}),t.jsx(me,{value:ue.Website,children:"Website"}),t.jsx(me,{value:ue.Email,children:"Email"})]})}),t.jsx(v.Item,{name:"serverId",label:"Server",children:t.jsx(z,{placeholder:"Select server (optional)",children:i.map(y=>t.jsx(me,{value:y.id,children:y.name},y.id))})}),t.jsx(v.Item,{name:"databaseId",label:"Database",children:t.jsx(z,{placeholder:"Select database (optional)",children:o.map(y=>t.jsx(me,{value:y.id,children:y.name},y.id))})}),t.jsx(v.Item,{name:"domainId",label:"Domain",children:t.jsx(z,{placeholder:"Select domain (optional)",children:c.map(y=>t.jsx(me,{value:y.id,children:y.domainName},y.id))})}),t.jsx(v.Item,{name:"backupPath",label:"Backup Path",children:t.jsx(L,{placeholder:"Enter backup path (optional)"})}),t.jsx(v.Item,{name:"isCompressed",label:"Compress Backup",valuePropName:"checked",children:t.jsx(nt,{})}),t.jsx(v.Item,{name:"isEncrypted",label:"Encrypt Backup",valuePropName:"checked",children:t.jsx(nt,{})}),t.jsx(v.Item,{name:"retentionDays",label:"Retention Days",rules:[{required:!0,message:"Please enter retention days"}],children:t.jsx(L,{type:"number",placeholder:"30"})})]})}),t.jsx(ne,{title:C?"Edit Backup Schedule":"Create New Backup Schedule",open:D,onOk:b,onCancel:()=>T(!1),width:600,children:t.jsxs(v,{form:be,layout:"vertical",initialValues:{isCompressed:!0,isEncrypted:!1,retentionDays:30,isActive:!0,scheduleExpression:"0 2 * * *"},children:[t.jsx(v.Item,{name:"name",label:"Schedule Name",rules:[{required:!0,message:"Please enter schedule name"}],children:t.jsx(L,{placeholder:"Enter schedule name"})}),t.jsx(v.Item,{name:"description",label:"Description",children:t.jsx(Rn,{placeholder:"Enter schedule description",rows:3})}),t.jsx(v.Item,{name:"backupType",label:"Backup Type",rules:[{required:!0,message:"Please select backup type"}],children:t.jsxs(z,{placeholder:"Select backup type",children:[t.jsx(me,{value:ue.Database,children:"Database"}),t.jsx(me,{value:ue.Files,children:"Files"}),t.jsx(me,{value:ue.FullServer,children:"Full Server"}),t.jsx(me,{value:ue.Website,children:"Website"}),t.jsx(me,{value:ue.Email,children:"Email"})]})}),t.jsx(v.Item,{name:"scheduleExpression",label:"Schedule (Cron Expression)",rules:[{required:!0,message:"Please enter cron expression"}],children:t.jsx(L,{placeholder:"0 2 * * * (daily at 2 AM)"})}),t.jsx(v.Item,{name:"serverId",label:"Server",children:t.jsx(z,{placeholder:"Select server (optional)",children:i.map(y=>t.jsx(me,{value:y.id,children:y.name},y.id))})}),t.jsx(v.Item,{name:"databaseId",label:"Database",children:t.jsx(z,{placeholder:"Select database (optional)",children:o.map(y=>t.jsx(me,{value:y.id,children:y.name},y.id))})}),t.jsx(v.Item,{name:"domainId",label:"Domain",children:t.jsx(z,{placeholder:"Select domain (optional)",children:c.map(y=>t.jsx(me,{value:y.id,children:y.domainName},y.id))})}),t.jsx(v.Item,{name:"backupPath",label:"Backup Path",children:t.jsx(L,{placeholder:"Enter backup path (optional)"})}),t.jsx(v.Item,{name:"isCompressed",label:"Compress Backup",valuePropName:"checked",children:t.jsx(nt,{})}),t.jsx(v.Item,{name:"isEncrypted",label:"Encrypt Backup",valuePropName:"checked",children:t.jsx(nt,{})}),t.jsx(v.Item,{name:"retentionDays",label:"Retention Days",rules:[{required:!0,message:"Please enter retention days"}],children:t.jsx(L,{type:"number",placeholder:"30"})}),t.jsx(v.Item,{name:"isActive",label:"Active",valuePropName:"checked",children:t.jsx(nt,{})})]})}),t.jsx(ne,{title:`Restore Backup: ${F?.name}`,open:w,onOk:Q,onCancel:()=>P(!1),width:500,children:t.jsxs(v,{form:ce,layout:"vertical",initialValues:{overwriteExisting:!1},children:[t.jsx(Ce,{message:"Warning",description:"Restoring a backup will overwrite existing data. Make sure you have a backup of your current data.",type:"warning",showIcon:!0,style:{marginBottom:"16px"}}),t.jsx(v.Item,{name:"restorePath",label:"Restore Path",children:t.jsx(L,{placeholder:"Enter restore path (optional)"})}),t.jsx(v.Item,{name:"overwriteExisting",label:"Overwrite Existing Files",valuePropName:"checked",children:t.jsx(nt,{})})]})}),t.jsx(ne,{title:`Backup Logs: ${F?.name}`,open:B,onCancel:()=>k(!1),footer:null,width:800,children:t.jsx(fe,{columns:[{title:"Timestamp",dataIndex:"timestamp",key:"timestamp",render:y=>new Date(y).toLocaleString(),width:180},{title:"Level",dataIndex:"level",key:"level",render:y=>t.jsx(G,{color:y==="Error"?"red":y==="Warning"?"orange":"blue",children:y}),width:80},{title:"Message",dataIndex:"message",key:"message"}],dataSource:I,rowKey:"id",pagination:{pageSize:20,showSizeChanger:!0},scroll:{y:400}})})]})},{TabPane:Bt}=Re,{Option:gt}=z,Ml=()=>{const[s,e]=l.useState([]),[n,r]=l.useState([]),[i,a]=l.useState(null),[o,d]=l.useState(!1),[c,p]=l.useState(!1),[h,m]=l.useState(null),[A]=v.useForm(),[f,D]=l.useState(null),[T,w]=l.useState([]),[P,B]=l.useState([]),[k,$]=l.useState(!1),[_,C]=l.useState(!1),[x,F]=l.useState("acknowledge"),[X]=v.useForm();l.useEffect(()=>{I(),q(),ve()},[]);const I=async()=>{try{const b=await Ot.getAll();e(b)}catch{j.error("Failed to load alert rules")}},q=async()=>{try{const b=await Ue.getAll();r(b)}catch{j.error("Failed to load alerts")}},ve=async()=>{try{const b=await Ue.getStats();a(b)}catch{j.error("Failed to load alert statistics")}},be=async b=>{try{d(!0),await Ot.create(b),j.success("Alert rule created successfully"),p(!1),A.resetFields(),I()}catch{j.error("Failed to create alert rule")}finally{d(!1)}},ce=async(b,Q)=>{try{d(!0),await Ot.update(b,Q),j.success("Alert rule updated successfully"),p(!1),m(null),A.resetFields(),I()}catch{j.error("Failed to update alert rule")}finally{d(!1)}},Ze=async b=>{try{await Ot.delete(b),j.success("Alert rule deleted successfully"),I()}catch{j.error("Failed to delete alert rule")}},Je=async b=>{try{await Ot.test(b),j.success("Test alert created successfully"),q()}catch{j.error("Failed to test alert rule")}},Ge=async b=>{D(n.find(Q=>Q.id===b)||null),F("acknowledge"),C(!0)},Fe=async b=>{D(n.find(Q=>Q.id===b)||null),F("resolve"),C(!0)},de=async()=>{if(f)try{const Q=(await X.validateFields()).comment?.trim();x==="acknowledge"?(await Ue.acknowledgeWithComment(f.id,Q,"User"),j.success("Alert acknowledged successfully")):(await Ue.resolveWithComment(f.id,Q,"User"),j.success("Alert resolved successfully")),C(!1),X.resetFields(),q(),ve()}catch{j.error(`Failed to ${x} alert`)}},ut=async b=>{D(b);try{const[Q,pt]=await Promise.all([Ue.getHistory(b.id),Ue.getComments(b.id)]);w(Q),B(pt),$(!0)}catch{j.error("Failed to load alert history")}},Ae=async(b,Q)=>{try{await Ue.addComment(b,Q,"General","User");const pt=await Ue.getComments(b);B(pt),j.success("Comment added successfully")}catch{j.error("Failed to add comment")}},ht=async()=>{try{await Ue.evaluate(),j.success("Alert rules evaluated successfully"),q(),ve()}catch{j.error("Failed to evaluate alert rules")}},Xe=()=>{m(null),A.resetFields(),p(!0)},Ye=b=>{m(b),A.setFieldsValue({name:b.name,description:b.description,type:b.type,serverId:b.serverId,metricName:b.metricName,condition:b.condition,threshold:b.threshold,severity:b.severity,enabled:b.enabled,cooldownMinutes:b.cooldownMinutes,notificationChannels:b.notificationChannels,webhookUrl:b.webhookUrl,emailRecipients:b.emailRecipients,slackWebhookUrl:b.slackWebhookUrl}),p(!0)},et=async()=>{try{const b=await A.validateFields();h?await ce(h.id,b):await be(b)}catch{}},Ee=b=>{switch(b){case It.Critical:return"red";case It.Warning:return"orange";case It.Info:return"blue";default:return"default"}},g=b=>{switch(b){case xt.Active:return"red";case xt.Acknowledged:return"orange";case xt.Resolved:return"green";default:return"default"}},M=[{title:"Name",dataIndex:"name",key:"name"},{title:"Type",dataIndex:"type",key:"type",render:b=>t.jsx(G,{children:b})},{title:"Severity",dataIndex:"severity",key:"severity",render:b=>t.jsx(G,{color:Ee(b),children:b})},{title:"Enabled",dataIndex:"enabled",key:"enabled",render:b=>t.jsx(nt,{checked:b,disabled:!0,size:"small"})},{title:"Actions",key:"actions",render:(b,Q)=>t.jsxs(W,{children:[t.jsx(le,{title:"Edit",children:t.jsx(O,{icon:t.jsx(lt,{}),onClick:()=>Ye(Q),size:"small"})}),t.jsx(le,{title:"Test",children:t.jsx(O,{icon:t.jsx(jn,{}),onClick:()=>Je(Q.id),size:"small"})}),t.jsx(Te,{title:"Delete this alert rule?",onConfirm:()=>Ze(Q.id),okText:"Yes",cancelText:"No",children:t.jsx(O,{icon:t.jsx($e,{}),danger:!0,size:"small"})})]})}],we=[{title:"Message",dataIndex:"message",key:"message",ellipsis:!0},{title:"Severity",dataIndex:"severity",key:"severity",render:b=>t.jsx(G,{color:Ee(b),children:b})},{title:"Status",dataIndex:"status",key:"status",render:b=>t.jsx(G,{color:g(b),children:b})},{title:"Server",dataIndex:"serverName",key:"serverName"},{title:"Created",dataIndex:"createdAt",key:"createdAt",render:b=>new Date(b).toLocaleString()},{title:"Actions",key:"actions",render:(b,Q)=>t.jsxs(W,{children:[Q.status===xt.Active&&t.jsx(O,{icon:t.jsx(He,{}),onClick:()=>Ge(Q.id),size:"small",children:"Acknowledge"}),Q.status!==xt.Resolved&&t.jsx(O,{icon:t.jsx(Ks,{}),onClick:()=>Fe(Q.id),size:"small",children:"Resolve"}),t.jsx(O,{icon:t.jsx(Sn,{}),onClick:()=>ut(Q),size:"small",children:"History"})]})}];return t.jsxs("div",{style:{padding:"24px"},children:[t.jsx(ie,{gutter:[16,16],children:t.jsx(U,{span:24,children:t.jsx(N,{title:t.jsxs(t.Fragment,{children:[t.jsx(Qs,{})," Alert Management"]}),children:t.jsxs(Re,{defaultActiveKey:"overview",children:[t.jsx(Bt,{tab:"Overview",children:i&&t.jsxs(ie,{gutter:16,style:{marginBottom:24},children:[t.jsx(U,{span:4,children:t.jsx(J,{title:"Total Alerts",value:i.totalAlerts,prefix:t.jsx(Xn,{})})}),t.jsx(U,{span:4,children:t.jsx(J,{title:"Active",value:i.activeAlerts,valueStyle:{color:"#cf1322"}})}),t.jsx(U,{span:4,children:t.jsx(J,{title:"Critical",value:i.criticalAlerts,valueStyle:{color:"#cf1322"}})}),t.jsx(U,{span:4,children:t.jsx(J,{title:"Warning",value:i.warningAlerts,valueStyle:{color:"#fa8c16"}})}),t.jsx(U,{span:4,children:t.jsx(J,{title:"Acknowledged",value:i.acknowledgedAlerts,valueStyle:{color:"#fa8c16"}})}),t.jsx(U,{span:4,children:t.jsx(O,{type:"primary",icon:t.jsx(jn,{}),onClick:ht,children:"Evaluate Rules"})})]})},"overview"),t.jsxs(Bt,{tab:"Alert Rules",children:[t.jsx("div",{style:{marginBottom:16},children:t.jsx(O,{type:"primary",icon:t.jsx(Le,{}),onClick:Xe,children:"Create Alert Rule"})}),t.jsx(fe,{columns:M,dataSource:s,rowKey:"id",loading:o})]},"rules"),t.jsx(Bt,{tab:"Active Alerts",children:t.jsx(fe,{columns:we,dataSource:n.filter(b=>b.status===xt.Active),rowKey:"id",loading:o})},"alerts"),t.jsx(Bt,{tab:"All Alerts",children:t.jsx(fe,{columns:we,dataSource:n,rowKey:"id",loading:o})},"all-alerts"),t.jsx(Bt,{tab:t.jsxs(t.Fragment,{children:[t.jsx(Sn,{})," History & Comments"]}),children:t.jsxs("div",{style:{padding:"20px"},children:[t.jsx(pe.Title,{level:4,children:"Alert History & Comments"}),t.jsx(pe.Text,{type:"secondary",children:"Select an alert from the tables above to view its history and add comments."}),f&&t.jsxs("div",{style:{marginTop:"20px"},children:[t.jsxs(N,{title:`Alert ID: ${f.id}`,size:"small",children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Message:"})," ",f.message]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Status:"})," ",t.jsx(G,{color:g(f.status),children:f.status})]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Severity:"})," ",t.jsx(G,{color:Ee(f.severity),children:f.severity})]})]}),t.jsx(ys,{}),t.jsxs(ie,{gutter:16,children:[t.jsx(U,{span:12,children:t.jsx(N,{title:"History Timeline",size:"small",children:t.jsx(Kt,{children:T.map(b=>t.jsx(Kt.Item,{color:b.action==="Created"?"blue":b.action==="Resolved"?"green":"orange",children:t.jsxs("div",{children:[t.jsx("strong",{children:b.action}),t.jsx("br",{}),t.jsx("small",{children:new Date(b.timestamp).toLocaleString()}),b.description&&t.jsx("div",{style:{marginTop:"4px",fontSize:"12px",color:"#666"},children:b.description})]})},b.id))})})}),t.jsx(U,{span:12,children:t.jsxs(N,{title:"Comments",size:"small",children:[t.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:P.map(b=>t.jsxs("div",{style:{marginBottom:"12px",padding:"8px",backgroundColor:"#f9f9f9",borderRadius:"4px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[t.jsx(Is,{size:"small",icon:t.jsx(Qe,{})}),t.jsx("span",{style:{marginLeft:"8px",fontWeight:"bold"},children:b.createdBy}),t.jsx("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#666"},children:new Date(b.createdAt).toLocaleString()})]}),t.jsx("div",{children:b.comment}),b.commentType!=="General"&&t.jsx(G,{style:{marginTop:"4px"},children:b.commentType})]},b.id))}),t.jsx(ys,{}),t.jsxs(v,{layout:"inline",children:[t.jsx(v.Item,{style:{flex:1},children:t.jsx(L.TextArea,{placeholder:"Add a comment...",rows:2,onPressEnter:b=>{b.preventDefault();const Q=b.currentTarget.value.trim();Q&&f&&(Ae(f.id,Q),b.currentTarget.value="")}})}),t.jsx(v.Item,{children:t.jsx(O,{type:"primary",icon:t.jsx(bn,{}),onClick:()=>{const b=document.querySelector('textarea[placeholder="Add a comment..."]'),Q=b?.value.trim();Q&&f&&(Ae(f.id,Q),b.value="")},children:"Add"})})]})]})})]})]})]})},"history")]})})})}),t.jsx(ne,{title:h?"Edit Alert Rule":"Create Alert Rule",open:c,onOk:et,onCancel:()=>{p(!1),m(null),A.resetFields()},width:800,confirmLoading:o,children:t.jsxs(v,{form:A,layout:"vertical",initialValues:{condition:"gt",severity:It.Warning,enabled:!0,cooldownMinutes:5,notificationChannels:[Os.Email]},children:[t.jsxs(ie,{gutter:16,children:[t.jsx(U,{span:12,children:t.jsx(v.Item,{name:"name",label:"Name",rules:[{required:!0,message:"Please enter a name"}],children:t.jsx(L,{placeholder:"Alert rule name"})})}),t.jsx(U,{span:12,children:t.jsx(v.Item,{name:"type",label:"Type",rules:[{required:!0,message:"Please select a type"}],children:t.jsx(z,{placeholder:"Select alert type",children:Object.values(or).map(b=>t.jsx(gt,{value:b,children:b},b))})})})]}),t.jsx(v.Item,{name:"description",label:"Description",children:t.jsx(L.TextArea,{placeholder:"Optional description",rows:2})}),t.jsxs(ie,{gutter:16,children:[t.jsx(U,{span:8,children:t.jsx(v.Item,{name:"condition",label:"Condition",rules:[{required:!0,message:"Please select a condition"}],children:t.jsxs(z,{children:[t.jsx(gt,{value:"gt",children:"Greater than"}),t.jsx(gt,{value:"lt",children:"Less than"}),t.jsx(gt,{value:"eq",children:"Equal to"}),t.jsx(gt,{value:"ne",children:"Not equal to"})]})})}),t.jsx(U,{span:8,children:t.jsx(v.Item,{name:"threshold",label:"Threshold",rules:[{required:!0,message:"Please enter a threshold"}],children:t.jsx(L,{type:"number",placeholder:"Threshold value"})})}),t.jsx(U,{span:8,children:t.jsx(v.Item,{name:"severity",label:"Severity",rules:[{required:!0,message:"Please select severity"}],children:t.jsx(z,{children:Object.values(It).map(b=>t.jsx(gt,{value:b,children:b},b))})})})]}),t.jsxs(ie,{gutter:16,children:[t.jsx(U,{span:8,children:t.jsx(v.Item,{name:"enabled",label:"Enabled",valuePropName:"checked",children:t.jsx(nt,{})})}),t.jsx(U,{span:8,children:t.jsx(v.Item,{name:"cooldownMinutes",label:"Cooldown (minutes)",rules:[{required:!0,message:"Please enter cooldown minutes"}],children:t.jsx(L,{type:"number",min:1})})}),t.jsx(U,{span:8,children:t.jsx(v.Item,{name:"notificationChannels",label:"Notification Channels",rules:[{required:!0,message:"Please select notification channels"}],children:t.jsx(z,{mode:"multiple",placeholder:"Select channels",children:Object.values(Os).map(b=>t.jsx(gt,{value:b,children:b},b))})})})]}),t.jsx(v.Item,{name:"webhookUrl",label:"Webhook URL",children:t.jsx(L,{placeholder:"https://example.com/webhook"})}),t.jsx(v.Item,{name:"emailRecipients",label:"Email Recipients",children:t.jsx(z,{mode:"tags",placeholder:"Enter email addresses"})}),t.jsx(v.Item,{name:"slackWebhookUrl",label:"Slack Webhook URL",children:t.jsx(L,{placeholder:"https://hooks.slack.com/..."})})]})}),t.jsxs(ne,{title:`${x==="acknowledge"?"Acknowledge":"Resolve"} Alert`,open:_,onOk:de,onCancel:()=>{C(!1),X.resetFields()},confirmLoading:o,children:[f&&t.jsxs("div",{style:{marginBottom:"16px"},children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Alert:"})," ",f.message]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Current Status:"})," ",t.jsx(G,{color:g(f.status),children:f.status})]})]}),t.jsx(v,{form:X,layout:"vertical",children:t.jsx(v.Item,{name:"comment",label:`Comment (optional) - Why are you ${x==="acknowledge"?"acknowledging":"resolving"} this alert?`,children:t.jsx(L.TextArea,{placeholder:`Add a comment about ${x==="acknowledge"?"acknowledging":"resolving"} this alert...`,rows:3})})})]}),t.jsx(ne,{title:"Alert History & Comments",open:k,onCancel:()=>$(!1),width:1e3,footer:null,children:f&&t.jsxs("div",{children:[t.jsxs(N,{title:`Alert ID: ${f.id}`,size:"small",style:{marginBottom:"16px"},children:[t.jsxs("p",{children:[t.jsx("strong",{children:"Message:"})," ",f.message]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Status:"})," ",t.jsx(G,{color:g(f.status),children:f.status})]}),t.jsxs("p",{children:[t.jsx("strong",{children:"Severity:"})," ",t.jsx(G,{color:Ee(f.severity),children:f.severity})]})]}),t.jsxs(ie,{gutter:16,children:[t.jsx(U,{span:12,children:t.jsx(N,{title:"History Timeline",size:"small",children:t.jsx(Kt,{children:T.map(b=>t.jsx(Kt.Item,{color:b.action==="Created"?"blue":b.action==="Resolved"?"green":"orange",children:t.jsxs("div",{children:[t.jsx("strong",{children:b.action}),t.jsx("br",{}),t.jsx("small",{children:new Date(b.timestamp).toLocaleString()}),b.description&&t.jsx("div",{style:{marginTop:"4px",fontSize:"12px",color:"#666"},children:b.description})]})},b.id))})})}),t.jsx(U,{span:12,children:t.jsxs(N,{title:"Comments",size:"small",children:[t.jsx("div",{style:{maxHeight:"300px",overflowY:"auto"},children:P.map(b=>t.jsxs("div",{style:{marginBottom:"12px",padding:"8px",backgroundColor:"#f9f9f9",borderRadius:"4px"},children:[t.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"4px"},children:[t.jsx(Is,{size:"small",icon:t.jsx(Qe,{})}),t.jsx("span",{style:{marginLeft:"8px",fontWeight:"bold"},children:b.createdBy}),t.jsx("span",{style:{marginLeft:"8px",fontSize:"12px",color:"#666"},children:new Date(b.createdAt).toLocaleString()})]}),t.jsx("div",{children:b.comment}),b.commentType!=="General"&&t.jsx(G,{style:{marginTop:"4px"},children:b.commentType})]},b.id))}),t.jsx(ys,{}),t.jsxs(v,{layout:"inline",children:[t.jsx(v.Item,{style:{flex:1},children:t.jsx(L.TextArea,{placeholder:"Add a comment...",rows:2,onPressEnter:b=>{b.preventDefault();const Q=b.currentTarget.value.trim();Q&&f&&(Ae(f.id,Q),b.currentTarget.value="")}})}),t.jsx(v.Item,{children:t.jsx(O,{type:"primary",icon:t.jsx(bn,{}),onClick:()=>{const b=document.querySelector('textarea[placeholder="Add a comment..."]'),Q=b?.value.trim();Q&&f&&(Ae(f.id,Q),b.value="")},children:"Add"})})]})]})})]})]})})]})},{Content:Tl}=Lt;function $l(){const[s,e]=l.useState(!1);return t.jsxs(Lt,{style:{minHeight:"100vh"},children:[t.jsx(wo,{collapsed:s,setCollapsed:e}),t.jsxs(Lt,{style:{marginLeft:s?80:200,transition:"margin-left 0.2s"},children:[t.jsx(Co,{collapsed:s,setCollapsed:e}),t.jsx(Tl,{style:{padding:"24px",backgroundColor:"#f0f2f5",minHeight:"calc(100vh - 64px)"},children:t.jsxs(qn,{children:[t.jsx(xe,{path:"/",element:t.jsx(Pe,{children:t.jsx(Pn,{})})}),t.jsx(xe,{path:"/dashboard",element:t.jsx(Pe,{children:t.jsx(Pn,{})})}),t.jsx(xe,{path:"/servers",element:t.jsx(Pe,{children:t.jsx(yl,{})})}),t.jsx(xe,{path:"/domains",element:t.jsx(Pe,{children:t.jsx(bl,{})})}),t.jsx(xe,{path:"/emails",element:t.jsx(Pe,{children:t.jsx(Pl,{})})}),t.jsx(xe,{path:"/databases",element:t.jsx(Pe,{children:t.jsx(wl,{})})}),t.jsx(xe,{path:"/files",element:t.jsx(Pe,{children:t.jsx(_l,{})})}),t.jsx(xe,{path:"/monitoring",element:t.jsx(Pe,{children:t.jsx(kl,{})})}),t.jsx(xe,{path:"/backups",element:t.jsx(Pe,{children:t.jsx(Rl,{})})}),t.jsx(xe,{path:"/alerts",element:t.jsx(Pe,{children:t.jsx(Ml,{})})}),t.jsx(xe,{path:"/users",element:t.jsx(Ki,{children:t.jsx(Il,{})})}),t.jsx(xe,{path:"/ssl-certificates",element:t.jsx(Pe,{children:t.jsx(Al,{})})})]})})]})]})}function Fl(){return t.jsx(Qi,{children:t.jsxs(qn,{children:[t.jsx(xe,{path:"/login",element:t.jsx(ko,{})}),t.jsx(xe,{path:"/register",element:t.jsx(Ao,{})}),t.jsx(xe,{path:"/*",element:t.jsx($l,{})})]})})}const Ol=new qi({defaultOptions:{queries:{refetchOnWindowFocus:!1,retry:1,staleTime:300*1e3}}});_r.createRoot(document.getElementById("root")).render(t.jsx(yr.StrictMode,{children:t.jsx(Wi,{client:Ol,children:t.jsx(vr,{theme:{algorithm:br.darkAlgorithm,token:{colorPrimary:"#1890ff"}},children:t.jsx(wi,{children:t.jsx(Fl,{})})})})}));

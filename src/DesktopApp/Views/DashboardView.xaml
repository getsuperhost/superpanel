<UserControl x:Class="SuperPanel.DesktopApp.Views.DashboardView"
             xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
             xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
             xmlns:ui="http://schemas.modernwpf.com/2019">
    <ScrollViewer>
        <StackPanel Margin="20">
            <TextBlock Text="Dashboard" FontSize="28" FontWeight="Bold" Margin="0,0,0,20"/>
            
            <!-- Quick Stats Cards -->
            <Grid Margin="0,0,0,20">
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- CPU Card -->
                <Border Grid.Column="0" Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}" 
                        CornerRadius="5" Margin="0,0,10,0" Padding="15">
                    <StackPanel>
                        <TextBlock Text="CPU Usage" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="{Binding SystemInfo.CpuUsagePercent, StringFormat='{0:F1}%'}" 
                                   FontSize="24" FontWeight="Bold" Foreground="#4CAF50"/>
                        <ProgressBar Value="{Binding SystemInfo.CpuUsagePercent}" Maximum="100" Height="8" Margin="0,5,0,0"/>
                    </StackPanel>
                </Border>
                
                <!-- Memory Card -->
                <Border Grid.Column="1" Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}" 
                        CornerRadius="5" Margin="5,0" Padding="15">
                    <StackPanel>
                        <TextBlock Text="Memory" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="{Binding SystemInfo.AvailableMemoryMB, StringFormat='{0} MB'}" 
                                   FontSize="24" FontWeight="Bold" Foreground="#2196F3"/>
                        <TextBlock Text="Available" FontSize="12" Foreground="Gray"/>
                    </StackPanel>
                </Border>
                
                <!-- Server Status Card -->
                <Border Grid.Column="2" Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}" 
                        CornerRadius="5" Margin="5,0" Padding="15">
                    <StackPanel>
                        <TextBlock Text="Server Status" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="Online" FontSize="24" FontWeight="Bold" Foreground="#4CAF50"/>
                        <TextBlock Text="{Binding SystemInfo.ServerName}" FontSize="12" Foreground="Gray"/>
                    </StackPanel>
                </Border>
                
                <!-- Uptime Card -->
                <Border Grid.Column="3" Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}" 
                        CornerRadius="5" Margin="10,0,0,0" Padding="15">
                    <StackPanel>
                        <TextBlock Text="Last Updated" FontWeight="Bold" Margin="0,0,0,5"/>
                        <TextBlock Text="{Binding SystemInfo.LastUpdated, StringFormat='{0:HH:mm:ss}'}" 
                                   FontSize="24" FontWeight="Bold" Foreground="#FF9800"/>
                        <TextBlock Text="Today" FontSize="12" Foreground="Gray"/>
                    </StackPanel>
                </Border>
            </Grid>
            
            <!-- Recent Activity and System Overview -->
            <Grid>
                <Grid.ColumnDefinitions>
                    <ColumnDefinition Width="2*"/>
                    <ColumnDefinition Width="*"/>
                </Grid.ColumnDefinitions>
                
                <!-- Drive Usage -->
                <Border Grid.Column="0" Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}" 
                        CornerRadius="5" Margin="0,0,10,0" Padding="20">
                    <StackPanel>
                        <TextBlock Text="Drive Usage" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                        
                        <ItemsControl ItemsSource="{Binding SystemInfo.Drives}">
                            <ItemsControl.ItemTemplate>
                                <DataTemplate>
                                    <Grid Margin="0,0,0,10">
                                        <Grid.ColumnDefinitions>
                                            <ColumnDefinition Width="Auto"/>
                                            <ColumnDefinition Width="*"/>
                                            <ColumnDefinition Width="Auto"/>
                                        </Grid.ColumnDefinitions>
                                        
                                        <TextBlock Grid.Column="0" Text="{Binding Name}" FontWeight="Bold" VerticalAlignment="Center" Margin="0,0,10,0"/>
                                        <ProgressBar Grid.Column="1" Value="{Binding UsagePercent}" Maximum="100" Height="8" VerticalAlignment="Center"/>
                                        <TextBlock Grid.Column="2" Text="{Binding UsagePercent, StringFormat='{0:F1}%'}" VerticalAlignment="Center" Margin="10,0,0,0"/>
                                    </Grid>
                                </DataTemplate>
                            </ItemsControl.ItemTemplate>
                        </ItemsControl>
                    </StackPanel>
                </Border>
                
                <!-- Top Processes -->
                <Border Grid.Column="1" Background="{DynamicResource SystemControlBackgroundChromeMediumBrush}" 
                        CornerRadius="5" Margin="10,0,0,0" Padding="20">
                    <StackPanel>
                        <TextBlock Text="Top Processes" FontSize="18" FontWeight="Bold" Margin="0,0,0,15"/>
                        
                        <ListView ItemsSource="{Binding SystemInfo.TopProcesses}" 
                                  Background="Transparent" 
                                  BorderThickness="0"
                                  MaxHeight="300">
                            <ListView.View>
                                <GridView>
                                    <GridViewColumn Header="Process" DisplayMemberBinding="{Binding Name}" Width="120"/>
                                    <GridViewColumn Header="Memory (MB)" DisplayMemberBinding="{Binding MemoryMB}" Width="80"/>
                                </GridView>
                            </ListView.View>
                        </ListView>
                    </StackPanel>
                </Border>
            </Grid>
        </StackPanel>
    </ScrollViewer>
</UserControl>